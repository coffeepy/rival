// @bun
var yE=Object.create;var{getPrototypeOf:lE,defineProperty:BQ,getOwnPropertyNames:cE}=Object;var iE=Object.prototype.hasOwnProperty;var t$=($,U,X)=>{X=$!=null?yE(lE($)):{};let G=U||!$||!$.__esModule?BQ(X,"default",{value:$,enumerable:!0}):X;for(let J of cE($))if(!iE.call(G,J))BQ(G,J,{get:()=>$[J],enumerable:!0});return G};var z$=($,U)=>()=>(U||$((U={exports:{}}).exports,U),U.exports);var H6=($,U)=>{for(var X in U)BQ($,X,{get:U[X],enumerable:!0,configurable:!0,set:(G)=>U[X]=()=>G})};var WX=($,U)=>()=>($&&(U=$($=0)),U);var Z$=import.meta.require;var TQ=z$((cr,N_)=>{var E2=($)=>{return $&&typeof $.message==="string"},RQ=($)=>{if(!$)return;let U=$.cause;if(typeof U==="function"){let X=$.cause();return E2(X)?X:void 0}else return E2(U)?U:void 0},Q_=($,U)=>{if(!E2($))return"";let X=$.stack||"";if(U.has($))return X+`
causes have become circular...`;let G=RQ($);if(G)return U.add($),X+`
caused by: `+Q_(G,U);else return X},wS=($)=>Q_($,new Set),w_=($,U,X)=>{if(!E2($))return"";let G=X?"":$.message||"";if(U.has($))return G+": ...";let J=RQ($);if(J){U.add($);let Y=typeof $.cause==="function";return G+(Y?"":": ")+w_(J,U,Y)}else return G},NS=($)=>w_($,new Set);N_.exports={isErrorLike:E2,getErrorCause:RQ,stackWithCauses:wS,messageWithCauses:NS}});var kQ=z$((ir,H_)=>{var jS=Symbol("circular-ref-tag"),EX=Symbol("pino-raw-err-ref"),j_=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[EX]},set:function($){this[EX]=$}}});Object.defineProperty(j_,EX,{writable:!0,value:{}});H_.exports={pinoErrProto:j_,pinoErrorSymbols:{seen:jS,rawSymbol:EX}}});var O_=z$((nr,K_)=>{K_.exports=xQ;var{messageWithCauses:HS,stackWithCauses:WS,isErrorLike:W_}=TQ(),{pinoErrProto:KS,pinoErrorSymbols:OS}=kQ(),{seen:CQ}=OS,{toString:zS}=Object.prototype;function xQ($){if(!W_($))return $;$[CQ]=void 0;let U=Object.create(KS);if(U.type=zS.call($.constructor)==="[object Function]"?$.constructor.name:$.name,U.message=HS($),U.stack=WS($),Array.isArray($.errors))U.aggregateErrors=$.errors.map((X)=>xQ(X));for(let X in $)if(U[X]===void 0){let G=$[X];if(W_(G)){if(X!=="cause"&&!Object.prototype.hasOwnProperty.call(G,CQ))U[X]=xQ(G)}else U[X]=G}return delete $[CQ],U.raw=$,U}});var D_=z$((pr,z_)=>{z_.exports=ZX;var{isErrorLike:fQ}=TQ(),{pinoErrProto:DS,pinoErrorSymbols:VS}=kQ(),{seen:SX}=VS,{toString:BS}=Object.prototype;function ZX($){if(!fQ($))return $;$[SX]=void 0;let U=Object.create(DS);if(U.type=BS.call($.constructor)==="[object Function]"?$.constructor.name:$.name,U.message=$.message,U.stack=$.stack,Array.isArray($.errors))U.aggregateErrors=$.errors.map((X)=>ZX(X));if(fQ($.cause)&&!Object.prototype.hasOwnProperty.call($.cause,SX))U.cause=ZX($.cause);for(let X in $)if(U[X]===void 0){let G=$[X];if(fQ(G)){if(!Object.prototype.hasOwnProperty.call(G,SX))U[X]=ZX(G)}else U[X]=G}return delete $[SX],U.raw=$,U}});var M_=z$((dr,__)=>{__.exports={mapHttpRequest:_S,reqSerializer:B_};var hQ=Symbol("pino-raw-req-ref"),V_=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[hQ]},set:function($){this[hQ]=$}}});Object.defineProperty(V_,hQ,{writable:!0,value:{}});function B_($){let U=$.info||$.socket,X=Object.create(V_);if(X.id=typeof $.id==="function"?$.id():$.id||($.info?$.info.id:void 0),X.method=$.method,$.originalUrl)X.url=$.originalUrl;else{let G=$.path;X.url=typeof G==="string"?G:$.url?$.url.path||$.url:void 0}if($.query)X.query=$.query;if($.params)X.params=$.params;return X.headers=$.headers,X.remoteAddress=U&&U.remoteAddress,X.remotePort=U&&U.remotePort,X.raw=$.raw||$,X}function _S($){return{req:B_($)}}});var q_=z$((or,A_)=>{A_.exports={mapHttpResponse:MS,resSerializer:L_};var gQ=Symbol("pino-raw-res-ref"),F_=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[gQ]},set:function($){this[gQ]=$}}});Object.defineProperty(F_,gQ,{writable:!0,value:{}});function L_($){let U=Object.create(F_);return U.statusCode=$.headersSent?$.statusCode:null,U.headers=$.getHeaders?$.getHeaders():$._headers,U.raw=$,U}function MS($){return{res:L_($)}}});var mQ=z$((rr,v_)=>{var bQ=O_(),FS=D_(),IX=M_(),RX=q_();v_.exports={err:bQ,errWithCause:FS,mapHttpRequest:IX.mapHttpRequest,mapHttpResponse:RX.mapHttpResponse,req:IX.reqSerializer,res:RX.resSerializer,wrapErrorSerializer:function(U){if(U===bQ)return U;return function(G){return U(bQ(G))}},wrapRequestSerializer:function(U){if(U===IX.reqSerializer)return U;return function(G){return U(IX.reqSerializer(G))}},wrapResponseSerializer:function(U){if(U===RX.resSerializer)return U;return function(G){return U(RX.resSerializer(G))}}}});var uQ=z$((tr,P_)=>{function LS($,U){return U}P_.exports=function(){let U=Error.prepareStackTrace;Error.prepareStackTrace=LS;let X=Error().stack;if(Error.prepareStackTrace=U,!Array.isArray(X))return;let G=X.slice(2),J=[];for(let Y of G){if(!Y)continue;J.push(Y.getFileName())}return J}});var T_=z$((ar,R_)=>{function yQ($){if($===null||typeof $!=="object")return $;if($ instanceof Date)return new Date($.getTime());if($ instanceof Array){let U=[];for(let X=0;X<$.length;X++)U[X]=yQ($[X]);return U}if(typeof $==="object"){let U=Object.create(Object.getPrototypeOf($));for(let X in $)if(Object.prototype.hasOwnProperty.call($,X))U[X]=yQ($[X]);return U}return $}function E_($){let U=[],X="",G=!1,J=!1,Y="";for(let Q=0;Q<$.length;Q++){let w=$[Q];if(!G&&w==="."){if(X)U.push(X),X=""}else if(w==="["){if(X)U.push(X),X="";G=!0}else if(w==="]"&&G)U.push(X),X="",G=!1,J=!1;else if((w==='"'||w==="'")&&G)if(!J)J=!0,Y=w;else if(w===Y)J=!1,Y="";else X+=w;else X+=w}if(X)U.push(X);return U}function S_($,U,X){let G=$;for(let Y=0;Y<U.length-1;Y++){let Q=U[Y];if(typeof G!=="object"||G===null||!(Q in G))return!1;if(typeof G[Q]!=="object"||G[Q]===null)return!1;G=G[Q]}let J=U[U.length-1];if(J==="*"){if(Array.isArray(G))for(let Y=0;Y<G.length;Y++)G[Y]=X;else if(typeof G==="object"&&G!==null){for(let Y in G)if(Object.prototype.hasOwnProperty.call(G,Y))G[Y]=X}}else if(typeof G==="object"&&G!==null&&J in G&&Object.prototype.hasOwnProperty.call(G,J))G[J]=X;return!0}function Z_($,U){let X=$;for(let J=0;J<U.length-1;J++){let Y=U[J];if(typeof X!=="object"||X===null||!(Y in X))return!1;if(typeof X[Y]!=="object"||X[Y]===null)return!1;X=X[Y]}let G=U[U.length-1];if(G==="*"){if(Array.isArray(X))for(let J=0;J<X.length;J++)X[J]=void 0;else if(typeof X==="object"&&X!==null){for(let J in X)if(Object.prototype.hasOwnProperty.call(X,J))delete X[J]}}else if(typeof X==="object"&&X!==null&&G in X&&Object.prototype.hasOwnProperty.call(X,G))delete X[G];return!0}var TX=Symbol("PATH_NOT_FOUND");function AS($,U){let X=$;for(let G of U){if(X===null||X===void 0)return TX;if(typeof X!=="object"||X===null)return TX;if(!(G in X))return TX;X=X[G]}return X}function qS($,U){let X=$;for(let G of U){if(X===null||X===void 0)return;if(typeof X!=="object"||X===null)return;X=X[G]}return X}function vS($,U,X,G=!1){for(let J of U){let Y=E_(J);if(Y.includes("*"))I_($,Y,X,J,G);else if(G)Z_($,Y);else{let Q=AS($,Y);if(Q===TX)continue;let w=typeof X==="function"?X(Q,Y):X;S_($,Y,w)}}}function I_($,U,X,G,J=!1){let Y=U.indexOf("*");if(Y===U.length-1){let Q=U.slice(0,-1),w=$;for(let N of Q){if(w===null||w===void 0)return;if(typeof w!=="object"||w===null)return;w=w[N]}if(Array.isArray(w))if(J)for(let N=0;N<w.length;N++)w[N]=void 0;else for(let N=0;N<w.length;N++){let j=[...Q,N.toString()],H=typeof X==="function"?X(w[N],j):X;w[N]=H}else if(typeof w==="object"&&w!==null)if(J){let N=[];for(let j in w)if(Object.prototype.hasOwnProperty.call(w,j))N.push(j);for(let j of N)delete w[j]}else for(let N in w){let j=[...Q,N],H=typeof X==="function"?X(w[N],j):X;w[N]=H}}else PS($,U,X,Y,G,J)}function PS($,U,X,G,J,Y=!1){let Q=U.slice(0,G),w=U.slice(G+1),N=[];function j(H,K){if(K===Q.length){if(Array.isArray(H))for(let z=0;z<H.length;z++)N[K]=z.toString(),j(H[z],K+1);else if(typeof H==="object"&&H!==null)for(let z in H)N[K]=z,j(H[z],K+1)}else if(K<Q.length){let z=Q[K];if(H&&typeof H==="object"&&H!==null&&z in H)N[K]=z,j(H[z],K+1)}else if(w.includes("*"))I_(H,w,typeof X==="function"?(W,O)=>{let D=[...N.slice(0,K),...O];return X(W,D)}:X,J,Y);else if(Y)Z_(H,w);else{let z=typeof X==="function"?X(qS(H,w),[...N.slice(0,K),...w]):X;S_(H,w,z)}}if(Q.length===0)j($,0);else{let H=$;for(let K=0;K<Q.length;K++){let z=Q[K];if(H===null||H===void 0)return;if(typeof H!=="object"||H===null)return;H=H[z],N[K]=z}if(H!==null&&H!==void 0)j(H,Q.length)}}function ES($){if($.length===0)return null;let U=new Map;for(let X of $){let G=E_(X),J=U;for(let Y=0;Y<G.length;Y++){let Q=G[Y];if(!J.has(Q))J.set(Q,new Map);J=J.get(Q)}}return U}function SS($,U){if(!U)return $;function X(G,J,Y=0){if(!J||J.size===0)return G;if(G===null||typeof G!=="object")return G;if(G instanceof Date)return new Date(G.getTime());if(Array.isArray(G)){let w=[];for(let N=0;N<G.length;N++){let j=N.toString();if(J.has(j)||J.has("*"))w[N]=X(G[N],J.get(j)||J.get("*"));else w[N]=G[N]}return w}let Q=Object.create(Object.getPrototypeOf(G));for(let w in G)if(Object.prototype.hasOwnProperty.call(G,w))if(J.has(w)||J.has("*"))Q[w]=X(G[w],J.get(w)||J.get("*"));else Q[w]=G[w];return Q}return X($,U)}function ZS($){if(typeof $!=="string")throw Error("Paths must be (non-empty) strings");if($==="")throw Error("Invalid redaction path ()");if($.includes(".."))throw Error(`Invalid redaction path (${$})`);if($.includes(","))throw Error(`Invalid redaction path (${$})`);let U=0,X=!1,G="";for(let J=0;J<$.length;J++){let Y=$[J];if((Y==='"'||Y==="'")&&U>0){if(!X)X=!0,G=Y;else if(Y===G)X=!1,G=""}else if(Y==="["&&!X)U++;else if(Y==="]"&&!X){if(U--,U<0)throw Error(`Invalid redaction path (${$})`)}}if(U!==0)throw Error(`Invalid redaction path (${$})`)}function IS($){if(!Array.isArray($))throw TypeError("paths must be an array");for(let U of $)ZS(U)}function RS($={}){let{paths:U=[],censor:X="[REDACTED]",serialize:G=JSON.stringify,strict:J=!0,remove:Y=!1}=$;IS(U);let Q=ES(U);return function(N){if(J&&(N===null||typeof N!=="object")){if(N===null||N===void 0)return G?G(N):N;if(typeof N!=="object")return G?G(N):N}let j=SS(N,Q),H=N,K=X;if(typeof X==="function")K=X;if(vS(j,U,K,Y),G===!1)return j.restore=function(){return yQ(H)},j;if(typeof G==="function")return G(j);return JSON.stringify(j)}}R_.exports=RS});var a0=z$((sr,k_)=>{var TS=Symbol("pino.setLevel"),kS=Symbol("pino.getLevel"),CS=Symbol("pino.levelVal"),xS=Symbol("pino.levelComp"),fS=Symbol("pino.useLevelLabels"),hS=Symbol("pino.useOnlyCustomLevels"),gS=Symbol("pino.mixin"),bS=Symbol("pino.lsCache"),mS=Symbol("pino.chindings"),uS=Symbol("pino.asJson"),yS=Symbol("pino.write"),lS=Symbol("pino.redactFmt"),cS=Symbol("pino.time"),iS=Symbol("pino.timeSliceIndex"),nS=Symbol("pino.stream"),pS=Symbol("pino.stringify"),dS=Symbol("pino.stringifySafe"),oS=Symbol("pino.stringifiers"),rS=Symbol("pino.end"),tS=Symbol("pino.formatOpts"),aS=Symbol("pino.messageKey"),sS=Symbol("pino.errorKey"),eS=Symbol("pino.nestedKey"),$Z=Symbol("pino.nestedKeyStr"),UZ=Symbol("pino.mixinMergeStrategy"),JZ=Symbol("pino.msgPrefix"),XZ=Symbol("pino.wildcardFirst"),GZ=Symbol.for("pino.serializers"),YZ=Symbol.for("pino.formatters"),QZ=Symbol.for("pino.hooks"),wZ=Symbol.for("pino.metadata");k_.exports={setLevelSym:TS,getLevelSym:kS,levelValSym:CS,levelCompSym:xS,useLevelLabelsSym:fS,mixinSym:gS,lsCacheSym:bS,chindingsSym:mS,asJsonSym:uS,writeSym:yS,serializersSym:GZ,redactFmtSym:lS,timeSym:cS,timeSliceIndexSym:iS,streamSym:nS,stringifySym:pS,stringifySafeSym:dS,stringifiersSym:oS,endSym:rS,formatOptsSym:tS,messageKeySym:aS,errorKeySym:sS,nestedKeySym:eS,wildcardFirstSym:XZ,needsMetadataGsym:wZ,useOnlyCustomLevelsSym:hS,formattersSym:YZ,hooksSym:QZ,nestedKeyStrSym:$Z,mixinMergeStrategySym:UZ,msgPrefixSym:JZ}});var cQ=z$((er,x_)=>{var C_=T_(),{redactFmtSym:NZ,wildcardFirstSym:kX}=a0(),lQ=/[^.[\]]+|\[([^[\]]*?)\]/g;function jZ($,U){let{paths:X,censor:G,remove:J}=HZ($),Y=X.reduce((N,j)=>{lQ.lastIndex=0;let H=lQ.exec(j),K=lQ.exec(j),z=H[1]!==void 0?H[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):H[0];if(z==="*")z=kX;if(K===null)return N[z]=null,N;if(N[z]===null)return N;let{index:W}=K,O=`${j.substr(W,j.length-1)}`;if(N[z]=N[z]||[],z!==kX&&N[z].length===0)N[z].push(...N[kX]||[]);if(z===kX)Object.keys(N).forEach(function(D){if(N[D])N[D].push(O)});return N[z].push(O),N},{}),Q={[NZ]:C_({paths:X,censor:G,serialize:U,strict:!1,remove:J})},w=(...N)=>{return typeof G==="function"?U(G(...N)):U(G)};return[...Object.keys(Y),...Object.getOwnPropertySymbols(Y)].reduce((N,j)=>{if(Y[j]===null)N[j]=(H)=>w(H,[j]);else{let H=typeof G==="function"?(K,z)=>{return G(K,[j,...z])}:G;N[j]=C_({paths:Y[j],censor:H,serialize:U,strict:!1,remove:J})}return N},Q)}function HZ($){if(Array.isArray($))return $={paths:$,censor:"[Redacted]"},$;let{paths:U,censor:X="[Redacted]",remove:G}=$;if(Array.isArray(U)===!1)throw Error("pino \u2013 redact must contain an array of strings");if(G===!0)X=void 0;return{paths:U,censor:X,remove:G}}x_.exports=jZ});var g_=z$(($t,h_)=>{var WZ=()=>"",KZ=()=>`,"time":${Date.now()}`,OZ=()=>`,"time":${Math.round(Date.now()/1000)}`,zZ=()=>`,"time":"${new Date(Date.now()).toISOString()}"`,DZ=1000000n,f_=1000000000n,VZ=BigInt(Date.now())*DZ,BZ=process.hrtime.bigint(),_Z=()=>{let $=process.hrtime.bigint()-BZ,U=VZ+$,X=U/f_,G=U%f_,J=Number(X*1000n+G/1000000n),Y=new Date(J),Q=Y.getUTCFullYear(),w=(Y.getUTCMonth()+1).toString().padStart(2,"0"),N=Y.getUTCDate().toString().padStart(2,"0"),j=Y.getUTCHours().toString().padStart(2,"0"),H=Y.getUTCMinutes().toString().padStart(2,"0"),K=Y.getUTCSeconds().toString().padStart(2,"0");return`,"time":"${Q}-${w}-${N}T${j}:${H}:${K}.${G.toString().padStart(9,"0")}Z"`};h_.exports={nullTime:WZ,epochTime:KZ,unixTime:OZ,isoTime:zZ,isoTimeNano:_Z}});var m_=z$((Ut,b_)=>{function MZ($){try{return JSON.stringify($)}catch(U){return'"[Circular]"'}}b_.exports=FZ;function FZ($,U,X){var G=X&&X.stringify||MZ,J=1;if(typeof $==="object"&&$!==null){var Y=U.length+J;if(Y===1)return $;var Q=Array(Y);Q[0]=G($);for(var w=1;w<Y;w++)Q[w]=G(U[w]);return Q.join(" ")}if(typeof $!=="string")return $;var N=U.length;if(N===0)return $;var j="",H=1-J,K=-1,z=$&&$.length||0;for(var W=0;W<z;){if($.charCodeAt(W)===37&&W+1<z){switch(K=K>-1?K:0,$.charCodeAt(W+1)){case 100:case 102:if(H>=N)break;if(U[H]==null)break;if(K<W)j+=$.slice(K,W);j+=Number(U[H]),K=W+2,W++;break;case 105:if(H>=N)break;if(U[H]==null)break;if(K<W)j+=$.slice(K,W);j+=Math.floor(Number(U[H])),K=W+2,W++;break;case 79:case 111:case 106:if(H>=N)break;if(U[H]===void 0)break;if(K<W)j+=$.slice(K,W);var O=typeof U[H];if(O==="string"){j+="'"+U[H]+"'",K=W+2,W++;break}if(O==="function"){j+=U[H].name||"<anonymous>",K=W+2,W++;break}j+=G(U[H]),K=W+2,W++;break;case 115:if(H>=N)break;if(K<W)j+=$.slice(K,W);j+=String(U[H]),K=W+2,W++;break;case 37:if(K<W)j+=$.slice(K,W);j+="%",K=W+2,W++,H--;break}++H}++W}if(K===-1)return $;else if(K<z)j+=$.slice(K);return j}});var nQ=z$((Jt,iQ)=>{if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let U=function(X){if((X>0&&X<1/0)===!1){if(typeof X!=="number"&&typeof X!=="bigint")throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait($,0,0,Number(X))},$=new Int32Array(new SharedArrayBuffer(4));iQ.exports=U}else{let $=function(U){if((U>0&&U<1/0)===!1){if(typeof U!=="number"&&typeof U!=="bigint")throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let G=Date.now()+Number(U);while(G>Date.now());};iQ.exports=$}});var n_=z$((Xt,i_)=>{var $6=Z$("fs"),LZ=Z$("events"),AZ=Z$("util").inherits,u_=Z$("path"),dQ=nQ(),qZ=Z$("assert"),CX=Buffer.allocUnsafe(0),[vZ,PZ]=(process.versions.node||"0.0").split(".").map(Number),EZ=vZ>=22&&PZ>=7;function y_($,U){U._opening=!0,U._writing=!0,U._asyncDrainScheduled=!1;function X(Y,Q){if(Y){if(U._reopening=!1,U._writing=!1,U._opening=!1,U.sync)process.nextTick(()=>{if(U.listenerCount("error")>0)U.emit("error",Y)});else U.emit("error",Y);return}let w=U._reopening;if(U.fd=Q,U.file=$,U._reopening=!1,U._opening=!1,U._writing=!1,U.sync)process.nextTick(()=>U.emit("ready"));else U.emit("ready");if(U.destroyed)return;if(!U._writing&&U._len>U.minLength||U._flushPending)U._actualWrite();else if(w)process.nextTick(()=>U.emit("drain"))}let G=U.append?"a":"w",J=U.mode;if(U.sync)try{if(U.mkdir)$6.mkdirSync(u_.dirname($),{recursive:!0});let Y=$6.openSync($,G,J);X(null,Y)}catch(Y){throw X(Y),Y}else if(U.mkdir)$6.mkdir(u_.dirname($),{recursive:!0},(Y)=>{if(Y)return X(Y);$6.open($,G,J,X)});else $6.open($,G,J,X)}function D4($){if(!(this instanceof D4))return new D4($);let{fd:U,dest:X,minLength:G,maxLength:J,maxWrite:Y,periodicFlush:Q,sync:w,append:N=!0,mkdir:j,retryEAGAIN:H,fsync:K,contentMode:z,mode:W}=$||{};U=U||X,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(G||0,16387),this.file=null,this.destroyed=!1,this.minLength=G||0,this.maxLength=J||0,this.maxWrite=Y||16384,this._periodicFlush=Q||0,this._periodicFlushTimer=void 0,this.sync=w||!1,this.writable=!0,this._fsync=K||!1,this.append=N||!1,this.mode=W,this.retryEAGAIN=H||(()=>!0),this.mkdir=j||!1;let O,D;if(z==="buffer")this._writingBuf=CX,this.write=IZ,this.flush=TZ,this.flushSync=CZ,this._actualWrite=fZ,O=()=>$6.writeSync(this.fd,this._writingBuf),D=()=>$6.write(this.fd,this._writingBuf,this.release);else if(z===void 0||z==="utf8")this._writingBuf="",this.write=ZZ,this.flush=RZ,this.flushSync=kZ,this._actualWrite=xZ,O=()=>$6.writeSync(this.fd,this._writingBuf,"utf8"),D=()=>$6.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "utf8" and "buffer", but passed ${z}`);if(typeof U==="number")this.fd=U,process.nextTick(()=>this.emit("ready"));else if(typeof U==="string")y_(U,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);if(this.release=(B,v)=>{if(B){if((B.code==="EAGAIN"||B.code==="EBUSY")&&this.retryEAGAIN(B,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{dQ(100),this.release(void 0,0)}catch(M){this.release(M)}else setTimeout(D,100);else this._writing=!1,this.emit("error",B);return}this.emit("write",v);let E=pQ(this._writingBuf,this._len,v);if(this._len=E.len,this._writingBuf=E.writingBuf,this._writingBuf.length){if(!this.sync){D();return}try{do{let M=O(),I=pQ(this._writingBuf,this._len,M);this._len=I.len,this._writingBuf=I.writingBuf}while(this._writingBuf.length)}catch(M){this.release(M);return}}if(this._fsync)$6.fsyncSync(this.fd);let L=this._len;if(this._reopening)this._writing=!1,this._reopening=!1,this.reopen();else if(L>this.minLength)this._actualWrite();else if(this._ending)if(L>0)this._actualWrite();else this._writing=!1,xX(this);else if(this._writing=!1,this.sync){if(!this._asyncDrainScheduled)this._asyncDrainScheduled=!0,process.nextTick(SZ,this)}else this.emit("drain")},this.on("newListener",function(B){if(B==="drain")this._asyncDrainScheduled=!1}),this._periodicFlush!==0)this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref()}function pQ($,U,X){if(typeof $==="string"&&Buffer.byteLength($)!==X)X=Buffer.from($).subarray(0,X).toString().length;return U=Math.max(U-X,0),$=$.slice(X),{writingBuf:$,len:U}}function SZ($){if(!($.listenerCount("drain")>0))return;$._asyncDrainScheduled=!1,$.emit("drain")}AZ(D4,LZ);function l_($,U){if($.length===0)return CX;if($.length===1)return $[0];return Buffer.concat($,U)}function ZZ($){if(this.destroyed)throw Error("SonicBoom destroyed");let U=this._len+$.length,X=this._bufs;if(this.maxLength&&U>this.maxLength)return this.emit("drop",$),this._len<this._hwm;if(X.length===0||X[X.length-1].length+$.length>this.maxWrite)X.push(""+$);else X[X.length-1]+=$;if(this._len=U,!this._writing&&this._len>=this.minLength)this._actualWrite();return this._len<this._hwm}function IZ($){if(this.destroyed)throw Error("SonicBoom destroyed");let U=this._len+$.length,X=this._bufs,G=this._lens;if(this.maxLength&&U>this.maxLength)return this.emit("drop",$),this._len<this._hwm;if(X.length===0||G[G.length-1]+$.length>this.maxWrite)X.push([$]),G.push($.length);else X[X.length-1].push($),G[G.length-1]+=$.length;if(this._len=U,!this._writing&&this._len>=this.minLength)this._actualWrite();return this._len<this._hwm}function c_($){this._flushPending=!0;let U=()=>{if(!this._fsync)try{$6.fsync(this.fd,(G)=>{this._flushPending=!1,$(G)})}catch(G){$(G)}else this._flushPending=!1,$();this.off("error",X)},X=(G)=>{this._flushPending=!1,$(G),this.off("drain",U)};this.once("drain",U),this.once("error",X)}function RZ($){if($!=null&&typeof $!=="function")throw Error("flush cb must be a function");if(this.destroyed){let U=Error("SonicBoom destroyed");if($){$(U);return}throw U}if(this.minLength<=0){$?.();return}if($)c_.call(this,$);if(this._writing)return;if(this._bufs.length===0)this._bufs.push("");this._actualWrite()}function TZ($){if($!=null&&typeof $!=="function")throw Error("flush cb must be a function");if(this.destroyed){let U=Error("SonicBoom destroyed");if($){$(U);return}throw U}if(this.minLength<=0){$?.();return}if($)c_.call(this,$);if(this._writing)return;if(this._bufs.length===0)this._bufs.push([]),this._lens.push(0);this._actualWrite()}D4.prototype.reopen=function($){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen($)});return}if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if($)this.file=$;if(this._reopening=!0,this._writing)return;let U=this.fd;this.once("ready",()=>{if(U!==this.fd)$6.close(U,(X)=>{if(X)return this.emit("error",X)})}),y_(this.file,this)};D4.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(this._ending)return;if(this._ending=!0,this._writing)return;if(this._len>0&&this.fd>=0)this._actualWrite();else xX(this)};function kZ(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");if(!this._writing&&this._writingBuf.length>0)this._bufs.unshift(this._writingBuf),this._writingBuf="";let $="";while(this._bufs.length||$){if($.length<=0)$=this._bufs[0];try{let U=$6.writeSync(this.fd,$,"utf8"),X=pQ($,this._len,U);if($=X.writingBuf,this._len=X.len,$.length<=0)this._bufs.shift()}catch(U){if((U.code==="EAGAIN"||U.code==="EBUSY")&&!this.retryEAGAIN(U,$.length,this._len-$.length))throw U;dQ(100)}}try{$6.fsyncSync(this.fd)}catch{}}function CZ(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");if(!this._writing&&this._writingBuf.length>0)this._bufs.unshift([this._writingBuf]),this._writingBuf=CX;let $=CX;while(this._bufs.length||$.length){if($.length<=0)$=l_(this._bufs[0],this._lens[0]);try{let U=$6.writeSync(this.fd,$);if($=$.subarray(U),this._len=Math.max(this._len-U,0),$.length<=0)this._bufs.shift(),this._lens.shift()}catch(U){if((U.code==="EAGAIN"||U.code==="EBUSY")&&!this.retryEAGAIN(U,$.length,this._len-$.length))throw U;dQ(100)}}}D4.prototype.destroy=function(){if(this.destroyed)return;xX(this)};function xZ(){let $=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let U=$6.writeSync(this.fd,this._writingBuf,"utf8");$(null,U)}catch(U){$(U)}else $6.write(this.fd,this._writingBuf,"utf8",$)}function fZ(){let $=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:l_(this._bufs.shift(),this._lens.shift()),this.sync)try{let U=$6.writeSync(this.fd,this._writingBuf);$(null,U)}catch(U){$(U)}else{if(EZ)this._writingBuf=Buffer.from(this._writingBuf);$6.write(this.fd,this._writingBuf,$)}}function xX($){if($.fd===-1){$.once("ready",xX.bind(null,$));return}if($._periodicFlushTimer!==void 0)clearInterval($._periodicFlushTimer);$.destroyed=!0,$._bufs=[],$._lens=[],qZ(typeof $.fd==="number",`sonic.fd must be a number, got ${typeof $.fd}`);try{$6.fsync($.fd,U)}catch{}function U(){if($.fd!==1&&$.fd!==2)$6.close($.fd,X);else X()}function X(G){if(G){$.emit("error",G);return}if($._ending&&!$._writing)$.emit("finish");$.emit("close")}}D4.SonicBoom=D4;D4.default=D4;i_.exports=D4});var oQ=z$((Gt,t_)=>{var V4={exit:[],beforeExit:[]},p_={exit:bZ,beforeExit:mZ},s0;function hZ(){if(s0===void 0)s0=new FinalizationRegistry(uZ)}function gZ($){if(V4[$].length>0)return;process.on($,p_[$])}function d_($){if(V4[$].length>0)return;if(process.removeListener($,p_[$]),V4.exit.length===0&&V4.beforeExit.length===0)s0=void 0}function bZ(){o_("exit")}function mZ(){o_("beforeExit")}function o_($){for(let U of V4[$]){let X=U.deref(),G=U.fn;if(X!==void 0)G(X,$)}V4[$]=[]}function uZ($){for(let U of["exit","beforeExit"]){let X=V4[U].indexOf($);V4[U].splice(X,X+1),d_(U)}}function r_($,U,X){if(U===void 0)throw Error("the object can't be undefined");gZ($);let G=new WeakRef(U);G.fn=X,hZ(),s0.register(U,G),V4[$].push(G)}function yZ($,U){r_("exit",$,U)}function lZ($,U){r_("beforeExit",$,U)}function cZ($){if(s0===void 0)return;s0.unregister($);for(let U of["exit","beforeExit"])V4[U]=V4[U].filter((X)=>{let G=X.deref();return G&&G!==$}),d_(U)}t_.exports={register:yZ,registerBeforeExit:lZ,unregister:cZ}});var a_=z$((Yt,iZ)=>{iZ.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var e_=z$((Qt,s_)=>{function nZ($,U,X,G,J){let Y=Date.now()+G,Q=Atomics.load($,U);if(Q===X){J(null,"ok");return}let w=Q,N=(j)=>{if(Date.now()>Y)J(null,"timed-out");else setTimeout(()=>{if(w=Q,Q=Atomics.load($,U),Q===w)N(j>=1000?1000:j*2);else if(Q===X)J(null,"ok");else J(null,"not-equal")},j)};N(1)}function pZ($,U,X,G,J){let Y=Date.now()+G,Q=Atomics.load($,U);if(Q!==X){J(null,"ok");return}let w=(N)=>{if(Date.now()>Y)J(null,"timed-out");else setTimeout(()=>{if(Q=Atomics.load($,U),Q!==X)J(null,"ok");else w(N>=1000?1000:N*2)},N)};w(1)}s_.exports={wait:nZ,waitDiff:pZ}});var UM=z$((wt,$M)=>{$M.exports={WRITE_INDEX:4,READ_INDEX:8}});var wM=z$((Nt,QM)=>{var __dirname="/Users/brantgoddard/develop/rival/node_modules/thread-stream",{version:dZ}=a_(),{EventEmitter:oZ}=Z$("events"),{Worker:rZ}=Z$("worker_threads"),{join:tZ}=Z$("path"),{pathToFileURL:aZ}=Z$("url"),{wait:sZ}=e_(),{WRITE_INDEX:k6,READ_INDEX:Z4}=UM(),eZ=Z$("buffer"),$I=Z$("assert"),k=Symbol("kImpl"),UI=eZ.constants.MAX_STRING_LENGTH;class hX{constructor($){this._value=$}deref(){return this._value}}class tQ{register(){}unregister(){}}var JI=process.env.NODE_V8_COVERAGE?tQ:global.FinalizationRegistry||tQ,XI=process.env.NODE_V8_COVERAGE?hX:global.WeakRef||hX,JM=new JI(($)=>{if($.exited)return;$.terminate()});function GI($,U){let{filename:X,workerData:G}=U,Y=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||tZ(__dirname,"lib","worker.js"),Q=new rZ(Y,{...U.workerOpts,trackUnmanagedFds:!1,workerData:{filename:X.indexOf("file://")===0?X:aZ(X).href,dataBuf:$[k].dataBuf,stateBuf:$[k].stateBuf,workerData:{$context:{threadStreamVersion:dZ},...G}}});return Q.stream=new hX($),Q.on("message",YI),Q.on("exit",GM),JM.register($,Q),Q}function XM($){if($I(!$[k].sync),$[k].needDrain)$[k].needDrain=!1,$.emit("drain")}function fX($){let U=Atomics.load($[k].state,k6),X=$[k].data.length-U;if(X>0){if($[k].buf.length===0){if($[k].flushing=!1,$[k].ending)eQ($);else if($[k].needDrain)process.nextTick(XM,$);return}let G=$[k].buf.slice(0,X),J=Buffer.byteLength(G);if(J<=X)$[k].buf=$[k].buf.slice(X),gX($,G,fX.bind(null,$));else $.flush(()=>{if($.destroyed)return;Atomics.store($[k].state,Z4,0),Atomics.store($[k].state,k6,0);while(J>$[k].data.length)X=X/2,G=$[k].buf.slice(0,X),J=Buffer.byteLength(G);$[k].buf=$[k].buf.slice(X),gX($,G,fX.bind(null,$))})}else if(X===0){if(U===0&&$[k].buf.length===0)return;$.flush(()=>{Atomics.store($[k].state,Z4,0),Atomics.store($[k].state,k6,0),fX($)})}else I4($,Error("overwritten"))}function YI($){let U=this.stream.deref();if(U===void 0){this.exited=!0,this.terminate();return}switch($.code){case"READY":this.stream=new XI(U),U.flush(()=>{U[k].ready=!0,U.emit("ready")});break;case"ERROR":I4(U,$.err);break;case"EVENT":if(Array.isArray($.args))U.emit($.name,...$.args);else U.emit($.name,$.args);break;case"WARNING":process.emitWarning($.err);break;default:I4(U,Error("this should not happen: "+$.code))}}function GM($){let U=this.stream.deref();if(U===void 0)return;JM.unregister(U),U.worker.exited=!0,U.worker.off("exit",GM),I4(U,$!==0?Error("the worker thread exited"):null)}class YM extends oZ{constructor($={}){super();if($.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[k]={},this[k].stateBuf=new SharedArrayBuffer(128),this[k].state=new Int32Array(this[k].stateBuf),this[k].dataBuf=new SharedArrayBuffer($.bufferSize||4194304),this[k].data=Buffer.from(this[k].dataBuf),this[k].sync=$.sync||!1,this[k].ending=!1,this[k].ended=!1,this[k].needDrain=!1,this[k].destroyed=!1,this[k].flushing=!1,this[k].ready=!1,this[k].finished=!1,this[k].errored=null,this[k].closed=!1,this[k].buf="",this.worker=GI(this,$),this.on("message",(U,X)=>{this.worker.postMessage(U,X)})}write($){if(this[k].destroyed)return aQ(this,Error("the worker has exited")),!1;if(this[k].ending)return aQ(this,Error("the worker is ending")),!1;if(this[k].flushing&&this[k].buf.length+$.length>=UI)try{rQ(this),this[k].flushing=!0}catch(U){return I4(this,U),!1}if(this[k].buf+=$,this[k].sync)try{return rQ(this),!0}catch(U){return I4(this,U),!1}if(!this[k].flushing)this[k].flushing=!0,setImmediate(fX,this);return this[k].needDrain=this[k].data.length-this[k].buf.length-Atomics.load(this[k].state,k6)<=0,!this[k].needDrain}end(){if(this[k].destroyed)return;this[k].ending=!0,eQ(this)}flush($){if(this[k].destroyed){if(typeof $==="function")process.nextTick($,Error("the worker has exited"));return}let U=Atomics.load(this[k].state,k6);sZ(this[k].state,Z4,U,1/0,(X,G)=>{if(X){I4(this,X),process.nextTick($,X);return}if(G==="not-equal"){this.flush($);return}process.nextTick($)})}flushSync(){if(this[k].destroyed)return;rQ(this),sQ(this)}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[k].ready}get destroyed(){return this[k].destroyed}get closed(){return this[k].closed}get writable(){return!this[k].destroyed&&!this[k].ending}get writableEnded(){return this[k].ending}get writableFinished(){return this[k].finished}get writableNeedDrain(){return this[k].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[k].errored}}function aQ($,U){setImmediate(()=>{$.emit("error",U)})}function I4($,U){if($[k].destroyed)return;if($[k].destroyed=!0,U)$[k].errored=U,aQ($,U);if(!$.worker.exited)$.worker.terminate().catch(()=>{}).then(()=>{$[k].closed=!0,$.emit("close")});else setImmediate(()=>{$[k].closed=!0,$.emit("close")})}function gX($,U,X){let G=Atomics.load($[k].state,k6),J=Buffer.byteLength(U);return $[k].data.write(U,G),Atomics.store($[k].state,k6,G+J),Atomics.notify($[k].state,k6),X(),!0}function eQ($){if($[k].ended||!$[k].ending||$[k].flushing)return;$[k].ended=!0;try{$.flushSync();let U=Atomics.load($[k].state,Z4);Atomics.store($[k].state,k6,-1),Atomics.notify($[k].state,k6);let X=0;while(U!==-1){if(Atomics.wait($[k].state,Z4,U,1000),U=Atomics.load($[k].state,Z4),U===-2){I4($,Error("end() failed"));return}if(++X===10){I4($,Error("end() took too long (10s)"));return}}process.nextTick(()=>{$[k].finished=!0,$.emit("finish")})}catch(U){I4($,U)}}function rQ($){let U=()=>{if($[k].ending)eQ($);else if($[k].needDrain)process.nextTick(XM,$)};$[k].flushing=!1;while($[k].buf.length!==0){let X=Atomics.load($[k].state,k6),G=$[k].data.length-X;if(G===0){sQ($),Atomics.store($[k].state,Z4,0),Atomics.store($[k].state,k6,0);continue}else if(G<0)throw Error("overwritten");let J=$[k].buf.slice(0,G),Y=Buffer.byteLength(J);if(Y<=G)$[k].buf=$[k].buf.slice(G),gX($,J,U);else{sQ($),Atomics.store($[k].state,Z4,0),Atomics.store($[k].state,k6,0);while(Y>$[k].buf.length)G=G/2,J=$[k].buf.slice(0,G),Y=Buffer.byteLength(J);$[k].buf=$[k].buf.slice(G),gX($,J,U)}}}function sQ($){if($[k].flushing)throw Error("unable to flush while flushing");let U=Atomics.load($[k].state,k6),X=0;while(!0){let G=Atomics.load($[k].state,Z4);if(G===-2)throw Error("_flushSync failed");if(G!==U)Atomics.wait($[k].state,Z4,G,1000);else break;if(++X===10)throw Error("_flushSync took too long (10s)")}}QM.exports=YM});var J9=z$((jt,NM)=>{var __dirname="/Users/brantgoddard/develop/rival/node_modules/pino/lib",{createRequire:QI}=Z$("module"),wI=uQ(),{join:$9,isAbsolute:NI,sep:jI}=Z$("path"),HI=nQ(),U9=oQ(),WI=wM();function KI($){U9.register($,zI),U9.registerBeforeExit($,DI),$.on("close",function(){U9.unregister($)})}function OI($,U,X,G){let J=new WI({filename:$,workerData:U,workerOpts:X,sync:G});J.on("ready",Y),J.on("close",function(){process.removeListener("exit",Q)}),process.on("exit",Q);function Y(){if(process.removeListener("exit",Q),J.unref(),X.autoEnd!==!1)KI(J)}function Q(){if(J.closed)return;J.flushSync(),HI(100),J.end()}return J}function zI($){$.ref(),$.flushSync(),$.end(),$.once("close",function(){$.unref()})}function DI($){$.flushSync()}function VI($){let{pipeline:U,targets:X,levels:G,dedupe:J,worker:Y={},caller:Q=wI(),sync:w=!1}=$,N={...$.options},j=typeof Q==="string"?[Q]:Q,H="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},K=$.target;if(K&&X)throw Error("only one of target or targets can be specified");if(X)K=H["pino-worker"]||$9(__dirname,"worker.js"),N.targets=X.filter((W)=>W.target).map((W)=>{return{...W,target:z(W.target)}}),N.pipelines=X.filter((W)=>W.pipeline).map((W)=>{return W.pipeline.map((O)=>{return{...O,level:W.level,target:z(O.target)}})});else if(U)K=H["pino-worker"]||$9(__dirname,"worker.js"),N.pipelines=[U.map((W)=>{return{...W,target:z(W.target)}})];if(G)N.levels=G;if(J)N.dedupe=J;return N.pinoWillSendConfig=!0,OI(z(K),N,Y,w);function z(W){if(W=H[W]||W,NI(W)||W.indexOf("file://")===0)return W;if(W==="pino/file")return $9(__dirname,"..","file.js");let O;for(let D of j)try{let B=D==="node:repl"?process.cwd()+jI:D;O=QI(B).resolve(W);break}catch(B){continue}if(!O)throw Error(`unable to determine transport target for "${W}"`);return O}}NM.exports=VI});var yX=z$((Ht,LM)=>{var jM=Z$("diagnostics_channel"),HM=m_(),{mapHttpRequest:BI,mapHttpResponse:_I}=mQ(),G9=n_(),WM=oQ(),{lsCacheSym:MI,chindingsSym:DM,writeSym:KM,serializersSym:VM,formatOptsSym:OM,endSym:FI,stringifiersSym:BM,stringifySym:_M,stringifySafeSym:Y9,wildcardFirstSym:MM,nestedKeySym:LI,formattersSym:FM,messageKeySym:AI,errorKeySym:qI,nestedKeyStrSym:vI,msgPrefixSym:bX}=a0(),{isMainThread:PI}=Z$("worker_threads"),EI=J9(),uX;if(typeof jM.tracingChannel==="function")uX=jM.tracingChannel("pino_asJson");else uX={hasSubscribers:!1,traceSync($,U,X,...G){return $.call(X,...G)}};function e0(){}function SI($,U){if(!U)return X;return function(...J){U.call(this,J,X,$)};function X(G,...J){if(typeof G==="object"){let Y=G;if(G!==null){if(G.method&&G.headers&&G.socket)G=BI(G);else if(typeof G.setHeader==="function")G=_I(G)}let Q;if(Y===null&&J.length===0)Q=[null];else Y=J.shift(),Q=J;if(typeof this[bX]==="string"&&Y!==void 0&&Y!==null)Y=this[bX]+Y;this[KM](G,HM(Y,Q,this[OM]),$)}else{let Y=G===void 0?J.shift():G;if(typeof this[bX]==="string"&&Y!==void 0&&Y!==null)Y=this[bX]+Y;this[KM](null,HM(Y,J,this[OM]),$)}}}function X9($){let U="",X=0,G=!1,J=255,Y=$.length;if(Y>100)return JSON.stringify($);for(var Q=0;Q<Y&&J>=32;Q++)if(J=$.charCodeAt(Q),J===34||J===92)U+=$.slice(X,Q)+"\\",X=Q,G=!0;if(!G)U=$;else U+=$.slice(X);return J<32?JSON.stringify($):'"'+U+'"'}function ZI($,U,X,G){if(uX.hasSubscribers===!1)return zM.call(this,$,U,X,G);let J={instance:this,arguments};return uX.traceSync(zM,J,this,$,U,X,G)}function zM($,U,X,G){let J=this[_M],Y=this[Y9],Q=this[BM],w=this[FI],N=this[DM],j=this[VM],H=this[FM],K=this[AI],z=this[qI],W=this[MI][X]+G;W=W+N;let O;if(H.log)$=H.log($);let D=Q[MM],B="";for(let E in $)if(O=$[E],Object.prototype.hasOwnProperty.call($,E)&&O!==void 0){if(j[E])O=j[E](O);else if(E===z&&j.err)O=j.err(O);let L=Q[E]||D;switch(typeof O){case"undefined":case"function":continue;case"number":if(Number.isFinite(O)===!1)O=null;case"boolean":if(L)O=L(O);break;case"string":O=(L||X9)(O);break;default:O=(L||J)(O,Y)}if(O===void 0)continue;let M=X9(E);B+=","+M+":"+O}let v="";if(U!==void 0){O=j[K]?j[K](U):U;let E=Q[K]||D;switch(typeof O){case"function":break;case"number":if(Number.isFinite(O)===!1)O=null;case"boolean":if(E)O=E(O);v=',"'+K+'":'+O;break;case"string":O=(E||X9)(O),v=',"'+K+'":'+O;break;default:O=(E||J)(O,Y),v=',"'+K+'":'+O}}if(this[LI]&&B)return W+this[vI]+B.slice(1)+"}"+v+w;else return W+B+v+w}function II($,U){let X,G=$[DM],J=$[_M],Y=$[Y9],Q=$[BM],w=Q[MM],N=$[VM],j=$[FM].bindings;U=j(U);for(let H in U)if(X=U[H],((H.length<5||H!=="level"&&H!=="serializers"&&H!=="formatters"&&H!=="customLevels")&&U.hasOwnProperty(H)&&X!==void 0)===!0){if(X=N[H]?N[H](X):X,X=(Q[H]||w||J)(X,Y),X===void 0)continue;G+=',"'+H+'":'+X}return G}function RI($){return $.write!==$.constructor.prototype.write}function mX($){let U=new G9($);if(U.on("error",X),!$.sync&&PI)WM.register(U,TI),U.on("close",function(){WM.unregister(U)});return U;function X(G){if(G.code==="EPIPE"){U.write=e0,U.end=e0,U.flushSync=e0,U.destroy=e0;return}U.removeListener("error",X),U.emit("error",G)}}function TI($,U){if($.destroyed)return;if(U==="beforeExit")$.flush(),$.on("drain",function(){$.end()});else $.flushSync()}function kI($){return function(X,G,J={},Y){if(typeof J==="string")Y=mX({dest:J}),J={};else if(typeof Y==="string"){if(J&&J.transport)throw Error("only one of option.transport or stream can be specified");Y=mX({dest:Y})}else if(J instanceof G9||J.writable||J._writableState)Y=J,J={};else if(J.transport){if(J.transport instanceof G9||J.transport.writable||J.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(J.transport.targets&&J.transport.targets.length&&J.formatters&&typeof J.formatters.level==="function")throw Error("option.transport.targets do not allow custom level formatters");let N;if(J.customLevels)N=J.useOnlyCustomLevels?J.customLevels:Object.assign({},J.levels,J.customLevels);Y=EI({caller:G,...J.transport,levels:N})}if(J=Object.assign({},$,J),J.serializers=Object.assign({},$.serializers,J.serializers),J.formatters=Object.assign({},$.formatters,J.formatters),J.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:Q,onChild:w}=J;if(Q===!1)J.level="silent";if(!w)J.onChild=e0;if(!Y)if(!RI(process.stdout))Y=mX({fd:process.stdout.fd||1});else Y=process.stdout;return{opts:J,stream:Y}}}function CI($,U){try{return JSON.stringify($)}catch(X){try{return(U||this[Y9])($)}catch(G){return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function xI($,U,X){return{level:$,bindings:U,log:X}}function fI($){let U=Number($);if(typeof $==="string"&&Number.isFinite(U))return U;if($===void 0)return 1;return $}LM.exports={noop:e0,buildSafeSonicBoom:mX,asChindings:II,asJson:ZI,genLog:SI,createArgsNormalizer:kI,stringify:CI,buildFormatters:xI,normalizeDestFileDescriptor:fI}});var lX=z$((Wt,AM)=>{var hI={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},gI={ASC:"ASC",DESC:"DESC"};AM.exports={DEFAULT_LEVELS:hI,SORTING_ORDER:gI}});var N9=z$((Kt,EM)=>{var{lsCacheSym:bI,levelValSym:Q9,useOnlyCustomLevelsSym:mI,streamSym:uI,formattersSym:yI,hooksSym:lI,levelCompSym:qM}=a0(),{noop:cI,genLog:r1}=yX(),{DEFAULT_LEVELS:R4,SORTING_ORDER:vM}=lX(),PM={fatal:($)=>{let U=r1(R4.fatal,$);return function(...X){let G=this[uI];if(U.call(this,...X),typeof G.flushSync==="function")try{G.flushSync()}catch(J){}}},error:($)=>r1(R4.error,$),warn:($)=>r1(R4.warn,$),info:($)=>r1(R4.info,$),debug:($)=>r1(R4.debug,$),trace:($)=>r1(R4.trace,$)},w9=Object.keys(R4).reduce(($,U)=>{return $[R4[U]]=U,$},{}),iI=Object.keys(w9).reduce(($,U)=>{return $[U]='{"level":'+Number(U),$},{});function nI($){let U=$[yI].level,{labels:X}=$.levels,G={};for(let J in X){let Y=U(X[J],Number(J));G[J]=JSON.stringify(Y).slice(0,-1)}return $[bI]=G,$}function pI($,U){if(U)return!1;switch($){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function dI($){let{labels:U,values:X}=this.levels;if(typeof $==="number"){if(U[$]===void 0)throw Error("unknown level value"+$);$=U[$]}if(X[$]===void 0)throw Error("unknown level "+$);let G=this[Q9],J=this[Q9]=X[$],Y=this[mI],Q=this[qM],w=this[lI].logMethod;for(let N in X){if(Q(X[N],J)===!1){this[N]=cI;continue}this[N]=pI(N,Y)?PM[N](w):r1(X[N],w)}this.emit("level-change",$,J,U[G],G,this)}function oI($){let{levels:U,levelVal:X}=this;return U&&U.labels?U.labels[X]:""}function rI($){let{values:U}=this.levels,X=U[$];return X!==void 0&&this[qM](X,this[Q9])}function tI($,U,X){if($===vM.DESC)return U<=X;return U>=X}function aI($){if(typeof $==="string")return tI.bind(null,$);return $}function sI($=null,U=!1){let X=$?Object.keys($).reduce((Y,Q)=>{return Y[$[Q]]=Q,Y},{}):null,G=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),U?null:w9,X),J=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),U?null:R4,$);return{labels:G,values:J}}function eI($,U,X){if(typeof $==="number"){if(![].concat(Object.keys(U||{}).map((Y)=>U[Y]),X?[]:Object.keys(w9).map((Y)=>+Y),1/0).includes($))throw Error(`default level:${$} must be included in custom levels`);return}let G=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),X?null:R4,U);if(!($ in G))throw Error(`default level:${$} must be included in custom levels`)}function $R($,U){let{labels:X,values:G}=$;for(let J in U){if(J in G)throw Error("levels cannot be overridden");if(U[J]in X)throw Error("pre-existing level values cannot be used for new levels")}}function UR($){if(typeof $==="function")return;if(typeof $==="string"&&Object.values(vM).includes($))return;throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}EM.exports={initialLsCache:iI,genLsCache:nI,levelMethods:PM,getLevel:oI,setLevel:dI,isLevelEnabled:rI,mappings:sI,assertNoLevelCollisions:$R,assertDefaultLevelFound:eI,genLevelComparison:aI,assertLevelComparison:UR}});var j9=z$((Ot,SM)=>{SM.exports={version:"9.14.0"}});var fM=z$((zt,xM)=>{var{EventEmitter:JR}=Z$("events"),{lsCacheSym:XR,levelValSym:GR,setLevelSym:iX,getLevelSym:ZM,chindingsSym:nX,parsedChindingsSym:YR,mixinSym:QR,asJsonSym:RM,writeSym:wR,mixinMergeStrategySym:NR,timeSym:jR,timeSliceIndexSym:HR,streamSym:TM,serializersSym:t1,formattersSym:S2,errorKeySym:WR,messageKeySym:KR,useOnlyCustomLevelsSym:OR,needsMetadataGsym:zR,redactFmtSym:DR,stringifySym:VR,formatOptsSym:BR,stringifiersSym:_R,msgPrefixSym:W9,hooksSym:MR}=a0(),{getLevel:FR,setLevel:LR,isLevelEnabled:AR,mappings:qR,initialLsCache:vR,genLsCache:PR,assertNoLevelCollisions:ER}=N9(),{asChindings:K9,asJson:SR,buildFormatters:H9,stringify:IM,noop:kM}=yX(),{version:ZR}=j9(),IR=cQ(),RR=class{},CM={constructor:RR,child:TR,bindings:kR,setBindings:CR,flush:hR,isLevelEnabled:AR,version:ZR,get level(){return this[ZM]()},set level($){this[iX]($)},get levelVal(){return this[GR]},set levelVal($){throw Error("levelVal is read-only")},get msgPrefix(){return this[W9]},get[Symbol.toStringTag](){return"Pino"},[XR]:vR,[wR]:fR,[RM]:SR,[ZM]:FR,[iX]:LR};Object.setPrototypeOf(CM,JR.prototype);xM.exports=function(){return Object.create(CM)};var cX=($)=>$;function TR($,U){if(!$)throw Error("missing bindings for child Pino");let X=this[t1],G=this[S2],J=Object.create(this);if(U==null){if(J[S2].bindings!==cX)J[S2]=H9(G.level,cX,G.log);if(J[nX]=K9(J,$),J[iX](this.level),this.onChild!==kM)this.onChild(J);return J}if(U.hasOwnProperty("serializers")===!0){J[t1]=Object.create(null);for(let H in X)J[t1][H]=X[H];let N=Object.getOwnPropertySymbols(X);for(var Y=0;Y<N.length;Y++){let H=N[Y];J[t1][H]=X[H]}for(let H in U.serializers)J[t1][H]=U.serializers[H];let j=Object.getOwnPropertySymbols(U.serializers);for(var Q=0;Q<j.length;Q++){let H=j[Q];J[t1][H]=U.serializers[H]}}else J[t1]=X;if(U.hasOwnProperty("formatters")){let{level:N,bindings:j,log:H}=U.formatters;J[S2]=H9(N||G.level,j||cX,H||G.log)}else J[S2]=H9(G.level,cX,G.log);if(U.hasOwnProperty("customLevels")===!0)ER(this.levels,U.customLevels),J.levels=qR(U.customLevels,J[OR]),PR(J);if(typeof U.redact==="object"&&U.redact!==null||Array.isArray(U.redact)){J.redact=U.redact;let N=IR(J.redact,IM),j={stringify:N[DR]};J[VR]=IM,J[_R]=N,J[BR]=j}if(typeof U.msgPrefix==="string")J[W9]=(this[W9]||"")+U.msgPrefix;J[nX]=K9(J,$);let w=U.level||this.level;return J[iX](w),this.onChild(J),J}function kR(){let U=`{${this[nX].substr(1)}}`,X=JSON.parse(U);return delete X.pid,delete X.hostname,X}function CR($){let U=K9(this,$);this[nX]=U,delete this[YR]}function xR($,U){return Object.assign(U,$)}function fR($,U,X){let G=this[jR](),J=this[QR],Y=this[WR],Q=this[KR],w=this[NR]||xR,N,j=this[MR].streamWrite;if($===void 0||$===null)N={};else if($ instanceof Error){if(N={[Y]:$},U===void 0)U=$.message}else if(N=$,U===void 0&&$[Q]===void 0&&$[Y])U=$[Y].message;if(J)N=w(N,J(N,X,this));let H=this[RM](N,U,X,G),K=this[TM];if(K[zR]===!0)K.lastLevel=X,K.lastObj=N,K.lastMsg=U,K.lastTime=G.slice(this[HR]),K.lastLogger=this;K.write(j?j(H):H)}function hR($){if($!=null&&typeof $!=="function")throw Error("callback must be a function");let U=this[TM];if(typeof U.flush==="function")U.flush($||kM);else if($)$()}});var mM=z$((Dt,bM)=>{var{hasOwnProperty:Z2}=Object.prototype,s1=D9();s1.configure=D9;s1.stringify=s1;s1.default=s1;Dt.stringify=s1;Dt.configure=D9;bM.exports=s1;var gR=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function A1($){if($.length<5000&&!gR.test($))return`"${$}"`;return JSON.stringify($)}function O9($,U){if($.length>200||U)return $.sort(U);for(let X=1;X<$.length;X++){let G=$[X],J=X;while(J!==0&&$[J-1]>G)$[J]=$[J-1],J--;$[J]=G}return $}var bR=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function z9($){return bR.call($)!==void 0&&$.length!==0}function hM($,U,X){if($.length<X)X=$.length;let G=U===","?"":" ",J=`"0":${G}${$[0]}`;for(let Y=1;Y<X;Y++)J+=`${U}"${Y}":${G}${$[Y]}`;return J}function mR($){if(Z2.call($,"circularValue")){let U=$.circularValue;if(typeof U==="string")return`"${U}"`;if(U==null)return U;if(U===Error||U===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function uR($){let U;if(Z2.call($,"deterministic")){if(U=$.deterministic,typeof U!=="boolean"&&typeof U!=="function")throw TypeError('The "deterministic" argument must be of type boolean or comparator function')}return U===void 0?!0:U}function yR($,U){let X;if(Z2.call($,U)){if(X=$[U],typeof X!=="boolean")throw TypeError(`The "${U}" argument must be of type boolean`)}return X===void 0?!0:X}function gM($,U){let X;if(Z2.call($,U)){if(X=$[U],typeof X!=="number")throw TypeError(`The "${U}" argument must be of type number`);if(!Number.isInteger(X))throw TypeError(`The "${U}" argument must be an integer`);if(X<1)throw RangeError(`The "${U}" argument must be >= 1`)}return X===void 0?1/0:X}function a1($){if($===1)return"1 item";return`${$} items`}function lR($){let U=new Set;for(let X of $)if(typeof X==="string"||typeof X==="number")U.add(String(X));return U}function cR($){if(Z2.call($,"strict")){let U=$.strict;if(typeof U!=="boolean")throw TypeError('The "strict" argument must be of type boolean');if(U)return(X)=>{let G=`Object can not safely be stringified. Received type ${typeof X}`;if(typeof X!=="function")G+=` (${X.toString()})`;throw Error(G)}}}function D9($){$={...$};let U=cR($);if(U){if($.bigint===void 0)$.bigint=!1;if(!("circularValue"in $))$.circularValue=Error}let X=mR($),G=yR($,"bigint"),J=uR($),Y=typeof J==="function"?J:void 0,Q=gM($,"maximumDepth"),w=gM($,"maximumBreadth");function N(W,O,D,B,v,E){let L=O[W];if(typeof L==="object"&&L!==null&&typeof L.toJSON==="function")L=L.toJSON(W);switch(L=B.call(O,W,L),typeof L){case"string":return A1(L);case"object":{if(L===null)return"null";if(D.indexOf(L)!==-1)return X;let M="",I=",",x=E;if(Array.isArray(L)){if(L.length===0)return"[]";if(Q<D.length+1)return'"[Array]"';if(D.push(L),v!=="")E+=v,M+=`
${E}`,I=`,
${E}`;let v$=Math.min(L.length,w),F=0;for(;F<v$-1;F++){let C=N(String(F),L,D,B,v,E);M+=C!==void 0?C:"null",M+=I}let n=N(String(F),L,D,B,v,E);if(M+=n!==void 0?n:"null",L.length-1>w){let C=L.length-w-1;M+=`${I}"... ${a1(C)} not stringified"`}if(v!=="")M+=`
${x}`;return D.pop(),`[${M}]`}let g=Object.keys(L),h=g.length;if(h===0)return"{}";if(Q<D.length+1)return'"[Object]"';let r="",e="";if(v!=="")E+=v,I=`,
${E}`,r=" ";let q$=Math.min(h,w);if(J&&!z9(L))g=O9(g,Y);D.push(L);for(let v$=0;v$<q$;v$++){let F=g[v$],n=N(F,L,D,B,v,E);if(n!==void 0)M+=`${e}${A1(F)}:${r}${n}`,e=I}if(h>w){let v$=h-w;M+=`${e}"...":${r}"${a1(v$)} not stringified"`,e=I}if(v!==""&&e.length>1)M=`
${E}${M}
${x}`;return D.pop(),`{${M}}`}case"number":return isFinite(L)?String(L):U?U(L):"null";case"boolean":return L===!0?"true":"false";case"undefined":return;case"bigint":if(G)return String(L);default:return U?U(L):void 0}}function j(W,O,D,B,v,E){if(typeof O==="object"&&O!==null&&typeof O.toJSON==="function")O=O.toJSON(W);switch(typeof O){case"string":return A1(O);case"object":{if(O===null)return"null";if(D.indexOf(O)!==-1)return X;let L=E,M="",I=",";if(Array.isArray(O)){if(O.length===0)return"[]";if(Q<D.length+1)return'"[Array]"';if(D.push(O),v!=="")E+=v,M+=`
${E}`,I=`,
${E}`;let h=Math.min(O.length,w),r=0;for(;r<h-1;r++){let q$=j(String(r),O[r],D,B,v,E);M+=q$!==void 0?q$:"null",M+=I}let e=j(String(r),O[r],D,B,v,E);if(M+=e!==void 0?e:"null",O.length-1>w){let q$=O.length-w-1;M+=`${I}"... ${a1(q$)} not stringified"`}if(v!=="")M+=`
${L}`;return D.pop(),`[${M}]`}D.push(O);let x="";if(v!=="")E+=v,I=`,
${E}`,x=" ";let g="";for(let h of B){let r=j(h,O[h],D,B,v,E);if(r!==void 0)M+=`${g}${A1(h)}:${x}${r}`,g=I}if(v!==""&&g.length>1)M=`
${E}${M}
${L}`;return D.pop(),`{${M}}`}case"number":return isFinite(O)?String(O):U?U(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(G)return String(O);default:return U?U(O):void 0}}function H(W,O,D,B,v){switch(typeof O){case"string":return A1(O);case"object":{if(O===null)return"null";if(typeof O.toJSON==="function"){if(O=O.toJSON(W),typeof O!=="object")return H(W,O,D,B,v);if(O===null)return"null"}if(D.indexOf(O)!==-1)return X;let E=v;if(Array.isArray(O)){if(O.length===0)return"[]";if(Q<D.length+1)return'"[Array]"';D.push(O),v+=B;let r=`
${v}`,e=`,
${v}`,q$=Math.min(O.length,w),v$=0;for(;v$<q$-1;v$++){let n=H(String(v$),O[v$],D,B,v);r+=n!==void 0?n:"null",r+=e}let F=H(String(v$),O[v$],D,B,v);if(r+=F!==void 0?F:"null",O.length-1>w){let n=O.length-w-1;r+=`${e}"... ${a1(n)} not stringified"`}return r+=`
${E}`,D.pop(),`[${r}]`}let L=Object.keys(O),M=L.length;if(M===0)return"{}";if(Q<D.length+1)return'"[Object]"';v+=B;let I=`,
${v}`,x="",g="",h=Math.min(M,w);if(z9(O))x+=hM(O,I,w),L=L.slice(O.length),h-=O.length,g=I;if(J)L=O9(L,Y);D.push(O);for(let r=0;r<h;r++){let e=L[r],q$=H(e,O[e],D,B,v);if(q$!==void 0)x+=`${g}${A1(e)}: ${q$}`,g=I}if(M>w){let r=M-w;x+=`${g}"...": "${a1(r)} not stringified"`,g=I}if(g!=="")x=`
${v}${x}
${E}`;return D.pop(),`{${x}}`}case"number":return isFinite(O)?String(O):U?U(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(G)return String(O);default:return U?U(O):void 0}}function K(W,O,D){switch(typeof O){case"string":return A1(O);case"object":{if(O===null)return"null";if(typeof O.toJSON==="function"){if(O=O.toJSON(W),typeof O!=="object")return K(W,O,D);if(O===null)return"null"}if(D.indexOf(O)!==-1)return X;let B="",v=O.length!==void 0;if(v&&Array.isArray(O)){if(O.length===0)return"[]";if(Q<D.length+1)return'"[Array]"';D.push(O);let x=Math.min(O.length,w),g=0;for(;g<x-1;g++){let r=K(String(g),O[g],D);B+=r!==void 0?r:"null",B+=","}let h=K(String(g),O[g],D);if(B+=h!==void 0?h:"null",O.length-1>w){let r=O.length-w-1;B+=`,"... ${a1(r)} not stringified"`}return D.pop(),`[${B}]`}let E=Object.keys(O),L=E.length;if(L===0)return"{}";if(Q<D.length+1)return'"[Object]"';let M="",I=Math.min(L,w);if(v&&z9(O))B+=hM(O,",",w),E=E.slice(O.length),I-=O.length,M=",";if(J)E=O9(E,Y);D.push(O);for(let x=0;x<I;x++){let g=E[x],h=K(g,O[g],D);if(h!==void 0)B+=`${M}${A1(g)}:${h}`,M=","}if(L>w){let x=L-w;B+=`${M}"...":"${a1(x)} not stringified"`}return D.pop(),`{${B}}`}case"number":return isFinite(O)?String(O):U?U(O):"null";case"boolean":return O===!0?"true":"false";case"undefined":return;case"bigint":if(G)return String(O);default:return U?U(O):void 0}}function z(W,O,D){if(arguments.length>1){let B="";if(typeof D==="number")B=" ".repeat(Math.min(D,10));else if(typeof D==="string")B=D.slice(0,10);if(O!=null){if(typeof O==="function")return N("",{"":W},[],O,B,"");if(Array.isArray(O))return j("",W,[],lR(O),B,"")}if(B.length!==0)return H("",W,[],B,"")}return K("",W,[])}return z}});var cM=z$((Vt,lM)=>{var V9=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:yM}=lX(),pR=yM.info;function dR($,U){$=$||[],U=U||{dedupe:!1};let X=Object.create(yM);if(X.silent=1/0,U.levels&&typeof U.levels==="object")Object.keys(U.levels).forEach((K)=>{X[K]=U.levels[K]});let G={write:J,add:w,remove:N,emit:Y,flushSync:Q,end:j,minLevel:0,lastId:0,streams:[],clone:H,[V9]:!0,streamLevels:X};if(Array.isArray($))$.forEach(w,G);else w.call(G,$);return $=null,G;function J(K){let z,W=this.lastLevel,{streams:O}=this,D=0,B;for(let v=oR(O.length,U.dedupe);tR(v,O.length,U.dedupe);v=rR(v,U.dedupe))if(z=O[v],z.level<=W){if(D!==0&&D!==z.level)break;if(B=z.stream,B[V9]){let{lastTime:E,lastMsg:L,lastObj:M,lastLogger:I}=this;B.lastLevel=W,B.lastTime=E,B.lastMsg=L,B.lastObj=M,B.lastLogger=I}if(B.write(K),U.dedupe)D=z.level}else if(!U.dedupe)break}function Y(...K){for(let{stream:z}of this.streams)if(typeof z.emit==="function")z.emit(...K)}function Q(){for(let{stream:K}of this.streams)if(typeof K.flushSync==="function")K.flushSync()}function w(K){if(!K)return G;let z=typeof K.write==="function"||K.stream,W=K.write?K:K.stream;if(!z)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:O,streamLevels:D}=this,B;if(typeof K.levelVal==="number")B=K.levelVal;else if(typeof K.level==="string")B=D[K.level];else if(typeof K.level==="number")B=K.level;else B=pR;let v={stream:W,level:B,levelVal:void 0,id:++G.lastId};return O.unshift(v),O.sort(uM),this.minLevel=O[0].level,G}function N(K){let{streams:z}=this,W=z.findIndex((O)=>O.id===K);if(W>=0)z.splice(W,1),z.sort(uM),this.minLevel=z.length>0?z[0].level:-1;return G}function j(){for(let{stream:K}of this.streams){if(typeof K.flushSync==="function")K.flushSync();K.end()}}function H(K){let z=Array(this.streams.length);for(let W=0;W<z.length;W++)z[W]={level:K,stream:this.streams[W].stream};return{write:J,add:w,remove:N,minLevel:K,streams:z,clone:H,emit:Y,flushSync:Q,[V9]:!0}}}function uM($,U){return $.level-U.level}function oR($,U){return U?$-1:0}function rR($,U){return U?$-1:$+1}function tR($,U,X){return X?$>=0:$<U}lM.exports=dR});var XF=z$((Bt,s6)=>{var aR=Z$("os"),aM=mQ(),sR=uQ(),eR=cQ(),sM=g_(),$T=fM(),eM=a0(),{configure:UT}=mM(),{assertDefaultLevelFound:JT,mappings:$F,genLsCache:XT,genLevelComparison:GT,assertLevelComparison:YT}=N9(),{DEFAULT_LEVELS:UF,SORTING_ORDER:QT}=lX(),{createArgsNormalizer:wT,asChindings:NT,buildSafeSonicBoom:iM,buildFormatters:jT,stringify:B9,normalizeDestFileDescriptor:nM,noop:HT}=yX(),{version:WT}=j9(),{chindingsSym:pM,redactFmtSym:KT,serializersSym:dM,timeSym:OT,timeSliceIndexSym:zT,streamSym:DT,stringifySym:oM,stringifySafeSym:_9,stringifiersSym:rM,setLevelSym:VT,endSym:BT,formatOptsSym:_T,messageKeySym:MT,errorKeySym:FT,nestedKeySym:LT,mixinSym:AT,levelCompSym:qT,useOnlyCustomLevelsSym:vT,formattersSym:tM,hooksSym:PT,nestedKeyStrSym:ET,mixinMergeStrategySym:ST,msgPrefixSym:ZT}=eM,{epochTime:JF,nullTime:IT}=sM,{pid:RT}=process,TT=aR.hostname(),kT=aM.err,CT={level:"info",levelComparison:QT.ASC,levels:UF,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:RT,hostname:TT},serializers:Object.assign(Object.create(null),{err:kT}),formatters:Object.assign(Object.create(null),{bindings($){return $},level($,U){return{level:U}}}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:JF,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},xT=wT(CT),fT=Object.assign(Object.create(null),aM);function M9(...$){let U={},{opts:X,stream:G}=xT(U,sR(),...$);if(X.level&&typeof X.level==="string"&&UF[X.level.toLowerCase()]!==void 0)X.level=X.level.toLowerCase();let{redact:J,crlf:Y,serializers:Q,timestamp:w,messageKey:N,errorKey:j,nestedKey:H,base:K,name:z,level:W,customLevels:O,levelComparison:D,mixin:B,mixinMergeStrategy:v,useOnlyCustomLevels:E,formatters:L,hooks:M,depthLimit:I,edgeLimit:x,onChild:g,msgPrefix:h}=X,r=UT({maximumDepth:I,maximumBreadth:x}),e=jT(L.level,L.bindings,L.log),q$=B9.bind({[_9]:r}),v$=J?eR(J,q$):{},F=J?{stringify:v$[KT]}:{stringify:q$},n="}"+(Y?`\r
`:`
`),C=NT.bind(null,{[pM]:"",[dM]:Q,[rM]:v$,[oM]:B9,[_9]:r,[tM]:e}),m="";if(K!==null)if(z===void 0)m=C(K);else m=C(Object.assign({},K,{name:z}));let l=w instanceof Function?w:w?JF:IT,$$=l().indexOf(":")+1;if(E&&!O)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(B&&typeof B!=="function")throw Error(`Unknown mixin type "${typeof B}" - expected "function"`);if(h&&typeof h!=="string")throw Error(`Unknown msgPrefix type "${typeof h}" - expected "string"`);JT(W,O,E);let X$=$F(O,E);if(typeof G.emit==="function")G.emit("message",{code:"PINO_CONFIG",config:{levels:X$,messageKey:N,errorKey:j}});YT(D);let Q$=GT(D);return Object.assign(U,{levels:X$,[qT]:Q$,[vT]:E,[DT]:G,[OT]:l,[zT]:$$,[oM]:B9,[_9]:r,[rM]:v$,[BT]:n,[_T]:F,[MT]:N,[FT]:j,[LT]:H,[ET]:H?`,${JSON.stringify(H)}:{`:"",[dM]:Q,[AT]:B,[ST]:v,[pM]:m,[tM]:e,[PT]:M,silent:HT,onChild:g,[ZT]:h}),Object.setPrototypeOf(U,$T()),XT(U),U[VT](W),U}s6.exports=M9;s6.exports.destination=($=process.stdout.fd)=>{if(typeof $==="object")return $.dest=nM($.dest||process.stdout.fd),iM($);else return iM({dest:nM($),minLength:0})};s6.exports.transport=J9();s6.exports.multistream=cM();s6.exports.levels=$F();s6.exports.stdSerializers=fT;s6.exports.stdTimeFunctions=Object.assign({},sM);s6.exports.symbols=eM;s6.exports.version=WT;s6.exports.default=M9;s6.exports.pino=M9});var cF=z$((Ca,lF)=>{var yF=()=>process.platform==="linux",HG=null,RC=()=>{if(!HG)if(yF()&&process.report){let $=process.report.excludeNetwork;process.report.excludeNetwork=!0,HG=process.report.getReport(),process.report.excludeNetwork=$}else HG={};return HG};lF.exports={isLinux:yF,getReport:RC}});var nF=z$((xa,iF)=>{var MU=Z$("fs"),TC=($)=>{let U=MU.openSync($,"r"),X=Buffer.alloc(2048),G=MU.readSync(U,X,0,2048,0);return MU.close(U,()=>{}),X.subarray(0,G)},kC=($)=>new Promise((U,X)=>{MU.open($,"r",(G,J)=>{if(G)X(G);else{let Y=Buffer.alloc(2048);MU.read(J,Y,0,2048,0,(Q,w)=>{U(Y.subarray(0,w)),MU.close(J,()=>{})})}})});iF.exports={LDD_PATH:"/usr/bin/ldd",SELF_PATH:"/proc/self/exe",readFileSync:TC,readFile:kC}});var dF=z$((fa,pF)=>{var CC=($)=>{if($.length<64)return null;if($.readUInt32BE(0)!==2135247942)return null;if($.readUInt8(4)!==2)return null;if($.readUInt8(5)!==1)return null;let U=$.readUInt32LE(32),X=$.readUInt16LE(54),G=$.readUInt16LE(56);for(let J=0;J<G;J++){let Y=U+J*X;if($.readUInt32LE(Y)===3){let w=$.readUInt32LE(Y+8),N=$.readUInt32LE(Y+32);return $.subarray(w,w+N).toString().replace(/\0.*$/g,"")}}return null};pF.exports={interpreterPath:CC}});var WL=z$((ha,HL)=>{var rF=Z$("child_process"),{isLinux:FU,getReport:tF}=cF(),{LDD_PATH:WG,SELF_PATH:aF,readFile:$5,readFileSync:U5}=nF(),{interpreterPath:sF}=dF(),m4,u4,y4,R1="",eF=()=>{if(!R1)return new Promise(($)=>{rF.exec("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",(U,X)=>{R1=U?" ":X,$(R1)})});return R1},$L=()=>{if(!R1)try{R1=rF.execSync("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",{encoding:"utf8"})}catch($){R1=" "}return R1},Y1="glibc",UL=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,K0="musl",xC=($)=>$.includes("libc.musl-")||$.includes("ld-musl-"),JL=()=>{let $=tF();if($.header&&$.header.glibcVersionRuntime)return Y1;if(Array.isArray($.sharedObjects)){if($.sharedObjects.some(xC))return K0}return null},XL=($)=>{let[U,X]=$.split(/[\r\n]+/);if(U&&U.includes(Y1))return Y1;if(X&&X.includes(K0))return K0;return null},GL=($)=>{if($){if($.includes("/ld-musl-"))return K0;else if($.includes("/ld-linux-"))return Y1}return null},YL=($)=>{if($=$.toString(),$.includes("musl"))return K0;if($.includes("GNU C Library"))return Y1;return null},fC=async()=>{if(u4!==void 0)return u4;u4=null;try{let $=await $5(WG);u4=YL($)}catch($){}return u4},hC=()=>{if(u4!==void 0)return u4;u4=null;try{let $=U5(WG);u4=YL($)}catch($){}return u4},gC=async()=>{if(m4!==void 0)return m4;m4=null;try{let $=await $5(aF),U=sF($);m4=GL(U)}catch($){}return m4},bC=()=>{if(m4!==void 0)return m4;m4=null;try{let $=U5(aF),U=sF($);m4=GL(U)}catch($){}return m4},QL=async()=>{let $=null;if(FU()){if($=await gC(),!$){if($=await fC(),!$)$=JL();if(!$){let U=await eF();$=XL(U)}}}return $},wL=()=>{let $=null;if(FU()){if($=bC(),!$){if($=hC(),!$)$=JL();if(!$){let U=$L();$=XL(U)}}}return $},mC=async()=>FU()&&await QL()!==Y1,uC=()=>FU()&&wL()!==Y1,yC=async()=>{if(y4!==void 0)return y4;y4=null;try{let U=(await $5(WG)).match(UL);if(U)y4=U[1]}catch($){}return y4},lC=()=>{if(y4!==void 0)return y4;y4=null;try{let U=U5(WG).match(UL);if(U)y4=U[1]}catch($){}return y4},NL=()=>{let $=tF();if($.header&&$.header.glibcVersionRuntime)return $.header.glibcVersionRuntime;return null},oF=($)=>$.trim().split(/\s+/)[1],jL=($)=>{let[U,X,G]=$.split(/[\r\n]+/);if(U&&U.includes(Y1))return oF(U);if(X&&G&&X.includes(K0))return oF(G);return null},cC=async()=>{let $=null;if(FU()){if($=await yC(),!$)$=NL();if(!$){let U=await eF();$=jL(U)}}return $},iC=()=>{let $=null;if(FU()){if($=lC(),!$)$=NL();if(!$){let U=$L();$=jL(U)}}return $};HL.exports={GLIBC:Y1,MUSL:K0,family:QL,familySync:wL,isNonGlibcLinux:mC,isNonGlibcLinuxSync:uC,version:cC,versionSync:iC}});var qL=z$((ga,AL)=>{var nC=Z$("fs"),J4=Z$("path"),pC=Z$("url"),dC=process.config&&process.config.variables||{},oC=!!process.env.PREBUILDS_ONLY,Q5=process.versions,X5=Q5.modules;if(Q5.deno||process.isBun)X5="unsupported";var J5=tC()?"electron":"node",KG=process.arch,OG=process.platform,zL=process.env.LIBC||(aC(OG)?"musl":"glibc"),G5=process.env.ARM_VERSION||(KG==="arm64"?"8":dC.arm_version)||"",DL=(Q5.uv||"").split(".")[0];AL.exports=l4;function l4($){if(typeof __webpack_require__==="function")return __non_webpack_require__(l4.path($));else return Z$(l4.path($))}l4.path=function($){$=J4.resolve($||".");var U="";try{if(typeof __webpack_require__==="function")U=__non_webpack_require__(J4.join($,"package.json")).name;else U=Z$(J4.join($,"package.json")).name;var X=U.toUpperCase().replace(/-/g,"_")+"_PREBUILD";if(process.env[X])$=process.env[X]}catch(z){}if(!oC){var G=KL(J4.join($,"build/Release"),OL);if(G)return G;var J=KL(J4.join($,"build/Debug"),OL);if(J)return J}var Y=H($);if(Y)return Y;var Q=H(J4.dirname(process.execPath));if(Q)return Q;var w=(U[0]=="@"?"":"@"+U+"/")+U+"-"+OG+"-"+KG;try{var N=J4.dirname(Z$("module").createRequire(pC.pathToFileURL(J4.join($,"package.json"))).resolve(w));return K(N)}catch(z){}var j=["platform="+OG,"arch="+KG,"runtime="+J5,"abi="+X5,"uv="+DL,G5?"armv="+G5:"","libc="+zL,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__==="function"?"webpack=true":""].filter(Boolean).join(" ");throw Error("No native build was found for "+j+`
    attempted loading from: `+$+" and package: "+w+`
`);function H(z){var W=Y5(J4.join(z,"prebuilds")).map(VL),O=W.filter(BL(OG,KG)).sort(_L)[0];if(!O)return;return K(J4.join(z,"prebuilds",O.name))}function K(z){var W=Y5(z).map(ML),O=W.filter(FL(J5,X5)),D=O.sort(LL(J5))[0];if(D)return J4.join(z,D.file)}};function Y5($){try{return nC.readdirSync($)}catch(U){return[]}}function KL($,U){var X=Y5($).filter(U);return X[0]&&J4.join($,X[0])}function OL($){return/\.node$/.test($)}function VL($){var U=$.split("-");if(U.length!==2)return;var X=U[0],G=U[1].split("+");if(!X)return;if(!G.length)return;if(!G.every(Boolean))return;return{name:$,platform:X,architectures:G}}function BL($,U){return function(X){if(X==null)return!1;if(X.platform!==$)return!1;return X.architectures.includes(U)}}function _L($,U){return $.architectures.length-U.architectures.length}function ML($){var U=$.split("."),X=U.pop(),G={file:$,specificity:0};if(X!=="node")return;for(var J=0;J<U.length;J++){var Y=U[J];if(Y==="node"||Y==="electron"||Y==="node-webkit")G.runtime=Y;else if(Y==="napi")G.napi=!0;else if(Y.slice(0,3)==="abi")G.abi=Y.slice(3);else if(Y.slice(0,2)==="uv")G.uv=Y.slice(2);else if(Y.slice(0,4)==="armv")G.armv=Y.slice(4);else if(Y==="glibc"||Y==="musl")G.libc=Y;else continue;G.specificity++}return G}function FL($,U){return function(X){if(X==null)return!1;if(X.runtime!==$&&!rC(X))return!1;if(X.abi!==U&&!X.napi)return!1;if(X.uv&&X.uv!==DL)return!1;if(X.armv&&X.armv!==G5)return!1;if(X.libc&&X.libc!==zL)return!1;return!0}}function rC($){return $.runtime==="node"&&$.napi}function LL($){return function(U,X){if(U.runtime!==X.runtime)return U.runtime===$?-1:1;else if(U.abi!==X.abi)return U.abi?-1:1;else if(U.specificity!==X.specificity)return U.specificity>X.specificity?-1:1;else return 0}}function tC(){if(process.versions&&process.versions.electron)return!0;if(process.env.ELECTRON_RUN_AS_NODE)return!0;return typeof window<"u"&&window.process&&window.process.type==="renderer"}function aC($){if($!=="linux")return!1;let{familySync:U,MUSL:X}=WL();return U()===X}l4.parseTags=ML;l4.matchTags=FL;l4.compareTags=LL;l4.parseTuple=VL;l4.matchTuple=BL;l4.compareTuples=_L});var PL=z$((ma,vL)=>{var __dirname="/Users/brantgoddard/develop/rival/node_modules/cbor-extract";vL.exports=qL()(__dirname)});var V6=z$((Xs,EL)=>{var eC="development",$x=function($,U,X,G,J,Y,Q,w){if(eC!=="production"){if(U===void 0)throw Error("invariant requires an error message argument")}if(!$){var N;if(U===void 0)N=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[X,G,J,Y,Q,w],H=0;N=Error(U.replace(/%s/g,function(){return j[H++]})),N.name="Invariant Violation"}throw N.framesToPop=1,N}};EL.exports=$x});var Eq=z$((b0$,Pq)=>{function N4($,U){if(typeof U==="boolean")U={forever:U};if(this._originalTimeouts=JSON.parse(JSON.stringify($)),this._timeouts=$,this._options=U||{},this._maxRetryTime=U&&U.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever)this._cachedTimeouts=this._timeouts.slice(0)}Pq.exports=N4;N4.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};N4.prototype.stop=function(){if(this._timeout)clearTimeout(this._timeout);if(this._timer)clearTimeout(this._timer);this._timeouts=[],this._cachedTimeouts=null};N4.prototype.retry=function($){if(this._timeout)clearTimeout(this._timeout);if(!$)return!1;var U=new Date().getTime();if($&&U-this._operationStart>=this._maxRetryTime)return this._errors.push($),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push($);var X=this._timeouts.shift();if(X===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),X=this._cachedTimeouts.slice(-1);else return!1;var G=this;if(this._timer=setTimeout(function(){if(G._attempts++,G._operationTimeoutCb){if(G._timeout=setTimeout(function(){G._operationTimeoutCb(G._attempts)},G._operationTimeout),G._options.unref)G._timeout.unref()}G._fn(G._attempts)},X),this._options.unref)this._timer.unref();return!0};N4.prototype.attempt=function($,U){if(this._fn=$,U){if(U.timeout)this._operationTimeout=U.timeout;if(U.cb)this._operationTimeoutCb=U.cb}var X=this;if(this._operationTimeoutCb)this._timeout=setTimeout(function(){X._operationTimeoutCb()},X._operationTimeout);this._operationStart=new Date().getTime(),this._fn(this._attempts)};N4.prototype.try=function($){console.log("Using RetryOperation.try() is deprecated"),this.attempt($)};N4.prototype.start=function($){console.log("Using RetryOperation.start() is deprecated"),this.attempt($)};N4.prototype.start=N4.prototype.try;N4.prototype.errors=function(){return this._errors};N4.prototype.attempts=function(){return this._attempts};N4.prototype.mainError=function(){if(this._errors.length===0)return null;var $={},U=null,X=0;for(var G=0;G<this._errors.length;G++){var J=this._errors[G],Y=J.message,Q=($[Y]||0)+1;if($[Y]=Q,Q>=X)U=J,X=Q}return U}});var Zq=z$((Ku)=>{var Wu=Eq();Ku.operation=function($){var U=Ku.timeouts($);return new Wu(U,{forever:$&&($.forever||$.retries===1/0),unref:$&&$.unref,maxRetryTime:$&&$.maxRetryTime})};Ku.timeouts=function($){if($ instanceof Array)return[].concat($);var U={retries:10,factor:2,minTimeout:1000,maxTimeout:1/0,randomize:!1};for(var X in $)U[X]=$[X];if(U.minTimeout>U.maxTimeout)throw Error("minTimeout is greater than maxTimeout");var G=[];for(var J=0;J<U.retries;J++)G.push(this.createTimeout(J,U));if($&&$.forever&&!G.length)G.push(this.createTimeout(J,U));return G.sort(function(Y,Q){return Y-Q}),G};Ku.createTimeout=function($,U){var X=U.randomize?Math.random()+1:1,G=Math.round(X*Math.max(U.minTimeout,1)*Math.pow(U.factor,$));return G=Math.min(G,U.maxTimeout),G};Ku.wrap=function($,U,X){if(U instanceof Array)X=U,U=null;if(!X){X=[];for(var G in $)if(typeof $[G]==="function")X.push(G)}for(var J=0;J<X.length;J++){var Y=X[J],Q=$[Y];$[Y]=function(N){var j=Ku.operation(U),H=Array.prototype.slice.call(arguments,1),K=H.pop();H.push(function(z){if(j.retry(z))return;if(z)arguments[0]=j.mainError();K.apply(this,arguments)}),j.attempt(function(){N.apply($,H)})}.bind($,Q),$[Y].options=U}}});var eY=class{#$;constructor($){this.#$=$,this.raw=$.raw,this.url=$.url?new URL($.url):null,this.protocol=$.protocol??null}send($,U){this.#$.send($,U??{})}raw;binaryType="arraybuffer";get readyState(){return this.#$.readyState}url;protocol;close($,U){this.#$.close($,U)}},Xv=($)=>{return(...U)=>{if(typeof U[0]==="function"){let[X,G]=U;return async function(Y,Q){let w=await X(Y),N=await $(Y,w,G);if(N)return N;await Q()}}else{let[X,G,J]=U;return(async()=>{let Y=await $(X,G,J);if(!Y)throw Error("Failed to upgrade WebSocket");return Y})()}}};var $7=()=>{};import{createServer as Yp}from"http";import{Http2ServerRequest as Qp}from"http2";import{Http2ServerRequest as $B}from"http2";import{Readable as sP}from"stream";import _p from"crypto";async function Dp($){return Promise.race([$,Promise.resolve().then(()=>Promise.resolve(void 0))])}function UE($,U,X){let G=(w)=>{$.cancel(w).catch(()=>{})};return U.on("close",G),U.on("error",G),(X??$.read()).then(Q,J),$.closed.finally(()=>{U.off("close",G),U.off("error",G)});function J(w){if(w)U.destroy(w)}function Y(){$.read().then(Q,J)}function Q({done:w,value:N}){try{if(w)U.end();else if(!U.write(N))U.once("drain",Y);else return $.read().then(Q,J)}catch(j){J(j)}}}function Vp($,U){if($.locked)throw TypeError("ReadableStream is locked.");else if(U.destroyed)return;return UE($.getReader(),U)}var p0,wp=($)=>{if($ instanceof p0)return $;return new p0($.message,{cause:$})},Np,UX,jp=($)=>{let U=[],X=$.rawHeaders;for(let G=0;G<X.length;G+=2){let{[G]:J,[G+1]:Y}=X;if(J.charCodeAt(0)!==58)U.push([J,Y])}return new Headers(U)},$E,Hp=($,U,X,G,J)=>{let Y={method:$,headers:X,signal:J.signal};if($==="TRACE"){Y.method="GET";let Q=new UX(U,Y);return Object.defineProperty(Q,"method",{get(){return"TRACE"}}),Q}if(!($==="GET"||$==="HEAD"))if("rawBody"in G&&G.rawBody instanceof Buffer)Y.body=new ReadableStream({start(Q){Q.enqueue(G.rawBody),Q.close()}});else if(G[$E]){let Q;Y.body=new ReadableStream({async pull(w){try{Q||=sP.toWeb(G).getReader();let{done:N,value:j}=await Q.read();if(N)w.close();else w.enqueue(j)}catch(N){w.error(N)}}})}else Y.body=sP.toWeb(G);return new UX(U,Y)},V2,Wp,HQ,WQ,Kp,D2,Op,KQ,zp=($,U)=>{let X=Object.create(KQ);X[HQ]=$;let G=$.url||"";if(G[0]!=="/"&&(G.startsWith("http://")||G.startsWith("https://"))){if($ instanceof $B)throw new p0("Absolute URL for :path is not allowed in HTTP/2");try{let w=new URL(G);X[WQ]=w.href}catch(w){throw new p0("Invalid absolute URL",{cause:w})}return X}let J=($ instanceof $B?$.authority:$.headers.host)||U;if(!J)throw new p0("Missing host header");let Y;if($ instanceof $B){if(Y=$.scheme,!(Y==="http"||Y==="https"))throw new p0("Unsupported scheme")}else Y=$.socket&&$.socket.encrypted?"https":"http";let Q=new URL(`${Y}://${J}${G}`);if(Q.hostname.length!==J.length&&Q.hostname!==J.replace(/:\d+$/,""))throw new p0("Invalid host header");return X[WQ]=Q.href,X},eP,z2,d0,JB,JX,JE=($)=>{let U={};if(!($ instanceof Headers))$=new Headers($??void 0);let X=[];for(let[G,J]of $)if(G==="set-cookie")X.push(J);else U[G]=J;if(X.length>0)U["set-cookie"]=X;return U["content-type"]??="text/plain; charset=UTF-8",U},Bp="x-hono-already-sent",Mp,XB,Fp=()=>new Response(null,{status:400}),XE=($)=>new Response(null,{status:$ instanceof Error&&($.name==="TimeoutError"||$.constructor.name==="TimeoutError")?504:500}),UB=($,U)=>{let X=$ instanceof Error?$:Error("unknown error",{cause:$});if(X.code==="ERR_STREAM_PREMATURE_CLOSE")console.info("The user aborted a request.");else{if(console.error($),!U.headersSent)U.writeHead(500,{"Content-Type":"text/plain"});U.end(`Error: ${X.message}`),U.destroy(X)}},GE=($)=>{if("flushHeaders"in $&&$.writable)$.flushHeaders()},YE=async($,U)=>{let[X,G,J]=$[d0];if(J instanceof Headers)J=JE(J);if(typeof G==="string")J["Content-Length"]=Buffer.byteLength(G);else if(G instanceof Uint8Array)J["Content-Length"]=G.byteLength;else if(G instanceof Blob)J["Content-Length"]=G.size;if(U.writeHead(X,J),typeof G==="string"||G instanceof Uint8Array)U.end(G);else if(G instanceof Blob)U.end(new Uint8Array(await G.arrayBuffer()));else GE(U),await Vp(G,U)?.catch((Y)=>UB(Y,U));U[XB]?.()},Lp=($)=>typeof $.then==="function",Ap=async($,U,X={})=>{if(Lp($))if(X.errorHandler)try{$=await $}catch(J){let Y=await X.errorHandler(J);if(!Y)return;$=Y}else $=await $.catch(XE);if(d0 in $)return YE($,U);let G=JE($.headers);if($.body){let J=$.body.getReader(),Y=[],Q=!1,w=void 0;if(G["transfer-encoding"]!=="chunked"){let N=2;for(let j=0;j<N;j++){w||=J.read();let H=await Dp(w).catch((K)=>{console.error(K),Q=!0});if(!H){if(j===1){await new Promise((K)=>setTimeout(K)),N=3;continue}break}if(w=void 0,H.value)Y.push(H.value);if(H.done){Q=!0;break}}if(Q&&!("content-length"in G))G["content-length"]=Y.reduce((j,H)=>j+H.length,0)}if(U.writeHead($.status,G),Y.forEach((N)=>{U.write(N)}),Q)U.end();else{if(Y.length===0)GE(U);await UE(J,U,w)}}else if(G[Bp]);else U.writeHead($.status,G),U.end();U[XB]?.()},qp=($,U={})=>{let X=U.autoCleanupIncoming??!0;if(U.overrideGlobalObjects!==!1&&global.Request!==UX)Object.defineProperty(global,"Request",{value:UX}),Object.defineProperty(global,"Response",{value:JX});return async(G,J)=>{let Y,Q;try{Q=zp(G,U.hostname);let w=!X||G.method==="GET"||G.method==="HEAD";if(!w){if(G[$E]=!0,G.on("end",()=>{w=!0}),G instanceof Qp)J[XB]=()=>{if(!w)setTimeout(()=>{if(!w)setTimeout(()=>{G.destroy(),J.destroy()})})}}if(J.on("close",()=>{if(Q[D2]){if(G.errored)Q[D2].abort(G.errored.toString());else if(!J.writableFinished)Q[D2].abort("Client connection prematurely closed.")}if(!w)setTimeout(()=>{if(!w)setTimeout(()=>{G.destroy()})})}),Y=$(Q,{incoming:G,outgoing:J}),d0 in Y)return YE(Y,J)}catch(w){if(!Y)if(U.errorHandler){if(Y=await U.errorHandler(Q?w:wp(w)),!Y)return}else if(!Q)Y=Fp();else Y=XE(w);else return UB(w,J)}try{return await Ap(Y,J,U)}catch(w){return UB(w,J)}}},vp=($)=>{let U=$.fetch,X=qp(U,{hostname:$.hostname,overrideGlobalObjects:$.overrideGlobalObjects,autoCleanupIncoming:$.autoCleanupIncoming});return($.createServer||Yp)($.serverOptions||{},X)},OQ=($,U)=>{let X=vp($);return X.listen($?.port??3000,$.hostname,()=>{let G=X.address();U&&U(G)}),X};var QE=WX(()=>{p0=class extends Error{constructor($,U){super($,U);this.name="RequestError"}},Np=global.Request,UX=class extends Np{constructor($,U){if(typeof $==="object"&&V2 in $)$=$[V2]();if(typeof U?.body?.getReader<"u")U.duplex??="half";super($,U)}},$E=Symbol("wrapBodyStream"),V2=Symbol("getRequestCache"),Wp=Symbol("requestCache"),HQ=Symbol("incomingKey"),WQ=Symbol("urlKey"),Kp=Symbol("headersKey"),D2=Symbol("abortControllerKey"),Op=Symbol("getAbortController"),KQ={get method(){return this[HQ].method||"GET"},get url(){return this[WQ]},get headers(){return this[Kp]||=jp(this[HQ])},[Op](){return this[V2](),this[D2]},[V2](){return this[D2]||=new AbortController,this[Wp]||=Hp(this.method,this[WQ],this.headers,this[HQ],this[D2])}};["body","bodyUsed","cache","credentials","destination","integrity","mode","redirect","referrer","referrerPolicy","signal","keepalive"].forEach(($)=>{Object.defineProperty(KQ,$,{get(){return this[V2]()[$]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(($)=>{Object.defineProperty(KQ,$,{value:function(){return this[V2]()[$]()}})});Object.setPrototypeOf(KQ,UX.prototype);eP=Symbol("responseCache"),z2=Symbol("getResponseCache"),d0=Symbol("cache"),JB=global.Response,JX=class ${#$;#U;[z2](){return delete this[d0],this[eP]||=new JB(this.#$,this.#U)}constructor(U,X){let G;if(this.#$=U,X instanceof $){let J=X[eP];if(J){this.#U=J,this[z2]();return}else this.#U=X.#U,G=new Headers(X.#U.headers)}else this.#U=X;if(typeof U==="string"||typeof U?.getReader<"u"||U instanceof Blob||U instanceof Uint8Array)G||=X?.headers||{"content-type":"text/plain; charset=UTF-8"},this[d0]=[X?.status||200,U,G]}get headers(){let U=this[d0];if(U){if(!(U[2]instanceof Headers))U[2]=new Headers(U[2]);return U[2]}return this[z2]().headers}get status(){return this[d0]?.[0]??this[z2]().status}get ok(){let U=this.status;return U>=200&&U<300}};["body","bodyUsed","redirected","statusText","trailers","type","url"].forEach(($)=>{Object.defineProperty(JX.prototype,$,{get(){return this[z2]()[$]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(($)=>{Object.defineProperty(JX.prototype,$,{value:function(){return this[z2]()[$]()}})});Object.setPrototypeOf(JX,JB);Object.setPrototypeOf(JX.prototype,JB.prototype);Mp=global.fetch;if(typeof global.crypto>"u")global.crypto=_p;global.fetch=($,U)=>{return U={compress:!1,...U},Mp($,U)};XB=Symbol("outgoingEnded")});import{WebSocketServer as Pp}from"ws";var Ep,Sp=()=>Symbol("connection"),wE,zQ=($)=>{let U=new Pp({noServer:!0}),X=new Map;U.on("connection",(J,Y)=>{let Q=X.get(Y);if(Q)Q.resolve(J),X.delete(Y)});let G=(J,Y)=>{return new Promise((Q)=>{X.set(J,{resolve:Q,connectionSymbol:Y})})};return{wss:U,injectWebSocket(J){J.on("upgrade",async(Y,Q,w)=>{let N=new URL(Y.url??"/",$.baseUrl??"http://localhost"),j=new Headers;for(let z in Y.headers){let W=Y.headers[z];if(!W)continue;j.append(z,Array.isArray(W)?W[0]:W)}let H={incoming:Y,outgoing:void 0};await $.app.request(N,{headers:j},H);let K=X.get(Y);if(!K||K.connectionSymbol!==H[wE]){Q.end(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-Length: 0\r
\r
`),X.delete(Y);return}U.handleUpgrade(Y,Q,w,(z)=>{U.emit("connection",z,Y)})})},upgradeWebSocket:Xv(async(J,Y,Q)=>{if(J.req.header("upgrade")?.toLowerCase()!=="websocket")return;let w=Sp();return J.env[wE]=w,(async()=>{let N=await G(J.env.incoming,w),j=[],H=(W,O)=>{j.push([W,O])};N.on("message",H);let K={binaryType:"arraybuffer",close(W,O){N.close(W,O)},protocol:N.protocol,raw:N,get readyState(){return N.readyState},send(W,O){N.send(W,{compress:O?.compress})},url:new URL(J.req.url)};try{Y?.onOpen?.(new Event("open"),K)}catch(W){(Q?.onError??console.error)(W)}let z=(W,O)=>{let D=Array.isArray(W)?W:[W];for(let B of D)try{Y?.onMessage?.(new MessageEvent("message",{data:O?B instanceof ArrayBuffer?B:B.buffer.slice(B.byteOffset,B.byteOffset+B.byteLength):B.toString("utf-8")}),K)}catch(v){(Q?.onError??console.error)(v)}};N.off("message",H);for(let W of j)z(...W);N.on("message",(W,O)=>{z(W,O)}),N.on("close",(W,O)=>{try{Y?.onClose?.(new Ep("close",{code:W,reason:O.toString()}),K)}catch(D){(Q?.onError??console.error)(D)}}),N.on("error",(W)=>{try{Y?.onError?.(new ErrorEvent("error",{error:W}),K)}catch(O){(Q?.onError??console.error)(O)}})})(),new Response})}};var GB=WX(()=>{$7();Ep=globalThis.CloseEvent??class extends Event{#$;constructor($,U={}){super($,U);this.#$=U}get wasClean(){return this.#$.wasClean??!1}get code(){return this.#$.code??0}get reason(){return this.#$.reason??""}},wE=Symbol("CONNECTION_SYMBOL_KEY")});var YX={};H6(YX,{serve:()=>Rp,realServe:()=>OQ,realCreateNodeWebSocket:()=>zQ,onCapture:()=>YB,createNodeWebSocket:()=>Ip,capturedServer:()=>Zp,capturedInjectWebSocket:()=>GX,capturedApp:()=>XX});function YB($){if(XX&&GX)$(XX,GX);else NE.push($)}function Ip($){console.log("[RivetAdapter] Capturing Hono App instance via createNodeWebSocket"),XX=$.app;let U=zQ($);return GX=U.injectWebSocket,NE.forEach((X)=>X(XX,GX)),U}function Rp($,U){return console.log("[RivetAdapter] Suppressing RivetKit internal serve() call"),{on:()=>{},listen:()=>{},address:()=>({port:$.port})}}var XX=null,Zp=null,GX=null,NE;var B2=WX(()=>{QE();GB();GB();NE=[]});var _Q=($,U,X)=>{return(G,J)=>{let Y=-1;return Q(0);async function Q(w){if(w<=Y)throw Error("next() called multiple times");Y=w;let N,j=!1,H;if($[w])H=$[w][0][0],G.req.routeIndex=w;else H=w===$.length&&J||void 0;if(H)try{N=await H(G,()=>Q(w+1))}catch(K){if(K instanceof Error&&U)G.error=K,N=await U(K,G),j=!0;else throw K}else if(G.finalized===!1&&X)N=await X(G);if(N&&(G.finalized===!1||j))G.res=N;return G}}};var KX=class extends Error{res;status;constructor($=500,U){super(U?.message,{cause:U?.cause});this.res=U?.res,this.status=$}getResponse(){if(this.res)return new Response(this.res.body,{status:this.status,headers:this.res.headers});return new Response(this.message,{status:this.status})}};var PB=Symbol();var EB=async($,U=Object.create(null))=>{let{all:X=!1,dot:G=!1}=U,Y=($ instanceof OX?$.raw.headers:$.headers).get("Content-Type");if(Y?.startsWith("multipart/form-data")||Y?.startsWith("application/x-www-form-urlencoded"))return nE($,{all:X,dot:G});return{}};async function nE($,U){let X=await $.formData();if(X)return pE(X,U);return{}}function pE($,U){let X=Object.create(null);if($.forEach((G,J)=>{if(!(U.all||J.endsWith("[]")))X[J]=G;else dE(X,J,G)}),U.dot)Object.entries(X).forEach(([G,J])=>{if(G.includes("."))oE(X,G,J),delete X[G]});return X}var dE=($,U,X)=>{if($[U]!==void 0)if(Array.isArray($[U]))$[U].push(X);else $[U]=[$[U],X];else if(!U.endsWith("[]"))$[U]=X;else $[U]=[X]},oE=($,U,X)=>{let G=$,J=U.split(".");J.forEach((Y,Q)=>{if(Q===J.length-1)G[Y]=X;else{if(!G[Y]||typeof G[Y]!=="object"||Array.isArray(G[Y])||G[Y]instanceof File)G[Y]=Object.create(null);G=G[Y]}})};var FQ=($)=>{let U=$.split("/");if(U[0]==="")U.shift();return U},SB=($)=>{let{groups:U,path:X}=rE($),G=FQ(X);return tE(G,U)},rE=($)=>{let U=[];return $=$.replace(/\{[^}]+\}/g,(X,G)=>{let J=`@${G}`;return U.push([J,X]),J}),{groups:U,path:$}},tE=($,U)=>{for(let X=U.length-1;X>=0;X--){let[G]=U[X];for(let J=$.length-1;J>=0;J--)if($[J].includes(G)){$[J]=$[J].replace(G,U[X][1]);break}}return $},zX={},ZB=($,U)=>{if($==="*")return"*";let X=$.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(X){let G=`${$}#${U}`;if(!zX[G])if(X[2])zX[G]=U&&U[0]!==":"&&U[0]!=="*"?[G,X[1],new RegExp(`^${X[2]}(?=/${U})`)]:[$,X[1],new RegExp(`^${X[2]}$`)];else zX[G]=[$,X[1],!0];return zX[G]}return null},o0=($,U)=>{try{return U($)}catch{return $.replace(/(?:%[0-9A-Fa-f]{2})+/g,(X)=>{try{return U(X)}catch{return X}})}},aE=($)=>o0($,decodeURI),LQ=($)=>{let U=$.url,X=U.indexOf("/",U.indexOf(":")+4),G=X;for(;G<U.length;G++){let J=U.charCodeAt(G);if(J===37){let Y=U.indexOf("?",G),Q=U.slice(X,Y===-1?void 0:Y);return aE(Q.includes("%25")?Q.replace(/%25/g,"%2525"):Q)}else if(J===63)break}return U.slice(X,G)};var IB=($)=>{let U=LQ($);return U.length>1&&U.at(-1)==="/"?U.slice(0,-1):U},z4=($,U,...X)=>{if(X.length)U=z4(U,...X);return`${$?.[0]==="/"?"":"/"}${$}${U==="/"?"":`${$?.at(-1)==="/"?"":"/"}${U?.[0]==="/"?U.slice(1):U}`}`},DX=($)=>{if($.charCodeAt($.length-1)!==63||!$.includes(":"))return null;let U=$.split("/"),X=[],G="";return U.forEach((J)=>{if(J!==""&&!/\:/.test(J))G+="/"+J;else if(/\:/.test(J))if(/\?/.test(J)){if(X.length===0&&G==="")X.push("/");else X.push(G);let Y=J.replace("?","");G+="/"+Y,X.push(G)}else G+="/"+J}),X.filter((J,Y,Q)=>Q.indexOf(J)===Y)},MQ=($)=>{if(!/[%+]/.test($))return $;if($.indexOf("+")!==-1)$=$.replace(/\+/g," ");return $.indexOf("%")!==-1?o0($,M2):$},RB=($,U,X)=>{let G;if(!X&&U&&!/[%+]/.test(U)){let Q=$.indexOf("?",8);if(Q===-1)return;if(!$.startsWith(U,Q+1))Q=$.indexOf(`&${U}`,Q+1);while(Q!==-1){let w=$.charCodeAt(Q+U.length+1);if(w===61){let N=Q+U.length+2,j=$.indexOf("&",N);return MQ($.slice(N,j===-1?void 0:j))}else if(w==38||isNaN(w))return"";Q=$.indexOf(`&${U}`,Q+1)}if(G=/[%+]/.test($),!G)return}let J={};G??=/[%+]/.test($);let Y=$.indexOf("?",8);while(Y!==-1){let Q=$.indexOf("&",Y+1),w=$.indexOf("=",Y);if(w>Q&&Q!==-1)w=-1;let N=$.slice(Y+1,w===-1?Q===-1?void 0:Q:w);if(G)N=MQ(N);if(Y=Q,N==="")continue;let j;if(w===-1)j="";else if(j=$.slice(w+1,Q===-1?void 0:Q),G)j=MQ(j);if(X){if(!(J[N]&&Array.isArray(J[N])))J[N]=[];J[N].push(j)}else J[N]??=j}return U?J[U]:J},TB=RB,kB=($,U)=>{return RB($,U,!0)},M2=decodeURIComponent;var CB=($)=>o0($,M2),OX=class{raw;#$;#U;routeIndex=0;path;bodyCache={};constructor($,U="/",X=[[]]){this.raw=$,this.path=U,this.#U=X,this.#$={}}param($){return $?this.#X($):this.#G()}#X($){let U=this.#U[0][this.routeIndex][1][$],X=this.#J(U);return X&&/\%/.test(X)?CB(X):X}#G(){let $={},U=Object.keys(this.#U[0][this.routeIndex][1]);for(let X of U){let G=this.#J(this.#U[0][this.routeIndex][1][X]);if(G!==void 0)$[X]=/\%/.test(G)?CB(G):G}return $}#J($){return this.#U[1]?this.#U[1][$]:$}query($){return TB(this.url,$)}queries($){return kB(this.url,$)}header($){if($)return this.raw.headers.get($)??void 0;let U={};return this.raw.headers.forEach((X,G)=>{U[G]=X}),U}async parseBody($){return this.bodyCache.parsedBody??=await EB(this,$)}#Q=($)=>{let{bodyCache:U,raw:X}=this,G=U[$];if(G)return G;let J=Object.keys(U)[0];if(J)return U[J].then((Y)=>{if(J==="json")Y=JSON.stringify(Y);return new Response(Y)[$]()});return U[$]=X[$]()};json(){return this.#Q("text").then(($)=>JSON.parse($))}text(){return this.#Q("text")}arrayBuffer(){return this.#Q("arrayBuffer")}blob(){return this.#Q("blob")}formData(){return this.#Q("formData")}addValidatedData($,U){this.#$[$]=U}valid($){return this.#$[$]}get url(){return this.raw.url}get method(){return this.raw.method}get[PB](){return this.#U}get matchedRoutes(){return this.#U[0].map(([[,$]])=>$)}get routePath(){return this.#U[0].map(([[,$]])=>$)[this.routeIndex].path}};var VX={Stringify:1,BeforeStream:2,Stream:3},sE=($,U)=>{let X=new String($);return X.isEscaped=!0,X.callbacks=U,X};var F2=async($,U,X,G,J)=>{if(typeof $==="object"&&!($ instanceof String)){if(!($ instanceof Promise))$=$.toString();if($ instanceof Promise)$=await $}let Y=$.callbacks;if(!Y?.length)return Promise.resolve($);if(J)J[0]+=$;else J=[$];let Q=Promise.all(Y.map((w)=>w({phase:U,buffer:J,context:G}))).then((w)=>Promise.all(w.filter(Boolean).map((N)=>F2(N,U,!1,G,J))).then(()=>J[0]));if(X)return sE(await Q,Y);else return Q};var xB="text/plain; charset=UTF-8",AQ=($,U)=>{return{"Content-Type":$,...U}},fB=class{#$;#U;env={};#X;finalized=!1;error;#G;#J;#Q;#w;#H;#Y;#W;#K;#j;constructor($,U){if(this.#$=$,U)this.#J=U.executionCtx,this.env=U.env,this.#Y=U.notFoundHandler,this.#j=U.path,this.#K=U.matchResult}get req(){return this.#U??=new OX(this.#$,this.#j,this.#K),this.#U}get event(){if(this.#J&&"respondWith"in this.#J)return this.#J;else throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#J)return this.#J;else throw Error("This context has no ExecutionContext")}get res(){return this.#Q||=new Response(null,{headers:this.#W??=new Headers})}set res($){if(this.#Q&&$){$=new Response($.body,$);for(let[U,X]of this.#Q.headers.entries()){if(U==="content-type")continue;if(U==="set-cookie"){let G=this.#Q.headers.getSetCookie();$.headers.delete("set-cookie");for(let J of G)$.headers.append("set-cookie",J)}else $.headers.set(U,X)}}this.#Q=$,this.finalized=!0}render=(...$)=>{return this.#H??=(U)=>this.html(U),this.#H(...$)};setLayout=($)=>this.#w=$;getLayout=()=>this.#w;setRenderer=($)=>{this.#H=$};header=($,U,X)=>{if(this.finalized)this.#Q=new Response(this.#Q.body,this.#Q);let G=this.#Q?this.#Q.headers:this.#W??=new Headers;if(U===void 0)G.delete($);else if(X?.append)G.append($,U);else G.set($,U)};status=($)=>{this.#G=$};set=($,U)=>{this.#X??=new Map,this.#X.set($,U)};get=($)=>{return this.#X?this.#X.get($):void 0};get var(){if(!this.#X)return{};return Object.fromEntries(this.#X)}#N($,U,X){let G=this.#Q?new Headers(this.#Q.headers):this.#W??new Headers;if(typeof U==="object"&&"headers"in U){let Y=U.headers instanceof Headers?U.headers:new Headers(U.headers);for(let[Q,w]of Y)if(Q.toLowerCase()==="set-cookie")G.append(Q,w);else G.set(Q,w)}if(X)for(let[Y,Q]of Object.entries(X))if(typeof Q==="string")G.set(Y,Q);else{G.delete(Y);for(let w of Q)G.append(Y,w)}let J=typeof U==="number"?U:U?.status??this.#G;return new Response($,{status:J,headers:G})}newResponse=(...$)=>this.#N(...$);body=($,U,X)=>this.#N($,U,X);text=($,U,X)=>{return!this.#W&&!this.#G&&!U&&!X&&!this.finalized?new Response($):this.#N($,U,AQ(xB,X))};json=($,U,X)=>{return this.#N(JSON.stringify($),U,AQ("application/json",X))};html=($,U,X)=>{let G=(J)=>this.#N(J,U,AQ("text/html; charset=UTF-8",X));return typeof $==="object"?F2($,VX.Stringify,!1,{}).then(G):G($)};redirect=($,U)=>{let X=String($);return this.header("Location",!/[^\x00-\xFF]/.test(X)?X:encodeURI(X)),this.newResponse(null,U??302)};notFound=()=>{return this.#Y??=()=>new Response,this.#Y(this)}};var x$="ALL",hB="all",gB=["get","post","put","delete","options","patch"],BX="Can not add a route since the matcher is already built.",_X=class extends Error{};var bB="__COMPOSED_HANDLER";var eE=($)=>{return $.text("404 Not Found",404)},mB=($,U)=>{if("getResponse"in $){let X=$.getResponse();return U.newResponse(X.body,X)}return console.error($),U.text("Internal Server Error",500)},uB=class ${get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#$="/";routes=[];constructor(U={}){[...gB,hB].forEach((Y)=>{this[Y]=(Q,...w)=>{if(typeof Q==="string")this.#$=Q;else this.#G(Y,this.#$,Q);return w.forEach((N)=>{this.#G(Y,this.#$,N)}),this}}),this.on=(Y,Q,...w)=>{for(let N of[Q].flat()){this.#$=N;for(let j of[Y].flat())w.map((H)=>{this.#G(j.toUpperCase(),this.#$,H)})}return this},this.use=(Y,...Q)=>{if(typeof Y==="string")this.#$=Y;else this.#$="*",Q.unshift(Y);return Q.forEach((w)=>{this.#G(x$,this.#$,w)}),this};let{strict:G,...J}=U;Object.assign(this,J),this.getPath=G??!0?U.getPath??LQ:IB}#U(){let U=new $({router:this.router,getPath:this.getPath});return U.errorHandler=this.errorHandler,U.#X=this.#X,U.routes=this.routes,U}#X=eE;errorHandler=mB;route(U,X){let G=this.basePath(U);return X.routes.map((J)=>{let Y;if(X.errorHandler===mB)Y=J.handler;else Y=async(Q,w)=>(await _Q([],X.errorHandler)(Q,()=>J.handler(Q,w))).res,Y[bB]=J.handler;G.#G(J.method,J.path,Y)}),this}basePath(U){let X=this.#U();return X._basePath=z4(this._basePath,U),X}onError=(U)=>{return this.errorHandler=U,this};notFound=(U)=>{return this.#X=U,this};mount(U,X,G){let J,Y;if(G)if(typeof G==="function")Y=G;else if(Y=G.optionHandler,G.replaceRequest===!1)J=(N)=>N;else J=G.replaceRequest;let Q=Y?(N)=>{let j=Y(N);return Array.isArray(j)?j:[j]}:(N)=>{let j=void 0;try{j=N.executionCtx}catch{}return[N.env,j]};J||=(()=>{let N=z4(this._basePath,U),j=N==="/"?0:N.length;return(H)=>{let K=new URL(H.url);return K.pathname=K.pathname.slice(j)||"/",new Request(K,H)}})();let w=async(N,j)=>{let H=await X(J(N.req.raw),...Q(N));if(H)return H;await j()};return this.#G(x$,z4(U,"*"),w),this}#G(U,X,G){U=U.toUpperCase(),X=z4(this._basePath,X);let J={basePath:this._basePath,path:X,method:U,handler:G};this.router.add(U,X,[G,J]),this.routes.push(J)}#J(U,X){if(U instanceof Error)return this.errorHandler(U,X);throw U}#Q(U,X,G,J){if(J==="HEAD")return(async()=>new Response(null,await this.#Q(U,X,G,"GET")))();let Y=this.getPath(U,{env:G}),Q=this.router.match(J,Y),w=new fB(U,{path:Y,matchResult:Q,env:G,executionCtx:X,notFoundHandler:this.#X});if(Q[0].length===1){let j;try{j=Q[0][0][0][0](w,async()=>{w.res=await this.#X(w)})}catch(H){return this.#J(H,w)}return j instanceof Promise?j.then((H)=>H||(w.finalized?w.res:this.#X(w))).catch((H)=>this.#J(H,w)):j??this.#X(w)}let N=_Q(Q[0],this.errorHandler,this.#X);return(async()=>{try{let j=await N(w);if(!j.finalized)throw Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return j.res}catch(j){return this.#J(j,w)}})()}fetch=(U,...X)=>{return this.#Q(U,X[1],X[0],U.method)};request=(U,X,G,J)=>{if(U instanceof Request)return this.fetch(X?new Request(U,X):U,G,J);return U=U.toString(),this.fetch(new Request(/^https?:\/\//.test(U)?U:`http://localhost${z4("/",U)}`,X),G,J)};fire=()=>{addEventListener("fetch",(U)=>{U.respondWith(this.#Q(U.request,U,void 0,U.request.method))})}};var L2=[];function MX($,U){let X=this.buildAllMatchers(),G=(J,Y)=>{let Q=X[J]||X[x$],w=Q[2][Y];if(w)return w;let N=Y.match(Q[0]);if(!N)return[[],L2];let j=N.indexOf("",1);return[Q[1][j],N]};return this.match=G,G($,U)}var FX="[^/]+",A2=".*",q2="(?:|/.*)",o1=Symbol(),$S=new Set(".\\+*[^]$()");function US($,U){if($.length===1)return U.length===1?$<U?-1:1:-1;if(U.length===1)return 1;if($===A2||$===q2)return 1;else if(U===A2||U===q2)return-1;if($===FX)return 1;else if(U===FX)return-1;return $.length===U.length?$<U?-1:1:U.length-$.length}var yB=class ${#$;#U;#X=Object.create(null);insert(U,X,G,J,Y){if(U.length===0){if(this.#$!==void 0)throw o1;if(Y)return;this.#$=X;return}let[Q,...w]=U,N=Q==="*"?w.length===0?["","",A2]:["","",FX]:Q==="/*"?["","",q2]:Q.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),j;if(N){let H=N[1],K=N[2]||FX;if(H&&N[2]){if(K===".*")throw o1;if(K=K.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(K))throw o1}if(j=this.#X[K],!j){if(Object.keys(this.#X).some((z)=>z!==A2&&z!==q2))throw o1;if(Y)return;if(j=this.#X[K]=new $,H!=="")j.#U=J.varIndex++}if(!Y&&H!=="")G.push([H,j.#U])}else if(j=this.#X[Q],!j){if(Object.keys(this.#X).some((H)=>H.length>1&&H!==A2&&H!==q2))throw o1;if(Y)return;j=this.#X[Q]=new $}j.insert(w,X,G,J,Y)}buildRegExpStr(){let X=Object.keys(this.#X).sort(US).map((G)=>{let J=this.#X[G];return(typeof J.#U==="number"?`(${G})@${J.#U}`:$S.has(G)?`\\${G}`:G)+J.buildRegExpStr()});if(typeof this.#$==="number")X.unshift(`#${this.#$}`);if(X.length===0)return"";if(X.length===1)return X[0];return"(?:"+X.join("|")+")"}};var lB=class{#$={varIndex:0};#U=new yB;insert($,U,X){let G=[],J=[];for(let Q=0;;){let w=!1;if($=$.replace(/\{[^}]+\}/g,(N)=>{let j=`@\\${Q}`;return J[Q]=[j,N],Q++,w=!0,j}),!w)break}let Y=$.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let Q=J.length-1;Q>=0;Q--){let[w]=J[Q];for(let N=Y.length-1;N>=0;N--)if(Y[N].indexOf(w)!==-1){Y[N]=Y[N].replace(w,J[Q][1]);break}}return this.#U.insert(Y,U,G,this.#$,X),G}buildRegExp(){let $=this.#U.buildRegExpStr();if($==="")return[/^$/,[],[]];let U=0,X=[],G=[];return $=$.replace(/#(\d+)|@(\d+)|\.\*\$/g,(J,Y,Q)=>{if(Y!==void 0)return X[++U]=Number(Y),"$()";if(Q!==void 0)return G[Number(Q)]=++U,"";return""}),[new RegExp(`^${$}`),X,G]}};var JS=[/^$/,[],Object.create(null)],cB=Object.create(null);function iB($){return cB[$]??=new RegExp($==="*"?"":`^${$.replace(/\/\*$|([.\\+*[^\]$()])/g,(U,X)=>X?`\\${X}`:"(?:|/.*)")}$`)}function XS(){cB=Object.create(null)}function GS($){let U=new lB,X=[];if($.length===0)return JS;let G=$.map((j)=>[!/\*|\/:/.test(j[0]),...j]).sort(([j,H],[K,z])=>j?1:K?-1:H.length-z.length),J=Object.create(null);for(let j=0,H=-1,K=G.length;j<K;j++){let[z,W,O]=G[j];if(z)J[W]=[O.map(([B])=>[B,Object.create(null)]),L2];else H++;let D;try{D=U.insert(W,H,z)}catch(B){throw B===o1?new _X(W):B}if(z)continue;X[H]=O.map(([B,v])=>{let E=Object.create(null);v-=1;for(;v>=0;v--){let[L,M]=D[v];E[L]=M}return[B,E]})}let[Y,Q,w]=U.buildRegExp();for(let j=0,H=X.length;j<H;j++)for(let K=0,z=X[j].length;K<z;K++){let W=X[j][K]?.[1];if(!W)continue;let O=Object.keys(W);for(let D=0,B=O.length;D<B;D++)W[O[D]]=w[W[O[D]]]}let N=[];for(let j in Q)N[j]=X[Q[j]];return[Y,N,J]}function r0($,U){if(!$)return;for(let X of Object.keys($).sort((G,J)=>J.length-G.length))if(iB(X).test(U))return[...$[X]];return}var LX=class{name="RegExpRouter";#$;#U;constructor(){this.#$={[x$]:Object.create(null)},this.#U={[x$]:Object.create(null)}}add($,U,X){let G=this.#$,J=this.#U;if(!G||!J)throw Error(BX);if(!G[$])[G,J].forEach((w)=>{w[$]=Object.create(null),Object.keys(w[x$]).forEach((N)=>{w[$][N]=[...w[x$][N]]})});if(U==="/*")U="*";let Y=(U.match(/\/:/g)||[]).length;if(/\*$/.test(U)){let w=iB(U);if($===x$)Object.keys(G).forEach((N)=>{G[N][U]||=r0(G[N],U)||r0(G[x$],U)||[]});else G[$][U]||=r0(G[$],U)||r0(G[x$],U)||[];Object.keys(G).forEach((N)=>{if($===x$||$===N)Object.keys(G[N]).forEach((j)=>{w.test(j)&&G[N][j].push([X,Y])})}),Object.keys(J).forEach((N)=>{if($===x$||$===N)Object.keys(J[N]).forEach((j)=>w.test(j)&&J[N][j].push([X,Y]))});return}let Q=DX(U)||[U];for(let w=0,N=Q.length;w<N;w++){let j=Q[w];Object.keys(J).forEach((H)=>{if($===x$||$===H)J[H][j]||=[...r0(G[H],j)||r0(G[x$],j)||[]],J[H][j].push([X,Y-N+w+1])})}}match=MX;buildAllMatchers(){let $=Object.create(null);return Object.keys(this.#U).concat(Object.keys(this.#$)).forEach((U)=>{$[U]||=this.#X(U)}),this.#$=this.#U=void 0,XS(),$}#X($){let U=[],X=$===x$;if([this.#$,this.#U].forEach((G)=>{let J=G[$]?Object.keys(G[$]).map((Y)=>[Y,G[$][Y]]):[];if(J.length!==0)X||=!0,U.push(...J);else if($!==x$)U.push(...Object.keys(G[x$]).map((Y)=>[Y,G[x$][Y]]))}),!X)return null;else return GS(U)}};var YS=class{name="PreparedRegExpRouter";#$;#U;constructor($,U){this.#$=$,this.#U=U}#X($,U){let X=this.#$[$];X[1].forEach((G)=>G&&G.push(U)),Object.values(X[2]).forEach((G)=>G[0].push(U))}#G($,U,X,G,J){let Y=this.#$[$];if(!J)Y[2][U][0].push([X,{}]);else G.forEach((Q)=>{if(typeof Q==="number")Y[1][Q].push([X,J]);else Y[2][Q||U][0].push([X,J])})}add($,U,X){if(!this.#$[$]){let J=this.#$[x$],Y={};for(let Q in J[2])Y[Q]=[J[2][Q][0].slice(),L2];this.#$[$]=[J[0],J[1].map((Q)=>Array.isArray(Q)?Q.slice():0),Y]}if(U==="/*"||U==="*"){let J=[X,{}];if($===x$)for(let Y in this.#$)this.#X(Y,J);else this.#X($,J);return}let G=this.#U[U];if(!G)throw Error(`Path ${U} is not registered`);for(let[J,Y]of G)if($===x$)for(let Q in this.#$)this.#G(Q,U,X,J,Y);else this.#G($,U,X,J,Y)}buildAllMatchers(){return this.#$}match=MX};var qQ=class{name="SmartRouter";#$=[];#U=[];constructor($){this.#$=$.routers}add($,U,X){if(!this.#U)throw Error(BX);this.#U.push([$,U,X])}match($,U){if(!this.#U)throw Error("Fatal error");let X=this.#$,G=this.#U,J=X.length,Y=0,Q;for(;Y<J;Y++){let w=X[Y];try{for(let N=0,j=G.length;N<j;N++)w.add(...G[N]);Q=w.match($,U)}catch(N){if(N instanceof _X)continue;throw N}this.match=w.match.bind(w),this.#$=[w],this.#U=void 0;break}if(Y===J)throw Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,Q}get activeRouter(){if(this.#U||this.#$.length!==1)throw Error("No active router has been determined yet.");return this.#$[0]}};var v2=Object.create(null),nB=class ${#$;#U;#X;#G=0;#J=v2;constructor(U,X,G){if(this.#U=G||Object.create(null),this.#$=[],U&&X){let J=Object.create(null);J[U]={handler:X,possibleKeys:[],score:0},this.#$=[J]}this.#X=[]}insert(U,X,G){this.#G=++this.#G;let J=this,Y=SB(X),Q=[];for(let w=0,N=Y.length;w<N;w++){let j=Y[w],H=Y[w+1],K=ZB(j,H),z=Array.isArray(K)?K[0]:j;if(z in J.#U){if(J=J.#U[z],K)Q.push(K[1]);continue}if(J.#U[z]=new $,K)J.#X.push(K),Q.push(K[1]);J=J.#U[z]}return J.#$.push({[U]:{handler:G,possibleKeys:Q.filter((w,N,j)=>j.indexOf(w)===N),score:this.#G}}),J}#Q(U,X,G,J){let Y=[];for(let Q=0,w=U.#$.length;Q<w;Q++){let N=U.#$[Q],j=N[X]||N[x$],H={};if(j!==void 0){if(j.params=Object.create(null),Y.push(j),G!==v2||J&&J!==v2)for(let K=0,z=j.possibleKeys.length;K<z;K++){let W=j.possibleKeys[K],O=H[j.score];j.params[W]=J?.[W]&&!O?J[W]:G[W]??J?.[W],H[j.score]=!0}}}return Y}search(U,X){let G=[];this.#J=v2;let Y=[this],Q=FQ(X),w=[];for(let N=0,j=Q.length;N<j;N++){let H=Q[N],K=N===j-1,z=[];for(let W=0,O=Y.length;W<O;W++){let D=Y[W],B=D.#U[H];if(B)if(B.#J=D.#J,K){if(B.#U["*"])G.push(...this.#Q(B.#U["*"],U,D.#J));G.push(...this.#Q(B,U,D.#J))}else z.push(B);for(let v=0,E=D.#X.length;v<E;v++){let L=D.#X[v],M=D.#J===v2?{}:{...D.#J};if(L==="*"){let e=D.#U["*"];if(e)G.push(...this.#Q(e,U,D.#J)),e.#J=M,z.push(e);continue}let[I,x,g]=L;if(!H&&!(g instanceof RegExp))continue;let h=D.#U[I],r=Q.slice(N).join("/");if(g instanceof RegExp){let e=g.exec(r);if(e){if(M[x]=e[0],G.push(...this.#Q(h,U,D.#J,M)),Object.keys(h.#U).length){h.#J=M;let q$=e[0].match(/\//)?.length??0;(w[q$]||=[]).push(h)}continue}}if(g===!0||g.test(H))if(M[x]=H,K){if(G.push(...this.#Q(h,U,M,D.#J)),h.#U["*"])G.push(...this.#Q(h.#U["*"],U,M,D.#J))}else h.#J=M,z.push(h)}}Y=z.concat(w.shift()??[])}if(G.length>1)G.sort((N,j)=>{return N.score-j.score});return[G.map(({handler:N,params:j})=>[N,j])]}};var vQ=class{name="TrieRouter";#$;constructor(){this.#$=new nB}add($,U,X){let G=DX(U);if(G){for(let J=0,Y=G.length;J<Y;J++)this.#$.insert($,G[J],X);return}this.#$.insert($,U,X)}match($,U){return this.#$.search($,U)}};var F6=class extends uB{constructor($={}){super($);this.router=$.router??new qQ({routers:[new LX,new vQ]})}};var AX="internal_error",pB="Internal error. Read the server logs for more details.",QS="user_error",l$=class extends Error{__type="ActorError";public;metadata;statusCode=500;group;code;static isActorError($){return typeof $==="object"&&$.__type==="ActorError"}constructor($,U,X,G){super(X,{cause:G==null?void 0:G.cause});if(this.group=$,this.code=U,this.public=(G==null?void 0:G.public)??!1,this.metadata=G==null?void 0:G.metadata,G==null?void 0:G.public)this.statusCode=400}toString(){return this.message}},t0=class extends l${constructor($){super("actor",AX,$)}},dB=class extends t0{constructor($){super(`Unreachable case: ${$}`)}},qX=class extends l${constructor(){super("actor","state_not_enabled","State not enabled. Must implement `createState` or `state` to use state. (https://www.rivet.dev/docs/actors/state/#initializing-state)")}},oB=class extends l${constructor(){super("actor","conn_state_not_enabled","Connection state not enabled. Must implement `createConnectionState` or `connectionState` to use connection state. (https://www.rivet.dev/docs/actors/connections/#connection-state)")}},rB=class extends l${constructor(){super("actor","vars_not_enabled","Variables not enabled. Must implement `createVars` or `vars` to use state. (https://www.rivet.dev/docs/actors/ephemeral-variables/#initializing-variables)")}},tB=class extends l${constructor(){super("action","timed_out","Action timed out. This can be increased with: `actor({ options: { action: { timeout: ... } } })`",{public:!0})}},PQ=class extends l${constructor($){super("action","not_found",`Action '${$}' not found. Validate the action exists on your actor.`,{public:!0})}},aB=class extends l${constructor($){super("encoding","invalid",`Invalid encoding \`${$}\`. (https://www.rivet.dev/docs/actors/clients/#actor-client)`,{public:!0})}},sB=class extends l${constructor(){super("message","too_long","Message too long. This can be configured with: `registry.start({ maxIncomingMessageSize: ... })`",{public:!0})}},eB=class extends l${constructor($){super("message","malformed",`Malformed message: ${$}`,{public:!0,cause:$})}},vX=class extends l${constructor($){let U="";if($==null?void 0:$.path)U+=`Attempted to set invalid state at path \`${$.path}\`.`;else U+="Attempted to set invalid state.";U+=" Valid types include: null, undefined, boolean, string, number, BigInt, Date, RegExp, Error, typed arrays (Uint8Array, Int8Array, Float32Array, etc.), Map, Set, Array, and plain objects. (https://www.rivet.dev/docs/actors/state/#limitations)";super("state","invalid_type",U)}},P2=class extends l${constructor($){super("feature","unsupported",`Unsupported feature: ${$}`)}},EQ=class extends l${constructor($,U){super("user",(U==null?void 0:U.code)??QS,$,{public:!0,metadata:U==null?void 0:U.metadata})}};var PX=class extends l${constructor($){super("request","invalid",`Invalid request: ${$}`,{public:!0,cause:$})}},SQ=class extends l${constructor($){super("actor","not_found",$?`Actor not found: ${$} (https://www.rivet.dev/docs/actors/clients/#actor-client)`:"Actor not found (https://www.rivet.dev/docs/actors/clients/#actor-client)",{public:!0})}},$_=class extends l${constructor($,U){super("actor","duplicate_key",`Actor already exists with name '${$}' and key '${JSON.stringify(U)}' (https://www.rivet.dev/docs/actors/clients/#actor-client)`,{public:!0})}},U_=class extends l${constructor($){super("actor","stopping",$?`Actor stopping: ${$}`:"Actor stopping",{public:!0})}};var J_=class extends l${constructor($){super("params","invalid",$,{public:!0})}},X_=class extends l${constructor(){super("database","not_enabled","Database not enabled. Must implement `database` to use database.")}},G_=class extends l${constructor(){super("handler","request_not_defined","Raw request handler not defined. Actor must implement `onRequest` to handle raw HTTP requests. (https://www.rivet.dev/docs/actors/fetch-and-websocket-handler/)",{public:!0});this.statusCode=404}};var Y_=class extends l${constructor(){super("handler","invalid_request_handler_response","Actor's onRequest handler must return a Response object. Returning void/undefined is not allowed. (https://www.rivet.dev/docs/actors/fetch-and-websocket-handler/)",{public:!0});this.statusCode=500}},ZQ=class extends l${constructor(){super("request","missing_actor_header","Missing x-rivet-actor header when x-rivet-target=actor",{public:!0});this.statusCode=400}},IQ=class extends l${constructor(){super("driver","websockets_not_enabled","WebSockets are not enabled for this driver",{public:!0});this.statusCode=400}};var sX=t$(XF(),1);var V={};H6(V,{void:()=>Mk,util:()=>D$,unknown:()=>Bk,union:()=>qk,undefined:()=>zk,tuple:()=>Ek,transformer:()=>hk,symbol:()=>Ok,string:()=>KF,strictObject:()=>Ak,setErrorMap:()=>bT,set:()=>Ik,record:()=>Sk,quotelessJson:()=>hT,promise:()=>fk,preprocess:()=>mk,pipeline:()=>uk,ostring:()=>yk,optional:()=>gk,onumber:()=>lk,oboolean:()=>ck,objectUtil:()=>F9,object:()=>Lk,number:()=>OF,nullable:()=>bk,null:()=>Dk,never:()=>_k,nativeEnum:()=>xk,nan:()=>Hk,map:()=>Zk,makeIssue:()=>I2,literal:()=>kk,lazy:()=>Tk,late:()=>Nk,isValid:()=>q1,isDirty:()=>dX,isAsync:()=>UU,isAborted:()=>pX,intersection:()=>Pk,instanceof:()=>jk,getParsedType:()=>T4,getErrorMap:()=>$U,function:()=>Rk,enum:()=>Ck,effect:()=>hk,discriminatedUnion:()=>vk,defaultErrorMap:()=>e4,datetimeRegex:()=>jF,date:()=>Kk,custom:()=>WF,coerce:()=>ik,boolean:()=>zF,bigint:()=>Wk,array:()=>Fk,any:()=>Vk,addIssueToContext:()=>o,ZodVoid:()=>T2,ZodUnknown:()=>v1,ZodUnion:()=>wU,ZodUndefined:()=>YU,ZodType:()=>H$,ZodTuple:()=>C4,ZodTransformer:()=>L4,ZodSymbol:()=>R2,ZodString:()=>B4,ZodSet:()=>J0,ZodSchema:()=>H$,ZodRecord:()=>k2,ZodReadonly:()=>zU,ZodPromise:()=>X0,ZodPipeline:()=>f2,ZodParsedType:()=>i,ZodOptional:()=>M4,ZodObject:()=>d$,ZodNumber:()=>P1,ZodNullable:()=>U1,ZodNull:()=>QU,ZodNever:()=>k4,ZodNativeEnum:()=>WU,ZodNaN:()=>x2,ZodMap:()=>C2,ZodLiteral:()=>HU,ZodLazy:()=>jU,ZodIssueCode:()=>f,ZodIntersection:()=>NU,ZodFunction:()=>XU,ZodFirstPartyTypeKind:()=>J$,ZodError:()=>C6,ZodEnum:()=>S1,ZodEffects:()=>L4,ZodDiscriminatedUnion:()=>oX,ZodDefault:()=>KU,ZodDate:()=>$0,ZodCatch:()=>OU,ZodBranded:()=>rX,ZodBoolean:()=>GU,ZodBigInt:()=>E1,ZodArray:()=>_4,ZodAny:()=>U0,Schema:()=>H$,ParseStatus:()=>D6,OK:()=>L6,NEVER:()=>nk,INVALID:()=>U$,EMPTY_PATH:()=>mT,DIRTY:()=>e1,BRAND:()=>wk});var D$;(function($){$.assertEqual=(J)=>{};function U(J){}$.assertIs=U;function X(J){throw Error()}$.assertNever=X,$.arrayToEnum=(J)=>{let Y={};for(let Q of J)Y[Q]=Q;return Y},$.getValidEnumValues=(J)=>{let Y=$.objectKeys(J).filter((w)=>typeof J[J[w]]!=="number"),Q={};for(let w of Y)Q[w]=J[w];return $.objectValues(Q)},$.objectValues=(J)=>{return $.objectKeys(J).map(function(Y){return J[Y]})},$.objectKeys=typeof Object.keys==="function"?(J)=>Object.keys(J):(J)=>{let Y=[];for(let Q in J)if(Object.prototype.hasOwnProperty.call(J,Q))Y.push(Q);return Y},$.find=(J,Y)=>{for(let Q of J)if(Y(Q))return Q;return},$.isInteger=typeof Number.isInteger==="function"?(J)=>Number.isInteger(J):(J)=>typeof J==="number"&&Number.isFinite(J)&&Math.floor(J)===J;function G(J,Y=" | "){return J.map((Q)=>typeof Q==="string"?`'${Q}'`:Q).join(Y)}$.joinValues=G,$.jsonStringifyReplacer=(J,Y)=>{if(typeof Y==="bigint")return Y.toString();return Y}})(D$||(D$={}));var F9;(function($){$.mergeShapes=(U,X)=>{return{...U,...X}}})(F9||(F9={}));var i=D$.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),T4=($)=>{switch(typeof $){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN($)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray($))return i.array;if($===null)return i.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return i.promise;if(typeof Map<"u"&&$ instanceof Map)return i.map;if(typeof Set<"u"&&$ instanceof Set)return i.set;if(typeof Date<"u"&&$ instanceof Date)return i.date;return i.object;default:return i.unknown}};var f=D$.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hT=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class C6 extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(X)=>{this.issues=[...this.issues,X]},this.addIssues=(X=[])=>{this.issues=[...this.issues,...X]};let U=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,U);else this.__proto__=U;this.name="ZodError",this.issues=$}format($){let U=$||function(J){return J.message},X={_errors:[]},G=(J)=>{for(let Y of J.issues)if(Y.code==="invalid_union")Y.unionErrors.map(G);else if(Y.code==="invalid_return_type")G(Y.returnTypeError);else if(Y.code==="invalid_arguments")G(Y.argumentsError);else if(Y.path.length===0)X._errors.push(U(Y));else{let Q=X,w=0;while(w<Y.path.length){let N=Y.path[w];if(w!==Y.path.length-1)Q[N]=Q[N]||{_errors:[]};else Q[N]=Q[N]||{_errors:[]},Q[N]._errors.push(U(Y));Q=Q[N],w++}}};return G(this),X}static assert($){if(!($ instanceof C6))throw Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,D$.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(U)=>U.message){let U={},X=[];for(let G of this.issues)if(G.path.length>0){let J=G.path[0];U[J]=U[J]||[],U[J].push($(G))}else X.push($(G));return{formErrors:X,fieldErrors:U}}get formErrors(){return this.flatten()}}C6.create=($)=>{return new C6($)};var gT=($,U)=>{let X;switch($.code){case f.invalid_type:if($.received===i.undefined)X="Required";else X=`Expected ${$.expected}, received ${$.received}`;break;case f.invalid_literal:X=`Invalid literal value, expected ${JSON.stringify($.expected,D$.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:X=`Unrecognized key(s) in object: ${D$.joinValues($.keys,", ")}`;break;case f.invalid_union:X="Invalid input";break;case f.invalid_union_discriminator:X=`Invalid discriminator value. Expected ${D$.joinValues($.options)}`;break;case f.invalid_enum_value:X=`Invalid enum value. Expected ${D$.joinValues($.options)}, received '${$.received}'`;break;case f.invalid_arguments:X="Invalid function arguments";break;case f.invalid_return_type:X="Invalid function return type";break;case f.invalid_date:X="Invalid date";break;case f.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(X=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")X=`${X} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)X=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)X=`Invalid input: must end with "${$.validation.endsWith}"`;else D$.assertNever($.validation);else if($.validation!=="regex")X=`Invalid ${$.validation}`;else X="Invalid";break;case f.too_small:if($.type==="array")X=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")X=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")X=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="bigint")X=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")X=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else X="Invalid input";break;case f.too_big:if($.type==="array")X=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")X=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")X=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")X=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")X=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else X="Invalid input";break;case f.custom:X="Invalid input";break;case f.invalid_intersection_types:X="Intersection results could not be merged";break;case f.not_multiple_of:X=`Number must be a multiple of ${$.multipleOf}`;break;case f.not_finite:X="Number must be finite";break;default:X=U.defaultError,D$.assertNever($)}return{message:X}},e4=gT;var GF=e4;function bT($){GF=$}function $U(){return GF}var I2=($)=>{let{data:U,path:X,errorMaps:G,issueData:J}=$,Y=[...X,...J.path||[]],Q={...J,path:Y};if(J.message!==void 0)return{...J,path:Y,message:J.message};let w="",N=G.filter((j)=>!!j).slice().reverse();for(let j of N)w=j(Q,{data:U,defaultError:w}).message;return{...J,path:Y,message:w}},mT=[];function o($,U){let X=$U(),G=I2({issueData:U,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,X,X===e4?void 0:e4].filter((J)=>!!J)});$.common.issues.push(G)}class D6{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,U){let X=[];for(let G of U){if(G.status==="aborted")return U$;if(G.status==="dirty")$.dirty();X.push(G.value)}return{status:$.value,value:X}}static async mergeObjectAsync($,U){let X=[];for(let G of U){let J=await G.key,Y=await G.value;X.push({key:J,value:Y})}return D6.mergeObjectSync($,X)}static mergeObjectSync($,U){let X={};for(let G of U){let{key:J,value:Y}=G;if(J.status==="aborted")return U$;if(Y.status==="aborted")return U$;if(J.status==="dirty")$.dirty();if(Y.status==="dirty")$.dirty();if(J.value!=="__proto__"&&(typeof Y.value<"u"||G.alwaysSet))X[J.value]=Y.value}return{status:$.value,value:X}}}var U$=Object.freeze({status:"aborted"}),e1=($)=>({status:"dirty",value:$}),L6=($)=>({status:"valid",value:$}),pX=($)=>$.status==="aborted",dX=($)=>$.status==="dirty",q1=($)=>$.status==="valid",UU=($)=>typeof Promise<"u"&&$ instanceof Promise;var a;(function($){$.errToObj=(U)=>typeof U==="string"?{message:U}:U||{},$.toString=(U)=>typeof U==="string"?U:U?.message})(a||(a={}));class F4{constructor($,U,X,G){this._cachedPath=[],this.parent=$,this.data=U,this._path=X,this._key=G}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var YF=($,U)=>{if(q1(U))return{success:!0,data:U.value};else{if(!$.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let X=new C6($.common.issues);return this._error=X,this._error}}}};function w$($){if(!$)return{};let{errorMap:U,invalid_type_error:X,required_error:G,description:J}=$;if(U&&(X||G))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(U)return{errorMap:U,description:J};return{errorMap:(Q,w)=>{let{message:N}=$;if(Q.code==="invalid_enum_value")return{message:N??w.defaultError};if(typeof w.data>"u")return{message:N??G??w.defaultError};if(Q.code!=="invalid_type")return{message:w.defaultError};return{message:N??X??w.defaultError}},description:J}}class H${get description(){return this._def.description}_getType($){return T4($.data)}_getOrReturnCtx($,U){return U||{common:$.parent.common,data:$.data,parsedType:T4($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new D6,ctx:{common:$.parent.common,data:$.data,parsedType:T4($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let U=this._parse($);if(UU(U))throw Error("Synchronous parse encountered promise.");return U}_parseAsync($){let U=this._parse($);return Promise.resolve(U)}parse($,U){let X=this.safeParse($,U);if(X.success)return X.data;throw X.error}safeParse($,U){let X={common:{issues:[],async:U?.async??!1,contextualErrorMap:U?.errorMap},path:U?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:T4($)},G=this._parseSync({data:$,path:X.path,parent:X});return YF(X,G)}"~validate"($){let U={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:T4($)};if(!this["~standard"].async)try{let X=this._parseSync({data:$,path:[],parent:U});return q1(X)?{value:X.value}:{issues:U.common.issues}}catch(X){if(X?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;U.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:U}).then((X)=>q1(X)?{value:X.value}:{issues:U.common.issues})}async parseAsync($,U){let X=await this.safeParseAsync($,U);if(X.success)return X.data;throw X.error}async safeParseAsync($,U){let X={common:{issues:[],contextualErrorMap:U?.errorMap,async:!0},path:U?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:T4($)},G=this._parse({data:$,path:X.path,parent:X}),J=await(UU(G)?G:Promise.resolve(G));return YF(X,J)}refine($,U){let X=(G)=>{if(typeof U==="string"||typeof U>"u")return{message:U};else if(typeof U==="function")return U(G);else return U};return this._refinement((G,J)=>{let Y=$(G),Q=()=>J.addIssue({code:f.custom,...X(G)});if(typeof Promise<"u"&&Y instanceof Promise)return Y.then((w)=>{if(!w)return Q(),!1;else return!0});if(!Y)return Q(),!1;else return!0})}refinement($,U){return this._refinement((X,G)=>{if(!$(X))return G.addIssue(typeof U==="function"?U(X,G):U),!1;else return!0})}_refinement($){return new L4({schema:this,typeName:J$.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(U)=>this["~validate"](U)}}optional(){return M4.create(this,this._def)}nullable(){return U1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _4.create(this)}promise(){return X0.create(this,this._def)}or($){return wU.create([this,$],this._def)}and($){return NU.create(this,$,this._def)}transform($){return new L4({...w$(this._def),schema:this,typeName:J$.ZodEffects,effect:{type:"transform",transform:$}})}default($){let U=typeof $==="function"?$:()=>$;return new KU({...w$(this._def),innerType:this,defaultValue:U,typeName:J$.ZodDefault})}brand(){return new rX({typeName:J$.ZodBranded,type:this,...w$(this._def)})}catch($){let U=typeof $==="function"?$:()=>$;return new OU({...w$(this._def),innerType:this,catchValue:U,typeName:J$.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return f2.create(this,$)}readonly(){return zU.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var uT=/^c[^\s-]{8,}$/i,yT=/^[0-9a-z]+$/,lT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iT=/^[a-z0-9_-]{21}$/i,nT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",L9,rT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$k=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uk=new RegExp(`^${wF}$`);function NF($){let U="[0-5]\\d";if($.precision)U=`${U}\\.\\d{${$.precision}}`;else if($.precision==null)U=`${U}(\\.\\d+)?`;let X=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${U})${X}`}function Jk($){return new RegExp(`^${NF($)}$`)}function jF($){let U=`${wF}T${NF($)}`,X=[];if(X.push($.local?"Z?":"Z"),$.offset)X.push("([+-]\\d{2}:?\\d{2})");return U=`${U}(${X.join("|")})`,new RegExp(`^${U}$`)}function Xk($,U){if((U==="v4"||!U)&&rT.test($))return!0;if((U==="v6"||!U)&&aT.test($))return!0;return!1}function Gk($,U){if(!nT.test($))return!1;try{let[X]=$.split(".");if(!X)return!1;let G=X.replace(/-/g,"+").replace(/_/g,"/").padEnd(X.length+(4-X.length%4)%4,"="),J=JSON.parse(atob(G));if(typeof J!=="object"||J===null)return!1;if("typ"in J&&J?.typ!=="JWT")return!1;if(!J.alg)return!1;if(U&&J.alg!==U)return!1;return!0}catch{return!1}}function Yk($,U){if((U==="v4"||!U)&&tT.test($))return!0;if((U==="v6"||!U)&&sT.test($))return!0;return!1}class B4 extends H${_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==i.string){let J=this._getOrReturnCtx($);return o(J,{code:f.invalid_type,expected:i.string,received:J.parsedType}),U$}let X=new D6,G=void 0;for(let J of this._def.checks)if(J.kind==="min"){if($.data.length<J.value)G=this._getOrReturnCtx($,G),o(G,{code:f.too_small,minimum:J.value,type:"string",inclusive:!0,exact:!1,message:J.message}),X.dirty()}else if(J.kind==="max"){if($.data.length>J.value)G=this._getOrReturnCtx($,G),o(G,{code:f.too_big,maximum:J.value,type:"string",inclusive:!0,exact:!1,message:J.message}),X.dirty()}else if(J.kind==="length"){let Y=$.data.length>J.value,Q=$.data.length<J.value;if(Y||Q){if(G=this._getOrReturnCtx($,G),Y)o(G,{code:f.too_big,maximum:J.value,type:"string",inclusive:!0,exact:!0,message:J.message});else if(Q)o(G,{code:f.too_small,minimum:J.value,type:"string",inclusive:!0,exact:!0,message:J.message});X.dirty()}}else if(J.kind==="email"){if(!dT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"email",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="emoji"){if(!L9)L9=new RegExp(oT,"u");if(!L9.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"emoji",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="uuid"){if(!cT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"uuid",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="nanoid"){if(!iT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"nanoid",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="cuid"){if(!uT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"cuid",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="cuid2"){if(!yT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"cuid2",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="ulid"){if(!lT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"ulid",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="url")try{new URL($.data)}catch{G=this._getOrReturnCtx($,G),o(G,{validation:"url",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="regex"){if(J.regex.lastIndex=0,!J.regex.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"regex",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="trim")$.data=$.data.trim();else if(J.kind==="includes"){if(!$.data.includes(J.value,J.position))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:{includes:J.value,position:J.position},message:J.message}),X.dirty()}else if(J.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(J.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(J.kind==="startsWith"){if(!$.data.startsWith(J.value))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:{startsWith:J.value},message:J.message}),X.dirty()}else if(J.kind==="endsWith"){if(!$.data.endsWith(J.value))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:{endsWith:J.value},message:J.message}),X.dirty()}else if(J.kind==="datetime"){if(!jF(J).test($.data))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:"datetime",message:J.message}),X.dirty()}else if(J.kind==="date"){if(!Uk.test($.data))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:"date",message:J.message}),X.dirty()}else if(J.kind==="time"){if(!Jk(J).test($.data))G=this._getOrReturnCtx($,G),o(G,{code:f.invalid_string,validation:"time",message:J.message}),X.dirty()}else if(J.kind==="duration"){if(!pT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"duration",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="ip"){if(!Xk($.data,J.version))G=this._getOrReturnCtx($,G),o(G,{validation:"ip",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="jwt"){if(!Gk($.data,J.alg))G=this._getOrReturnCtx($,G),o(G,{validation:"jwt",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="cidr"){if(!Yk($.data,J.version))G=this._getOrReturnCtx($,G),o(G,{validation:"cidr",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="base64"){if(!eT.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"base64",code:f.invalid_string,message:J.message}),X.dirty()}else if(J.kind==="base64url"){if(!$k.test($.data))G=this._getOrReturnCtx($,G),o(G,{validation:"base64url",code:f.invalid_string,message:J.message}),X.dirty()}else D$.assertNever(J);return{status:X.value,value:$.data}}_regex($,U,X){return this.refinement((G)=>$.test(G),{validation:U,code:f.invalid_string,...a.errToObj(X)})}_addCheck($){return new B4({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...a.errToObj($)})}url($){return this._addCheck({kind:"url",...a.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...a.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...a.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...a.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...a.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...a.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...a.errToObj($)})}base64($){return this._addCheck({kind:"base64",...a.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...a.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...a.errToObj($)})}ip($){return this._addCheck({kind:"ip",...a.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...a.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision>"u"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...a.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision>"u"?null:$?.precision,...a.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...a.errToObj($)})}regex($,U){return this._addCheck({kind:"regex",regex:$,...a.errToObj(U)})}includes($,U){return this._addCheck({kind:"includes",value:$,position:U?.position,...a.errToObj(U?.message)})}startsWith($,U){return this._addCheck({kind:"startsWith",value:$,...a.errToObj(U)})}endsWith($,U){return this._addCheck({kind:"endsWith",value:$,...a.errToObj(U)})}min($,U){return this._addCheck({kind:"min",value:$,...a.errToObj(U)})}max($,U){return this._addCheck({kind:"max",value:$,...a.errToObj(U)})}length($,U){return this._addCheck({kind:"length",value:$,...a.errToObj(U)})}nonempty($){return this.min(1,a.errToObj($))}trim(){return new B4({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new B4({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new B4({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let U of this._def.checks)if(U.kind==="min"){if($===null||U.value>$)$=U.value}return $}get maxLength(){let $=null;for(let U of this._def.checks)if(U.kind==="max"){if($===null||U.value<$)$=U.value}return $}}B4.create=($)=>{return new B4({checks:[],typeName:J$.ZodString,coerce:$?.coerce??!1,...w$($)})};function Qk($,U){let X=($.toString().split(".")[1]||"").length,G=(U.toString().split(".")[1]||"").length,J=X>G?X:G,Y=Number.parseInt($.toFixed(J).replace(".","")),Q=Number.parseInt(U.toFixed(J).replace(".",""));return Y%Q/10**J}class P1 extends H${constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==i.number){let J=this._getOrReturnCtx($);return o(J,{code:f.invalid_type,expected:i.number,received:J.parsedType}),U$}let X=void 0,G=new D6;for(let J of this._def.checks)if(J.kind==="int"){if(!D$.isInteger($.data))X=this._getOrReturnCtx($,X),o(X,{code:f.invalid_type,expected:"integer",received:"float",message:J.message}),G.dirty()}else if(J.kind==="min"){if(J.inclusive?$.data<J.value:$.data<=J.value)X=this._getOrReturnCtx($,X),o(X,{code:f.too_small,minimum:J.value,type:"number",inclusive:J.inclusive,exact:!1,message:J.message}),G.dirty()}else if(J.kind==="max"){if(J.inclusive?$.data>J.value:$.data>=J.value)X=this._getOrReturnCtx($,X),o(X,{code:f.too_big,maximum:J.value,type:"number",inclusive:J.inclusive,exact:!1,message:J.message}),G.dirty()}else if(J.kind==="multipleOf"){if(Qk($.data,J.value)!==0)X=this._getOrReturnCtx($,X),o(X,{code:f.not_multiple_of,multipleOf:J.value,message:J.message}),G.dirty()}else if(J.kind==="finite"){if(!Number.isFinite($.data))X=this._getOrReturnCtx($,X),o(X,{code:f.not_finite,message:J.message}),G.dirty()}else D$.assertNever(J);return{status:G.value,value:$.data}}gte($,U){return this.setLimit("min",$,!0,a.toString(U))}gt($,U){return this.setLimit("min",$,!1,a.toString(U))}lte($,U){return this.setLimit("max",$,!0,a.toString(U))}lt($,U){return this.setLimit("max",$,!1,a.toString(U))}setLimit($,U,X,G){return new P1({...this._def,checks:[...this._def.checks,{kind:$,value:U,inclusive:X,message:a.toString(G)}]})}_addCheck($){return new P1({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:a.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:a.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:a.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:a.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:a.toString($)})}multipleOf($,U){return this._addCheck({kind:"multipleOf",value:$,message:a.toString(U)})}finite($){return this._addCheck({kind:"finite",message:a.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:a.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:a.toString($)})}get minValue(){let $=null;for(let U of this._def.checks)if(U.kind==="min"){if($===null||U.value>$)$=U.value}return $}get maxValue(){let $=null;for(let U of this._def.checks)if(U.kind==="max"){if($===null||U.value<$)$=U.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&D$.isInteger($.value))}get isFinite(){let $=null,U=null;for(let X of this._def.checks)if(X.kind==="finite"||X.kind==="int"||X.kind==="multipleOf")return!0;else if(X.kind==="min"){if(U===null||X.value>U)U=X.value}else if(X.kind==="max"){if($===null||X.value<$)$=X.value}return Number.isFinite(U)&&Number.isFinite($)}}P1.create=($)=>{return new P1({checks:[],typeName:J$.ZodNumber,coerce:$?.coerce||!1,...w$($)})};class E1 extends H${constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==i.bigint)return this._getInvalidInput($);let X=void 0,G=new D6;for(let J of this._def.checks)if(J.kind==="min"){if(J.inclusive?$.data<J.value:$.data<=J.value)X=this._getOrReturnCtx($,X),o(X,{code:f.too_small,type:"bigint",minimum:J.value,inclusive:J.inclusive,message:J.message}),G.dirty()}else if(J.kind==="max"){if(J.inclusive?$.data>J.value:$.data>=J.value)X=this._getOrReturnCtx($,X),o(X,{code:f.too_big,type:"bigint",maximum:J.value,inclusive:J.inclusive,message:J.message}),G.dirty()}else if(J.kind==="multipleOf"){if($.data%J.value!==BigInt(0))X=this._getOrReturnCtx($,X),o(X,{code:f.not_multiple_of,multipleOf:J.value,message:J.message}),G.dirty()}else D$.assertNever(J);return{status:G.value,value:$.data}}_getInvalidInput($){let U=this._getOrReturnCtx($);return o(U,{code:f.invalid_type,expected:i.bigint,received:U.parsedType}),U$}gte($,U){return this.setLimit("min",$,!0,a.toString(U))}gt($,U){return this.setLimit("min",$,!1,a.toString(U))}lte($,U){return this.setLimit("max",$,!0,a.toString(U))}lt($,U){return this.setLimit("max",$,!1,a.toString(U))}setLimit($,U,X,G){return new E1({...this._def,checks:[...this._def.checks,{kind:$,value:U,inclusive:X,message:a.toString(G)}]})}_addCheck($){return new E1({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:a.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:a.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:a.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:a.toString($)})}multipleOf($,U){return this._addCheck({kind:"multipleOf",value:$,message:a.toString(U)})}get minValue(){let $=null;for(let U of this._def.checks)if(U.kind==="min"){if($===null||U.value>$)$=U.value}return $}get maxValue(){let $=null;for(let U of this._def.checks)if(U.kind==="max"){if($===null||U.value<$)$=U.value}return $}}E1.create=($)=>{return new E1({checks:[],typeName:J$.ZodBigInt,coerce:$?.coerce??!1,...w$($)})};class GU extends H${_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==i.boolean){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.boolean,received:X.parsedType}),U$}return L6($.data)}}GU.create=($)=>{return new GU({typeName:J$.ZodBoolean,coerce:$?.coerce||!1,...w$($)})};class $0 extends H${_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==i.date){let J=this._getOrReturnCtx($);return o(J,{code:f.invalid_type,expected:i.date,received:J.parsedType}),U$}if(Number.isNaN($.data.getTime())){let J=this._getOrReturnCtx($);return o(J,{code:f.invalid_date}),U$}let X=new D6,G=void 0;for(let J of this._def.checks)if(J.kind==="min"){if($.data.getTime()<J.value)G=this._getOrReturnCtx($,G),o(G,{code:f.too_small,message:J.message,inclusive:!0,exact:!1,minimum:J.value,type:"date"}),X.dirty()}else if(J.kind==="max"){if($.data.getTime()>J.value)G=this._getOrReturnCtx($,G),o(G,{code:f.too_big,message:J.message,inclusive:!0,exact:!1,maximum:J.value,type:"date"}),X.dirty()}else D$.assertNever(J);return{status:X.value,value:new Date($.data.getTime())}}_addCheck($){return new $0({...this._def,checks:[...this._def.checks,$]})}min($,U){return this._addCheck({kind:"min",value:$.getTime(),message:a.toString(U)})}max($,U){return this._addCheck({kind:"max",value:$.getTime(),message:a.toString(U)})}get minDate(){let $=null;for(let U of this._def.checks)if(U.kind==="min"){if($===null||U.value>$)$=U.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let U of this._def.checks)if(U.kind==="max"){if($===null||U.value<$)$=U.value}return $!=null?new Date($):null}}$0.create=($)=>{return new $0({checks:[],coerce:$?.coerce||!1,typeName:J$.ZodDate,...w$($)})};class R2 extends H${_parse($){if(this._getType($)!==i.symbol){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.symbol,received:X.parsedType}),U$}return L6($.data)}}R2.create=($)=>{return new R2({typeName:J$.ZodSymbol,...w$($)})};class YU extends H${_parse($){if(this._getType($)!==i.undefined){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.undefined,received:X.parsedType}),U$}return L6($.data)}}YU.create=($)=>{return new YU({typeName:J$.ZodUndefined,...w$($)})};class QU extends H${_parse($){if(this._getType($)!==i.null){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.null,received:X.parsedType}),U$}return L6($.data)}}QU.create=($)=>{return new QU({typeName:J$.ZodNull,...w$($)})};class U0 extends H${constructor(){super(...arguments);this._any=!0}_parse($){return L6($.data)}}U0.create=($)=>{return new U0({typeName:J$.ZodAny,...w$($)})};class v1 extends H${constructor(){super(...arguments);this._unknown=!0}_parse($){return L6($.data)}}v1.create=($)=>{return new v1({typeName:J$.ZodUnknown,...w$($)})};class k4 extends H${_parse($){let U=this._getOrReturnCtx($);return o(U,{code:f.invalid_type,expected:i.never,received:U.parsedType}),U$}}k4.create=($)=>{return new k4({typeName:J$.ZodNever,...w$($)})};class T2 extends H${_parse($){if(this._getType($)!==i.undefined){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.void,received:X.parsedType}),U$}return L6($.data)}}T2.create=($)=>{return new T2({typeName:J$.ZodVoid,...w$($)})};class _4 extends H${_parse($){let{ctx:U,status:X}=this._processInputParams($),G=this._def;if(U.parsedType!==i.array)return o(U,{code:f.invalid_type,expected:i.array,received:U.parsedType}),U$;if(G.exactLength!==null){let Y=U.data.length>G.exactLength.value,Q=U.data.length<G.exactLength.value;if(Y||Q)o(U,{code:Y?f.too_big:f.too_small,minimum:Q?G.exactLength.value:void 0,maximum:Y?G.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:G.exactLength.message}),X.dirty()}if(G.minLength!==null){if(U.data.length<G.minLength.value)o(U,{code:f.too_small,minimum:G.minLength.value,type:"array",inclusive:!0,exact:!1,message:G.minLength.message}),X.dirty()}if(G.maxLength!==null){if(U.data.length>G.maxLength.value)o(U,{code:f.too_big,maximum:G.maxLength.value,type:"array",inclusive:!0,exact:!1,message:G.maxLength.message}),X.dirty()}if(U.common.async)return Promise.all([...U.data].map((Y,Q)=>{return G.type._parseAsync(new F4(U,Y,U.path,Q))})).then((Y)=>{return D6.mergeArray(X,Y)});let J=[...U.data].map((Y,Q)=>{return G.type._parseSync(new F4(U,Y,U.path,Q))});return D6.mergeArray(X,J)}get element(){return this._def.type}min($,U){return new _4({...this._def,minLength:{value:$,message:a.toString(U)}})}max($,U){return new _4({...this._def,maxLength:{value:$,message:a.toString(U)}})}length($,U){return new _4({...this._def,exactLength:{value:$,message:a.toString(U)}})}nonempty($){return this.min(1,$)}}_4.create=($,U)=>{return new _4({type:$,minLength:null,maxLength:null,exactLength:null,typeName:J$.ZodArray,...w$(U)})};function JU($){if($ instanceof d$){let U={};for(let X in $.shape){let G=$.shape[X];U[X]=M4.create(JU(G))}return new d$({...$._def,shape:()=>U})}else if($ instanceof _4)return new _4({...$._def,type:JU($.element)});else if($ instanceof M4)return M4.create(JU($.unwrap()));else if($ instanceof U1)return U1.create(JU($.unwrap()));else if($ instanceof C4)return C4.create($.items.map((U)=>JU(U)));else return $}class d$ extends H${constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),U=D$.objectKeys($);return this._cached={shape:$,keys:U},this._cached}_parse($){if(this._getType($)!==i.object){let N=this._getOrReturnCtx($);return o(N,{code:f.invalid_type,expected:i.object,received:N.parsedType}),U$}let{status:X,ctx:G}=this._processInputParams($),{shape:J,keys:Y}=this._getCached(),Q=[];if(!(this._def.catchall instanceof k4&&this._def.unknownKeys==="strip")){for(let N in G.data)if(!Y.includes(N))Q.push(N)}let w=[];for(let N of Y){let j=J[N],H=G.data[N];w.push({key:{status:"valid",value:N},value:j._parse(new F4(G,H,G.path,N)),alwaysSet:N in G.data})}if(this._def.catchall instanceof k4){let N=this._def.unknownKeys;if(N==="passthrough")for(let j of Q)w.push({key:{status:"valid",value:j},value:{status:"valid",value:G.data[j]}});else if(N==="strict"){if(Q.length>0)o(G,{code:f.unrecognized_keys,keys:Q}),X.dirty()}else if(N==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let N=this._def.catchall;for(let j of Q){let H=G.data[j];w.push({key:{status:"valid",value:j},value:N._parse(new F4(G,H,G.path,j)),alwaysSet:j in G.data})}}if(G.common.async)return Promise.resolve().then(async()=>{let N=[];for(let j of w){let H=await j.key,K=await j.value;N.push({key:H,value:K,alwaysSet:j.alwaysSet})}return N}).then((N)=>{return D6.mergeObjectSync(X,N)});else return D6.mergeObjectSync(X,w)}get shape(){return this._def.shape()}strict($){return a.errToObj,new d$({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(U,X)=>{let G=this._def.errorMap?.(U,X).message??X.defaultError;if(U.code==="unrecognized_keys")return{message:a.errToObj($).message??G};return{message:G}}}:{}})}strip(){return new d$({...this._def,unknownKeys:"strip"})}passthrough(){return new d$({...this._def,unknownKeys:"passthrough"})}extend($){return new d$({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new d$({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:J$.ZodObject})}setKey($,U){return this.augment({[$]:U})}catchall($){return new d$({...this._def,catchall:$})}pick($){let U={};for(let X of D$.objectKeys($))if($[X]&&this.shape[X])U[X]=this.shape[X];return new d$({...this._def,shape:()=>U})}omit($){let U={};for(let X of D$.objectKeys(this.shape))if(!$[X])U[X]=this.shape[X];return new d$({...this._def,shape:()=>U})}deepPartial(){return JU(this)}partial($){let U={};for(let X of D$.objectKeys(this.shape)){let G=this.shape[X];if($&&!$[X])U[X]=G;else U[X]=G.optional()}return new d$({...this._def,shape:()=>U})}required($){let U={};for(let X of D$.objectKeys(this.shape))if($&&!$[X])U[X]=this.shape[X];else{let J=this.shape[X];while(J instanceof M4)J=J._def.innerType;U[X]=J}return new d$({...this._def,shape:()=>U})}keyof(){return HF(D$.objectKeys(this.shape))}}d$.create=($,U)=>{return new d$({shape:()=>$,unknownKeys:"strip",catchall:k4.create(),typeName:J$.ZodObject,...w$(U)})};d$.strictCreate=($,U)=>{return new d$({shape:()=>$,unknownKeys:"strict",catchall:k4.create(),typeName:J$.ZodObject,...w$(U)})};d$.lazycreate=($,U)=>{return new d$({shape:$,unknownKeys:"strip",catchall:k4.create(),typeName:J$.ZodObject,...w$(U)})};class wU extends H${_parse($){let{ctx:U}=this._processInputParams($),X=this._def.options;function G(J){for(let Q of J)if(Q.result.status==="valid")return Q.result;for(let Q of J)if(Q.result.status==="dirty")return U.common.issues.push(...Q.ctx.common.issues),Q.result;let Y=J.map((Q)=>new C6(Q.ctx.common.issues));return o(U,{code:f.invalid_union,unionErrors:Y}),U$}if(U.common.async)return Promise.all(X.map(async(J)=>{let Y={...U,common:{...U.common,issues:[]},parent:null};return{result:await J._parseAsync({data:U.data,path:U.path,parent:Y}),ctx:Y}})).then(G);else{let J=void 0,Y=[];for(let w of X){let N={...U,common:{...U.common,issues:[]},parent:null},j=w._parseSync({data:U.data,path:U.path,parent:N});if(j.status==="valid")return j;else if(j.status==="dirty"&&!J)J={result:j,ctx:N};if(N.common.issues.length)Y.push(N.common.issues)}if(J)return U.common.issues.push(...J.ctx.common.issues),J.result;let Q=Y.map((w)=>new C6(w));return o(U,{code:f.invalid_union,unionErrors:Q}),U$}}get options(){return this._def.options}}wU.create=($,U)=>{return new wU({options:$,typeName:J$.ZodUnion,...w$(U)})};var $1=($)=>{if($ instanceof jU)return $1($.schema);else if($ instanceof L4)return $1($.innerType());else if($ instanceof HU)return[$.value];else if($ instanceof S1)return $.options;else if($ instanceof WU)return D$.objectValues($.enum);else if($ instanceof KU)return $1($._def.innerType);else if($ instanceof YU)return[void 0];else if($ instanceof QU)return[null];else if($ instanceof M4)return[void 0,...$1($.unwrap())];else if($ instanceof U1)return[null,...$1($.unwrap())];else if($ instanceof rX)return $1($.unwrap());else if($ instanceof zU)return $1($.unwrap());else if($ instanceof OU)return $1($._def.innerType);else return[]};class oX extends H${_parse($){let{ctx:U}=this._processInputParams($);if(U.parsedType!==i.object)return o(U,{code:f.invalid_type,expected:i.object,received:U.parsedType}),U$;let X=this.discriminator,G=U.data[X],J=this.optionsMap.get(G);if(!J)return o(U,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[X]}),U$;if(U.common.async)return J._parseAsync({data:U.data,path:U.path,parent:U});else return J._parseSync({data:U.data,path:U.path,parent:U})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,U,X){let G=new Map;for(let J of U){let Y=$1(J.shape[$]);if(!Y.length)throw Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let Q of Y){if(G.has(Q))throw Error(`Discriminator property ${String($)} has duplicate value ${String(Q)}`);G.set(Q,J)}}return new oX({typeName:J$.ZodDiscriminatedUnion,discriminator:$,options:U,optionsMap:G,...w$(X)})}}function A9($,U){let X=T4($),G=T4(U);if($===U)return{valid:!0,data:$};else if(X===i.object&&G===i.object){let J=D$.objectKeys(U),Y=D$.objectKeys($).filter((w)=>J.indexOf(w)!==-1),Q={...$,...U};for(let w of Y){let N=A9($[w],U[w]);if(!N.valid)return{valid:!1};Q[w]=N.data}return{valid:!0,data:Q}}else if(X===i.array&&G===i.array){if($.length!==U.length)return{valid:!1};let J=[];for(let Y=0;Y<$.length;Y++){let Q=$[Y],w=U[Y],N=A9(Q,w);if(!N.valid)return{valid:!1};J.push(N.data)}return{valid:!0,data:J}}else if(X===i.date&&G===i.date&&+$===+U)return{valid:!0,data:$};else return{valid:!1}}class NU extends H${_parse($){let{status:U,ctx:X}=this._processInputParams($),G=(J,Y)=>{if(pX(J)||pX(Y))return U$;let Q=A9(J.value,Y.value);if(!Q.valid)return o(X,{code:f.invalid_intersection_types}),U$;if(dX(J)||dX(Y))U.dirty();return{status:U.value,value:Q.data}};if(X.common.async)return Promise.all([this._def.left._parseAsync({data:X.data,path:X.path,parent:X}),this._def.right._parseAsync({data:X.data,path:X.path,parent:X})]).then(([J,Y])=>G(J,Y));else return G(this._def.left._parseSync({data:X.data,path:X.path,parent:X}),this._def.right._parseSync({data:X.data,path:X.path,parent:X}))}}NU.create=($,U,X)=>{return new NU({left:$,right:U,typeName:J$.ZodIntersection,...w$(X)})};class C4 extends H${_parse($){let{status:U,ctx:X}=this._processInputParams($);if(X.parsedType!==i.array)return o(X,{code:f.invalid_type,expected:i.array,received:X.parsedType}),U$;if(X.data.length<this._def.items.length)return o(X,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U$;if(!this._def.rest&&X.data.length>this._def.items.length)o(X,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U.dirty();let J=[...X.data].map((Y,Q)=>{let w=this._def.items[Q]||this._def.rest;if(!w)return null;return w._parse(new F4(X,Y,X.path,Q))}).filter((Y)=>!!Y);if(X.common.async)return Promise.all(J).then((Y)=>{return D6.mergeArray(U,Y)});else return D6.mergeArray(U,J)}get items(){return this._def.items}rest($){return new C4({...this._def,rest:$})}}C4.create=($,U)=>{if(!Array.isArray($))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new C4({items:$,typeName:J$.ZodTuple,rest:null,...w$(U)})};class k2 extends H${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:U,ctx:X}=this._processInputParams($);if(X.parsedType!==i.object)return o(X,{code:f.invalid_type,expected:i.object,received:X.parsedType}),U$;let G=[],J=this._def.keyType,Y=this._def.valueType;for(let Q in X.data)G.push({key:J._parse(new F4(X,Q,X.path,Q)),value:Y._parse(new F4(X,X.data[Q],X.path,Q)),alwaysSet:Q in X.data});if(X.common.async)return D6.mergeObjectAsync(U,G);else return D6.mergeObjectSync(U,G)}get element(){return this._def.valueType}static create($,U,X){if(U instanceof H$)return new k2({keyType:$,valueType:U,typeName:J$.ZodRecord,...w$(X)});return new k2({keyType:B4.create(),valueType:$,typeName:J$.ZodRecord,...w$(U)})}}class C2 extends H${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:U,ctx:X}=this._processInputParams($);if(X.parsedType!==i.map)return o(X,{code:f.invalid_type,expected:i.map,received:X.parsedType}),U$;let G=this._def.keyType,J=this._def.valueType,Y=[...X.data.entries()].map(([Q,w],N)=>{return{key:G._parse(new F4(X,Q,X.path,[N,"key"])),value:J._parse(new F4(X,w,X.path,[N,"value"]))}});if(X.common.async){let Q=new Map;return Promise.resolve().then(async()=>{for(let w of Y){let N=await w.key,j=await w.value;if(N.status==="aborted"||j.status==="aborted")return U$;if(N.status==="dirty"||j.status==="dirty")U.dirty();Q.set(N.value,j.value)}return{status:U.value,value:Q}})}else{let Q=new Map;for(let w of Y){let{key:N,value:j}=w;if(N.status==="aborted"||j.status==="aborted")return U$;if(N.status==="dirty"||j.status==="dirty")U.dirty();Q.set(N.value,j.value)}return{status:U.value,value:Q}}}}C2.create=($,U,X)=>{return new C2({valueType:U,keyType:$,typeName:J$.ZodMap,...w$(X)})};class J0 extends H${_parse($){let{status:U,ctx:X}=this._processInputParams($);if(X.parsedType!==i.set)return o(X,{code:f.invalid_type,expected:i.set,received:X.parsedType}),U$;let G=this._def;if(G.minSize!==null){if(X.data.size<G.minSize.value)o(X,{code:f.too_small,minimum:G.minSize.value,type:"set",inclusive:!0,exact:!1,message:G.minSize.message}),U.dirty()}if(G.maxSize!==null){if(X.data.size>G.maxSize.value)o(X,{code:f.too_big,maximum:G.maxSize.value,type:"set",inclusive:!0,exact:!1,message:G.maxSize.message}),U.dirty()}let J=this._def.valueType;function Y(w){let N=new Set;for(let j of w){if(j.status==="aborted")return U$;if(j.status==="dirty")U.dirty();N.add(j.value)}return{status:U.value,value:N}}let Q=[...X.data.values()].map((w,N)=>J._parse(new F4(X,w,X.path,N)));if(X.common.async)return Promise.all(Q).then((w)=>Y(w));else return Y(Q)}min($,U){return new J0({...this._def,minSize:{value:$,message:a.toString(U)}})}max($,U){return new J0({...this._def,maxSize:{value:$,message:a.toString(U)}})}size($,U){return this.min($,U).max($,U)}nonempty($){return this.min(1,$)}}J0.create=($,U)=>{return new J0({valueType:$,minSize:null,maxSize:null,typeName:J$.ZodSet,...w$(U)})};class XU extends H${constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:U}=this._processInputParams($);if(U.parsedType!==i.function)return o(U,{code:f.invalid_type,expected:i.function,received:U.parsedType}),U$;function X(Q,w){return I2({data:Q,path:U.path,errorMaps:[U.common.contextualErrorMap,U.schemaErrorMap,$U(),e4].filter((N)=>!!N),issueData:{code:f.invalid_arguments,argumentsError:w}})}function G(Q,w){return I2({data:Q,path:U.path,errorMaps:[U.common.contextualErrorMap,U.schemaErrorMap,$U(),e4].filter((N)=>!!N),issueData:{code:f.invalid_return_type,returnTypeError:w}})}let J={errorMap:U.common.contextualErrorMap},Y=U.data;if(this._def.returns instanceof X0){let Q=this;return L6(async function(...w){let N=new C6([]),j=await Q._def.args.parseAsync(w,J).catch((z)=>{throw N.addIssue(X(w,z)),N}),H=await Reflect.apply(Y,this,j);return await Q._def.returns._def.type.parseAsync(H,J).catch((z)=>{throw N.addIssue(G(H,z)),N})})}else{let Q=this;return L6(function(...w){let N=Q._def.args.safeParse(w,J);if(!N.success)throw new C6([X(w,N.error)]);let j=Reflect.apply(Y,this,N.data),H=Q._def.returns.safeParse(j,J);if(!H.success)throw new C6([G(j,H.error)]);return H.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new XU({...this._def,args:C4.create($).rest(v1.create())})}returns($){return new XU({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,U,X){return new XU({args:$?$:C4.create([]).rest(v1.create()),returns:U||v1.create(),typeName:J$.ZodFunction,...w$(X)})}}class jU extends H${get schema(){return this._def.getter()}_parse($){let{ctx:U}=this._processInputParams($);return this._def.getter()._parse({data:U.data,path:U.path,parent:U})}}jU.create=($,U)=>{return new jU({getter:$,typeName:J$.ZodLazy,...w$(U)})};class HU extends H${_parse($){if($.data!==this._def.value){let U=this._getOrReturnCtx($);return o(U,{received:U.data,code:f.invalid_literal,expected:this._def.value}),U$}return{status:"valid",value:$.data}}get value(){return this._def.value}}HU.create=($,U)=>{return new HU({value:$,typeName:J$.ZodLiteral,...w$(U)})};function HF($,U){return new S1({values:$,typeName:J$.ZodEnum,...w$(U)})}class S1 extends H${_parse($){if(typeof $.data!=="string"){let U=this._getOrReturnCtx($),X=this._def.values;return o(U,{expected:D$.joinValues(X),received:U.parsedType,code:f.invalid_type}),U$}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has($.data)){let U=this._getOrReturnCtx($),X=this._def.values;return o(U,{received:U.data,code:f.invalid_enum_value,options:X}),U$}return L6($.data)}get options(){return this._def.values}get enum(){let $={};for(let U of this._def.values)$[U]=U;return $}get Values(){let $={};for(let U of this._def.values)$[U]=U;return $}get Enum(){let $={};for(let U of this._def.values)$[U]=U;return $}extract($,U=this._def){return S1.create($,{...this._def,...U})}exclude($,U=this._def){return S1.create(this.options.filter((X)=>!$.includes(X)),{...this._def,...U})}}S1.create=HF;class WU extends H${_parse($){let U=D$.getValidEnumValues(this._def.values),X=this._getOrReturnCtx($);if(X.parsedType!==i.string&&X.parsedType!==i.number){let G=D$.objectValues(U);return o(X,{expected:D$.joinValues(G),received:X.parsedType,code:f.invalid_type}),U$}if(!this._cache)this._cache=new Set(D$.getValidEnumValues(this._def.values));if(!this._cache.has($.data)){let G=D$.objectValues(U);return o(X,{received:X.data,code:f.invalid_enum_value,options:G}),U$}return L6($.data)}get enum(){return this._def.values}}WU.create=($,U)=>{return new WU({values:$,typeName:J$.ZodNativeEnum,...w$(U)})};class X0 extends H${unwrap(){return this._def.type}_parse($){let{ctx:U}=this._processInputParams($);if(U.parsedType!==i.promise&&U.common.async===!1)return o(U,{code:f.invalid_type,expected:i.promise,received:U.parsedType}),U$;let X=U.parsedType===i.promise?U.data:Promise.resolve(U.data);return L6(X.then((G)=>{return this._def.type.parseAsync(G,{path:U.path,errorMap:U.common.contextualErrorMap})}))}}X0.create=($,U)=>{return new X0({type:$,typeName:J$.ZodPromise,...w$(U)})};class L4 extends H${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:U,ctx:X}=this._processInputParams($),G=this._def.effect||null,J={addIssue:(Y)=>{if(o(X,Y),Y.fatal)U.abort();else U.dirty()},get path(){return X.path}};if(J.addIssue=J.addIssue.bind(J),G.type==="preprocess"){let Y=G.transform(X.data,J);if(X.common.async)return Promise.resolve(Y).then(async(Q)=>{if(U.value==="aborted")return U$;let w=await this._def.schema._parseAsync({data:Q,path:X.path,parent:X});if(w.status==="aborted")return U$;if(w.status==="dirty")return e1(w.value);if(U.value==="dirty")return e1(w.value);return w});else{if(U.value==="aborted")return U$;let Q=this._def.schema._parseSync({data:Y,path:X.path,parent:X});if(Q.status==="aborted")return U$;if(Q.status==="dirty")return e1(Q.value);if(U.value==="dirty")return e1(Q.value);return Q}}if(G.type==="refinement"){let Y=(Q)=>{let w=G.refinement(Q,J);if(X.common.async)return Promise.resolve(w);if(w instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Q};if(X.common.async===!1){let Q=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(Q.status==="aborted")return U$;if(Q.status==="dirty")U.dirty();return Y(Q.value),{status:U.value,value:Q.value}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then((Q)=>{if(Q.status==="aborted")return U$;if(Q.status==="dirty")U.dirty();return Y(Q.value).then(()=>{return{status:U.value,value:Q.value}})})}if(G.type==="transform")if(X.common.async===!1){let Y=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(!q1(Y))return U$;let Q=G.transform(Y.value,J);if(Q instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:U.value,value:Q}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then((Y)=>{if(!q1(Y))return U$;return Promise.resolve(G.transform(Y.value,J)).then((Q)=>({status:U.value,value:Q}))});D$.assertNever(G)}}L4.create=($,U,X)=>{return new L4({schema:$,typeName:J$.ZodEffects,effect:U,...w$(X)})};L4.createWithPreprocess=($,U,X)=>{return new L4({schema:U,effect:{type:"preprocess",transform:$},typeName:J$.ZodEffects,...w$(X)})};class M4 extends H${_parse($){if(this._getType($)===i.undefined)return L6(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}M4.create=($,U)=>{return new M4({innerType:$,typeName:J$.ZodOptional,...w$(U)})};class U1 extends H${_parse($){if(this._getType($)===i.null)return L6(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}U1.create=($,U)=>{return new U1({innerType:$,typeName:J$.ZodNullable,...w$(U)})};class KU extends H${_parse($){let{ctx:U}=this._processInputParams($),X=U.data;if(U.parsedType===i.undefined)X=this._def.defaultValue();return this._def.innerType._parse({data:X,path:U.path,parent:U})}removeDefault(){return this._def.innerType}}KU.create=($,U)=>{return new KU({innerType:$,typeName:J$.ZodDefault,defaultValue:typeof U.default==="function"?U.default:()=>U.default,...w$(U)})};class OU extends H${_parse($){let{ctx:U}=this._processInputParams($),X={...U,common:{...U.common,issues:[]}},G=this._def.innerType._parse({data:X.data,path:X.path,parent:{...X}});if(UU(G))return G.then((J)=>{return{status:"valid",value:J.status==="valid"?J.value:this._def.catchValue({get error(){return new C6(X.common.issues)},input:X.data})}});else return{status:"valid",value:G.status==="valid"?G.value:this._def.catchValue({get error(){return new C6(X.common.issues)},input:X.data})}}removeCatch(){return this._def.innerType}}OU.create=($,U)=>{return new OU({innerType:$,typeName:J$.ZodCatch,catchValue:typeof U.catch==="function"?U.catch:()=>U.catch,...w$(U)})};class x2 extends H${_parse($){if(this._getType($)!==i.nan){let X=this._getOrReturnCtx($);return o(X,{code:f.invalid_type,expected:i.nan,received:X.parsedType}),U$}return{status:"valid",value:$.data}}}x2.create=($)=>{return new x2({typeName:J$.ZodNaN,...w$($)})};var wk=Symbol("zod_brand");class rX extends H${_parse($){let{ctx:U}=this._processInputParams($),X=U.data;return this._def.type._parse({data:X,path:U.path,parent:U})}unwrap(){return this._def.type}}class f2 extends H${_parse($){let{status:U,ctx:X}=this._processInputParams($);if(X.common.async)return(async()=>{let J=await this._def.in._parseAsync({data:X.data,path:X.path,parent:X});if(J.status==="aborted")return U$;if(J.status==="dirty")return U.dirty(),e1(J.value);else return this._def.out._parseAsync({data:J.value,path:X.path,parent:X})})();else{let G=this._def.in._parseSync({data:X.data,path:X.path,parent:X});if(G.status==="aborted")return U$;if(G.status==="dirty")return U.dirty(),{status:"dirty",value:G.value};else return this._def.out._parseSync({data:G.value,path:X.path,parent:X})}}static create($,U){return new f2({in:$,out:U,typeName:J$.ZodPipeline})}}class zU extends H${_parse($){let U=this._def.innerType._parse($),X=(G)=>{if(q1(G))G.value=Object.freeze(G.value);return G};return UU(U)?U.then((G)=>X(G)):X(U)}unwrap(){return this._def.innerType}}zU.create=($,U)=>{return new zU({innerType:$,typeName:J$.ZodReadonly,...w$(U)})};function QF($,U){let X=typeof $==="function"?$(U):typeof $==="string"?{message:$}:$;return typeof X==="string"?{message:X}:X}function WF($,U={},X){if($)return U0.create().superRefine((G,J)=>{let Y=$(G);if(Y instanceof Promise)return Y.then((Q)=>{if(!Q){let w=QF(U,G),N=w.fatal??X??!0;J.addIssue({code:"custom",...w,fatal:N})}});if(!Y){let Q=QF(U,G),w=Q.fatal??X??!0;J.addIssue({code:"custom",...Q,fatal:w})}return});return U0.create()}var Nk={object:d$.lazycreate},J$;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(J$||(J$={}));var jk=($,U={message:`Input not instance of ${$.name}`})=>WF((X)=>X instanceof $,U),KF=B4.create,OF=P1.create,Hk=x2.create,Wk=E1.create,zF=GU.create,Kk=$0.create,Ok=R2.create,zk=YU.create,Dk=QU.create,Vk=U0.create,Bk=v1.create,_k=k4.create,Mk=T2.create,Fk=_4.create,Lk=d$.create,Ak=d$.strictCreate,qk=wU.create,vk=oX.create,Pk=NU.create,Ek=C4.create,Sk=k2.create,Zk=C2.create,Ik=J0.create,Rk=XU.create,Tk=jU.create,kk=HU.create,Ck=S1.create,xk=WU.create,fk=X0.create,hk=L4.create,gk=M4.create,bk=U1.create,mk=L4.createWithPreprocess,uk=f2.create,yk=()=>KF().optional(),lk=()=>OF().optional(),ck=()=>zF().optional(),ik={string:($)=>B4.create({...$,coerce:!0}),number:($)=>P1.create({...$,coerce:!0}),boolean:($)=>GU.create({...$,coerce:!0}),bigint:($)=>E1.create({...$,coerce:!0}),date:($)=>$0.create({...$,coerce:!0})};var nk=U$;var x4=V;function A4($){throw Error(`Unreachable case: ${$}`)}function J1($,U,X=""){if($===null||$===void 0)return!0;if(typeof $==="number"){if(!Number.isFinite($))return U==null||U(X),!1;return!0}if(typeof $==="boolean"||typeof $==="string")return!0;if(typeof $==="bigint")return!0;if($ instanceof Date)return!0;if($ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Uint16Array||$ instanceof Uint32Array||$ instanceof BigUint64Array||$ instanceof Int8Array||$ instanceof Int16Array||$ instanceof Int32Array||$ instanceof BigInt64Array||$ instanceof Float32Array||$ instanceof Float64Array)return!0;if($ instanceof Map){for(let[G,J]of $.entries()){let Y=X?`${X}.key(${String(G)})`:`key(${String(G)})`,Q=X?`${X}.value(${String(G)})`:`value(${String(G)})`;if(!J1(G,U,Y)||!J1(J,U,Q))return!1}return!0}if($ instanceof Set){let G=0;for(let J of $.values()){let Y=X?`${X}.set[${G}]`:`set[${G}]`;if(!J1(J,U,Y))return!1;G++}return!0}if($ instanceof RegExp)return!0;if($ instanceof Error)return!0;if(Array.isArray($)){for(let G=0;G<$.length;G++){let J=X?`${X}[${G}]`:`[${G}]`;if(!J1($[G],U,J))return!1}return!0}if(typeof $==="object"){let G=Object.getPrototypeOf($);if(G!==null&&G!==Object.prototype){let J=$.constructor;if(J&&typeof J.name==="string");}for(let J in $){let Y=X?`${X}.${J}`:J;if(!J1($[J],U,Y))return!1}return!0}return U==null||U(X),!1}function e6($,U,X,G=!1){let J,Y,Q,w,N,j;if(l$.isActorError($)&&$.public)J="statusCode"in $&&$.statusCode?$.statusCode:400,Y=!0,Q=$.group,w=$.code,N=h2($),j=$.metadata,U.info({msg:"public error",group:Q,code:w,message:N,...DU,...X});else if(G)if(l$.isActorError($))J=500,Y=!1,Q=$.group,w=$.code,N=h2($),j=$.metadata,U.info({msg:"internal error",group:Q,code:w,message:N,stack:$==null?void 0:$.stack,...DU,...X});else J=500,Y=!1,Q="internal",w=AX,N=h2($),U.info({msg:"internal error",group:Q,code:w,message:N,stack:$==null?void 0:$.stack,...DU,...X});else J=500,Y=!1,Q="internal",w=AX,N=pB,j={},U.warn({msg:"internal error",error:h2($),stack:$==null?void 0:$.stack,...DU,...X});return{__type:"ActorError",statusCode:J,public:Y,group:Q,code:w,message:N,metadata:j}}function B$($){if($ instanceof Error)if(typeof process<"u"&&p$("_RIVETKIT_ERROR_STACK")==="1")return`${$.name}: ${$.message}${$.stack?`
${$.stack}`:""}`;else return`${$.name}: ${$.message}`;else if(typeof $==="string")return $;else if(typeof $==="object"&&$!==null)try{return`${JSON.stringify($)}`}catch{return"[cannot stringify error]"}else return`Unknown error: ${h2($)}`}function h2($){if($&&typeof $==="object"&&"message"in $&&typeof $.message==="string")return $.message;else return String($)}function Y0(){return async()=>{}}var E9={name:"rivetkit",version:"2.0.27",description:"Lightweight libraries for building stateful actors on edge platforms",license:"Apache-2.0",keywords:["rivetkit","stateful","serverless","actors","agents","realtime","websocket","actors","framework"],files:["dist","src","deno.json","bun.json","package.json"],type:"module",exports:{".":{import:{types:"./dist/tsup/mod.d.ts",default:"./dist/tsup/mod.js"},require:{types:"./dist/tsup/mod.d.cts",default:"./dist/tsup/mod.cjs"}},"./client":{import:{types:"./dist/tsup/client/mod.d.ts",default:"./dist/tsup/client/mod.js"},require:{types:"./dist/tsup/client/mod.d.cts",default:"./dist/tsup/client/mod.cjs"}},"./log":{import:{types:"./dist/tsup/common/log.d.ts",default:"./dist/tsup/common/log.js"},require:{types:"./dist/tsup/common/log.d.cts",default:"./dist/tsup/common/log.cjs"}},"./errors":{import:{types:"./dist/tsup/actor/errors.d.ts",default:"./dist/tsup/actor/errors.js"},require:{types:"./dist/tsup/actor/errors.d.cts",default:"./dist/tsup/actor/errors.cjs"}},"./utils":{import:{types:"./dist/tsup/utils.d.ts",default:"./dist/tsup/utils.js"},require:{types:"./dist/tsup/utils.d.cts",default:"./dist/tsup/utils.cjs"}},"./driver-helpers":{import:{types:"./dist/tsup/driver-helpers/mod.d.ts",default:"./dist/tsup/driver-helpers/mod.js"},require:{types:"./dist/tsup/driver-helpers/mod.d.cts",default:"./dist/tsup/driver-helpers/mod.cjs"}},"./driver-helpers/websocket":{import:{types:"./dist/tsup/common/websocket.d.ts",default:"./dist/tsup/common/websocket.js"},require:{types:"./dist/tsup/common/websocket.d.cts",default:"./dist/tsup/common/websocket.cjs"}},"./driver-test-suite":{import:{types:"./dist/tsup/driver-test-suite/mod.d.ts",default:"./dist/tsup/driver-test-suite/mod.js"},require:{types:"./dist/tsup/driver-test-suite/mod.d.cts",default:"./dist/tsup/driver-test-suite/mod.cjs"}},"./topologies/coordinate":{import:{types:"./dist/tsup/topologies/coordinate/mod.d.ts",default:"./dist/tsup/topologies/coordinate/mod.js"},require:{types:"./dist/tsup/topologies/coordinate/mod.d.cts",default:"./dist/tsup/topologies/coordinate/mod.cjs"}},"./topologies/partition":{import:{types:"./dist/tsup/topologies/partition/mod.d.ts",default:"./dist/tsup/topologies/partition/mod.js"},require:{types:"./dist/tsup/topologies/partition/mod.d.cts",default:"./dist/tsup/topologies/partition/mod.cjs"}},"./test":{import:{types:"./dist/tsup/test/mod.d.ts",default:"./dist/tsup/test/mod.js"},require:{types:"./dist/tsup/test/mod.d.cts",default:"./dist/tsup/test/mod.cjs"}},"./inspector":{import:{types:"./dist/tsup/inspector/mod.d.ts",default:"./dist/tsup/inspector/mod.js"},require:{types:"./dist/tsup/inspector/mod.d.cts",default:"./dist/tsup/inspector/mod.cjs"}}},engines:{node:">=22.0.0"},sideEffects:["./dist/tsup/chunk-*.js","./dist/tsup/chunk-*.cjs"],scripts:{build:"tsup src/mod.ts src/client/mod.ts src/common/log.ts src/common/websocket.ts src/actor/errors.ts src/topologies/coordinate/mod.ts src/topologies/partition/mod.ts src/utils.ts src/driver-helpers/mod.ts src/driver-test-suite/mod.ts src/test/mod.ts src/inspector/mod.ts","build:schema":"./scripts/compile-bare.ts compile schemas/client-protocol/v1.bare -o dist/schemas/client-protocol/v1.ts && ./scripts/compile-bare.ts compile schemas/client-protocol/v2.bare -o dist/schemas/client-protocol/v2.ts && ./scripts/compile-bare.ts compile schemas/file-system-driver/v1.bare -o dist/schemas/file-system-driver/v1.ts && ./scripts/compile-bare.ts compile schemas/file-system-driver/v2.bare -o dist/schemas/file-system-driver/v2.ts && ./scripts/compile-bare.ts compile schemas/actor-persist/v1.bare -o dist/schemas/actor-persist/v1.ts && ./scripts/compile-bare.ts compile schemas/actor-persist/v2.bare -o dist/schemas/actor-persist/v2.ts && ./scripts/compile-bare.ts compile schemas/actor-persist/v3.bare -o dist/schemas/actor-persist/v3.ts","check-types":"tsc --noEmit",lint:"biome check .","lint:fix":"biome check --write .",format:"biome format .","format:write":"biome format --write .",test:"vitest run","test:watch":"vitest","dump-openapi":"tsx scripts/dump-openapi.ts","dump-asyncapi":"tsx scripts/dump-asyncapi.ts"},dependencies:{"@bare-ts/lib":"~0.3.0","@hono/standard-validator":"^0.1.3","@hono/zod-openapi":"^0.19.10","@rivetkit/engine-runner":"workspace:*","@rivetkit/fast-json-patch":"^3.1.2","cbor-x":"^1.6.0",hono:"^4.7.0",invariant:"^2.2.4",nanoevents:"^9.1.0","@rivetkit/on-change":"^6.0.2-rc.1","p-retry":"^6.2.1",pino:"^9.5.0",uuid:"^12.0.0",zod:"^3.25.76"},devDependencies:{"@bare-ts/tools":"^0.13.0","@biomejs/biome":"^2.2.3","@hono/node-server":"^1.18.2","@hono/node-ws":"^1.1.1","@types/invariant":"^2","@types/node":"^22.13.1","@types/ws":"^8","@vitest/ui":"3.1.1",commander:"^12.1.0",eventsource:"^4.0.0",tsup:"^8.4.0",tsx:"^4.19.4",typescript:"^5.7.3","vite-tsconfig-paths":"^5.1.4",vitest:"^3.1.1",ws:"^8.18.1","zod-to-json-schema":"^3.24.6"},peerDependencies:{"@hono/node-server":"^1.14.0","@hono/node-ws":"^1.1.1",eventsource:"^4.0.0",ws:"^8.0.0"},peerDependenciesMeta:{"@hono/node-server":{optional:!0},"@hono/node-ws":{optional:!0},eventsource:{optional:!0},ws:{optional:!0}},stableVersion:"0.8.0"},G0={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,CRITICAL:5},pk={[G0.CRITICAL]:"\x1B[31m",[G0.ERROR]:"\x1B[31m",[G0.WARN]:"\x1B[33m",[G0.INFO]:"\x1B[32m",[G0.DEBUG]:"\x1B[36m",[G0.TRACE]:"\x1B[36m"},dk="\x1B[0m";function ok($){let U="",X=Object.entries($);for(let G=0;G<X.length;G++){let[J,Y]=X[G],Q=!1,w;if(Y==null)Q=!0,w="";else w=Y.toString();if(w.length>512&&J!=="msg"&&J!=="error")w=`${w.slice(0,512)}...`;let N=w.indexOf(" ")>-1||w.indexOf("=")>-1,j=w.indexOf('"')>-1||w.indexOf("\\")>-1;if(w=w.replace(/\n/g,"\\n"),j)w=w.replace(/["\\]/g,"\\$&");if(N||j)w=`"${w}"`;if(w===""&&!Q)w='""';if(ak.enableColor){let H="\x1B[2m";if(J==="level"){let K=G0[w],z=pk[K];if(z)H=z}else if(J==="msg")H="\x1B[32m";else if(J==="trace")H="\x1B[34m";U+=`\x1B[0m\x1B[1m${J}\x1B[0m\x1B[2m=\x1B[0m${H}${w}${dk}`}else U+=`${J}=${w}`;if(G!==X.length-1)U+=" "}return U}function rk($){let U=$.getUTCFullYear(),X=String($.getUTCMonth()+1).padStart(2,"0"),G=String($.getUTCDate()).padStart(2,"0"),J=String($.getUTCHours()).padStart(2,"0"),Y=String($.getUTCMinutes()).padStart(2,"0"),Q=String($.getUTCSeconds()).padStart(2,"0"),w=String($.getUTCMilliseconds()).padStart(3,"0");return`${U}-${X}-${G}T${J}:${Y}:${Q}.${w}Z`}function tk($){if(typeof $==="string"||typeof $==="number"||typeof $==="bigint"||typeof $==="boolean"||$===null||$===void 0)return $;if($ instanceof Error)return String($);try{return JSON.stringify($)}catch{return"[cannot stringify]"}}var ak={enableColor:!1,enableSpreadObject:!1,enableErrorStack:!1},tX,P9,aX=new Map,S9=V.enum(["trace","debug","info","warn","error","fatal","silent"]);function sk($){if($)return $;if(P9)return P9;let U=(p$("LOG_LEVEL")||"warn").toString().toLowerCase(),X=S9.safeParse(U);if(X.success)return X.data;return"info"}function eX(){return p$("LOG_TARGET")==="1"}function DF($){tX=$,aX.clear()}function f4($,U){let X={};if(p$("LOG_TIMESTAMP")==="1"&&U.time){let J=typeof U.time==="number"?new Date(U.time):new Date;X.ts=rk(J)}if(X.level=$.toUpperCase(),U.target)X.target=U.target;if(U.msg)X.msg=U.msg;for(let[J,Y]of Object.entries(U))if(J!=="time"&&J!=="level"&&J!=="target"&&J!=="msg"&&J!=="pid"&&J!=="hostname")X[J]=tk(Y);let G=ok(X);console.log(G)}async function Z9($){if($)P9=$;tX=sX.pino({level:sk($),messageKey:"msg",base:{},formatters:{level(U,X){return{level:X}}},timestamp:p$("LOG_TIMESTAMP")==="1"?sX.stdTimeFunctions.epochTime:!1,browser:{write:{fatal:f4.bind(null,"fatal"),error:f4.bind(null,"error"),warn:f4.bind(null,"warn"),info:f4.bind(null,"info"),debug:f4.bind(null,"debug"),trace:f4.bind(null,"trace")}},hooks:{logMethod(U,X,G){var J;let Q={10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}[G]||"info",w=p$("LOG_TIMESTAMP")==="1"?Date.now():void 0,N=((J=this.bindings)==null?void 0:J.call(this))||{};if(U.length>=2){let[j,H]=U;if(typeof j==="object"&&j!==null)f4(Q,{...N,...j,msg:H,time:w});else f4(Q,{...N,msg:String(j),time:w})}else if(U.length===1){let[j]=U;if(typeof j==="object"&&j!==null)f4(Q,{...N,...j,time:w});else f4(Q,{...N,msg:String(j),time:w})}}}}),aX.clear()}function $G(){if(!tX)Z9();return tX}function W6($="default"){let U=aX.get($);if(U)return U;let X=$G(),G=eX()?X.child({target:$}):X;return aX.set($,G),G}var Q0=E9.version,q9;function ek(){return W6("utils")}function VF(){if(q9!==void 0)return q9;let $=`RivetKit/${Q0}`,U=typeof navigator<"u"?navigator:void 0;if(U==null?void 0:U.userAgent)$+=` ${U.userAgent}`;return q9=$,$}function p$($){if(typeof Deno<"u")return Deno.env.get($);else if(typeof process<"u")return process.env[$]}var v9=2147483647;function A6(){let $,U;return{promise:new Promise((G,J)=>{$=G,U=J}),resolve:$,reject:U}}function I9($,U){let X;function G(J){if(J<=v9)X=setTimeout($,J);else X=setTimeout(()=>{G(J-v9)},v9)}return G(U),{abort:()=>{if(X!==void 0)clearTimeout(X)}}}var R9=class{#$;runningDrainLoop;#U;enqueue($){if(this.#$=$,!this.#U)this.#U=A6();let U=this.#U.promise;if(!this.runningDrainLoop)this.runningDrainLoop=this.#X();return U}async#X(){try{while(this.#$){let $=this.#U;this.#U=void 0;let U=this.#$;this.#$=void 0;try{await U(),$==null||$.resolve()}catch(X){ek().error({msg:"error in SinglePromiseQueue drain loop",error:B$(X)}),$==null||$.reject(X)}}}finally{this.runningDrainLoop=void 0}}};function R$($){return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}function g2($,U,X){let G=new URL($),J=U.split("?"),Y=J[0],Q=J[1]||"",w=G.pathname.replace(/\/$/,""),N=Y.startsWith("/")?Y:`/${Y}`,j=(w+N).replace(/\/\//g,"/"),H=[];if(Q)H.push(Q);if(X){for(let[z,W]of Object.entries(X))if(W!==void 0)H.push(`${encodeURIComponent(z)}=${encodeURIComponent(W)}`)}let K=H.length>0?`?${H.join("&")}`:"";return`${G.protocol}//${G.host}${j}${K}`}function w0($,U){if($.byteLength!==U.byteLength)return!1;let X=new Uint8Array($),G=new Uint8Array(U);for(let J=0;J<X.length;J++)if(X[J]!==G[J])return!1;return!0}var DU={issues:"https://github.com/rivet-dev/rivetkit/issues",support:"https://rivet.dev/discord",version:Q0};var $C=/^[\w!#$%&'*.^`|~+-]+$/,UC=/^[ !#-:<-[\]-~]*$/,T9=($,U)=>{if(U&&$.indexOf(U)===-1)return{};let X=$.trim().split(";"),G={};for(let J of X){J=J.trim();let Y=J.indexOf("=");if(Y===-1)continue;let Q=J.substring(0,Y).trim();if(U&&U!==Q||!$C.test(Q))continue;let w=J.substring(Y+1).trim();if(w.startsWith('"')&&w.endsWith('"'))w=w.slice(1,-1);if(UC.test(w)){if(G[Q]=w.indexOf("%")!==-1?o0(w,M2):w,U)break}}return G};var JC=($,U,X={})=>{let G=`${$}=${U}`;if($.startsWith("__Secure-")&&!X.secure)throw Error("__Secure- Cookie must have Secure attributes");if($.startsWith("__Host-")){if(!X.secure)throw Error("__Host- Cookie must have Secure attributes");if(X.path!=="/")throw Error('__Host- Cookie must have Path attributes with "/"');if(X.domain)throw Error("__Host- Cookie must not have Domain attributes")}if(X&&typeof X.maxAge==="number"&&X.maxAge>=0){if(X.maxAge>34560000)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");G+=`; Max-Age=${X.maxAge|0}`}if(X.domain&&X.prefix!=="host")G+=`; Domain=${X.domain}`;if(X.path)G+=`; Path=${X.path}`;if(X.expires){if(X.expires.getTime()-Date.now()>34560000000)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");G+=`; Expires=${X.expires.toUTCString()}`}if(X.httpOnly)G+="; HttpOnly";if(X.secure)G+="; Secure";if(X.sameSite)G+=`; SameSite=${X.sameSite.charAt(0).toUpperCase()+X.sameSite.slice(1)}`;if(X.priority)G+=`; Priority=${X.priority.charAt(0).toUpperCase()+X.priority.slice(1)}`;if(X.partitioned){if(!X.secure)throw Error("Partitioned Cookie must have Secure attributes");G+="; Partitioned"}return G},k9=($,U,X)=>{return U=encodeURIComponent(U),JC($,U,X)};var BF=($,U)=>{return $=$.replace(/\/+$/,""),$=$+"/",U=U.replace(/^\/+/,""),$+U},JG=($,U)=>{for(let[X,G]of Object.entries(U)){let J=new RegExp("/:"+X+"(?:{[^/]+})?\\??");$=$.replace(J,G?`/${G}`:"")}return $},_F=($)=>{let U=new URLSearchParams;for(let[X,G]of Object.entries($)){if(G===void 0)continue;if(Array.isArray(G))for(let J of G)U.append(X,J);else U.set(X,G)}return U},MF=($,U)=>{switch(U){case"ws":return $.replace(/^http/,"ws");case"http":return $.replace(/^ws/,"http")}},C9=($)=>{if(/^https?:\/\/[^\/]+?\/index(?=\?|$)/.test($))return $.replace(/\/index(?=\?|$)/,"/");return $.replace(/\/index(?=\?|$)/,"")};function UG($){return typeof $==="object"&&$!==null&&!Array.isArray($)}function x9($,U){if(!UG($)&&!UG(U))return U;let X={...$};for(let G in U){let J=U[G];if(UG(X[G])&&UG(J))X[G]=x9(X[G],J);else X[G]=J}return X}var FF=($,U)=>{return new Proxy(()=>{},{get(G,J){if(typeof J!=="string"||J==="then")return;return FF($,[...U,J])},apply(G,J,Y){return $({path:U,args:Y})}})},GC=class{url;method;buildSearchParams;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor($,U,X){this.url=$,this.method=U,this.buildSearchParams=X.buildSearchParams}fetch=async($,U)=>{if($){if($.query)this.queryParams=this.buildSearchParams($.query);if($.form){let w=new FormData;for(let[N,j]of Object.entries($.form))if(Array.isArray(j))for(let H of j)w.append(N,H);else w.append(N,j);this.rBody=w}if($.json)this.rBody=JSON.stringify($.json),this.cType="application/json";if($.param)this.pathParams=$.param}let X=this.method.toUpperCase(),G={...$?.header,...typeof U?.headers==="function"?await U.headers():U?.headers};if($?.cookie){let w=[];for(let[N,j]of Object.entries($.cookie))w.push(k9(N,j,{path:"/"}));G.Cookie=w.join(",")}if(this.cType)G["Content-Type"]=this.cType;let J=new Headers(G??void 0),Y=this.url;if(Y=C9(Y),Y=JG(Y,this.pathParams),this.queryParams)Y=Y+"?"+this.queryParams.toString();X=this.method.toUpperCase();let Q=!(X==="GET"||X==="HEAD");return(U?.fetch||fetch)(Y,{body:Q?this.rBody:void 0,method:X,headers:J,...U?.init})}},b2=($,U)=>FF(function X(G){let J=U?.buildSearchParams??_F,Y=[...G.path],Q=Y.slice(-3).reverse();if(Q[0]==="toString"){if(Q[1]==="name")return Q[2]||"";return X.toString()}if(Q[0]==="valueOf"){if(Q[1]==="name")return Q[2]||"";return X}let w="";if(/^\$/.test(Q[0])){let K=Y.pop();if(K)w=K.replace(/^\$/,"")}let N=Y.join("/"),j=BF($,N);if(w==="url"){let K=j;if(G.args[0]){if(G.args[0].param)K=JG(j,G.args[0].param);if(G.args[0].query)K=K+"?"+J(G.args[0].query).toString()}return K=C9(K),new URL(K)}if(w==="ws"){let K=MF(G.args[0]&&G.args[0].param?JG(j,G.args[0].param):j,"ws"),z=new URL(K),W=G.args[0]?.query;if(W)Object.entries(W).forEach(([D,B])=>{if(Array.isArray(B))B.forEach((v)=>z.searchParams.append(D,v));else z.searchParams.set(D,B)});return((...D)=>{if(U?.webSocket!==void 0&&typeof U.webSocket==="function")return U.webSocket(...D);return new WebSocket(...D)})(z.toString())}let H=new GC(j,w,{buildSearchParams:J});if(w){U??={};let K=x9(U,{...G.args[1]});return H.fetch(G.args[0],K)}return H},[]);var ja=class{initApp;#$;constructor($){this.initApp=$?.initApp,this.#$=$?.defaultAppOptions}createApp=($)=>{let U=new F6($&&this.#$?{...this.#$,...$}:$??this.#$);if(this.initApp)this.initApp(U);return U};createMiddleware=($)=>$;createHandlers=(...$)=>{return $.filter((U)=>U!==void 0)}};var XG=($)=>$;var za=b2("");var Va=b2("");function GG(){return W6("inspector")}function YC($,U){if($.length!==U.length)return!1;let X=new TextEncoder,G=X.encode($),J=X.encode(U);if(G.byteLength!==J.byteLength)return!1;return!0}var f9=($)=>XG(async(U,X)=>{var G,J,Y;let Q=(G=U.req.header("Authorization"))==null?void 0:G.replace("Bearer ","");if(!Q)return U.text("Unauthorized",401);let w=(Y=(J=$.inspector).token)==null?void 0:Y.call(J);if(!w)return U.text("Unauthorized",401);if(!YC(Q,w))return U.text("Unauthorized",401);await X()});function h9($){var U,X,G,J;if(!((U=$==null?void 0:$.inspector)==null?void 0:U.enabled))return"disabled";let Y=(G=(X=$==null?void 0:$.inspector)==null?void 0:X.token)==null?void 0:G.call(X);if(!Y)return GG().warn("Inspector Token is not set, but Inspector is enabled. Please set it in the run configuration `inspector.token` or via `RIVETKIT_INSPECTOR_TOKEN` environment variable. Inspector will not be accessible."),"disabled";let Q=new URL("https://inspect.rivet.dev");Q.searchParams.set("t",Y);let w=((J=$==null?void 0:$.inspector)==null?void 0:J.defaultEndpoint)??$.overrideServerAddress;if(w)Q.searchParams.set("u",w);return Q.href}var m2=($,U)=>{var X,G;if(typeof((X=$.inspector)==null?void 0:X.enabled)==="boolean")return $.inspector.enabled;else if(typeof((G=$.inspector)==null?void 0:G.enabled)==="object")return $.inspector.enabled[U];return!1},LF=($,U)=>{var X;if(!((X=$.inspector)==null?void 0:X.token())){let G=U.getOrCreateInspectorAccessToken();$.inspector.token=()=>G}};var g9;try{g9=new TextDecoder}catch($){}var t,Z1,R=0;var l9=[],QC=105,wC=57342,NC=57343,AF=57337;var qF=6,VU={},u2=112810000,X1=16810000;var j0=l9,c2=0,_$={},a$,i2,n2=0,H0=0,J6,$4,X6=[],b9=[],x6,S6,y2,vF={useRecords:!1,mapsAsObjects:!0},p2=!1,EF=2;try{Function("")}catch($){EF=1/0}class G1{constructor($){if($){if(($.keyMap||$._keyMap)&&!$.useRecords)$.useRecords=!1,$.mapsAsObjects=!0;if($.useRecords===!1&&$.mapsAsObjects===void 0)$.mapsAsObjects=!0;if($.getStructures)$.getShared=$.getStructures;if($.getShared&&!$.structures)($.structures=[]).uninitialized=!0;if($.keyMap){this.mapKey=new Map;for(let[U,X]of Object.entries($.keyMap))this.mapKey.set(X,U)}}Object.assign(this,$)}decodeKey($){return this.keyMap?this.mapKey.get($)||$:$}encodeKey($){return this.keyMap&&this.keyMap.hasOwnProperty($)?this.keyMap[$]:$}encodeKeys($){if(!this._keyMap)return $;let U=new Map;for(let[X,G]of Object.entries($))U.set(this._keyMap.hasOwnProperty(X)?this._keyMap[X]:X,G);return U}decodeKeys($){if(!this._keyMap||$.constructor.name!="Map")return $;if(!this._mapKey){this._mapKey=new Map;for(let[X,G]of Object.entries(this._keyMap))this._mapKey.set(G,X)}let U={};return $.forEach((X,G)=>U[U4(this._mapKey.has(G)?this._mapKey.get(G):G)]=X),U}mapDecode($,U){let X=this.decode($);if(this._keyMap)switch(X.constructor.name){case"Array":return X.map((G)=>this.decodeKeys(G))}return X}decode($,U){if(t)return CF(()=>{return d2(),this?this.decode($,U):G1.prototype.decode.call(vF,$,U)});Z1=U>-1?U:$.length,R=0,c2=0,H0=0,i2=null,j0=l9,J6=null,t=$;try{S6=$.dataView||($.dataView=new DataView($.buffer,$.byteOffset,$.byteLength))}catch(X){if(t=null,$ instanceof Uint8Array)throw X;throw Error("Source must be a Uint8Array or Buffer but was a "+($&&typeof $=="object"?$.constructor.name:typeof $))}if(this instanceof G1){if(_$=this,x6=this.sharedValues&&(this.pack?Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return a$=this.structures,l2();else if(!a$||a$.length>0)a$=[]}else{if(_$=vF,!a$||a$.length>0)a$=[];x6=null}return l2()}decodeMultiple($,U){let X,G=0;try{let J=$.length;p2=!0;let Y=this?this.decode($,J):i9.decode($,J);if(U){if(U(Y)===!1)return;while(R<J)if(G=R,U(l2())===!1)return}else{X=[Y];while(R<J)G=R,X.push(l2());return X}}catch(J){throw J.lastPosition=G,J.values=X,J}finally{p2=!1,d2()}}}function l2(){try{let $=F$();if(J6){if(R>=J6.postBundlePosition){let U=Error("Unexpected bundle position");throw U.incomplete=!0,U}R=J6.postBundlePosition,J6=null}if(R==Z1){if(a$=null,t=null,$4)$4=null}else if(R>Z1){let U=Error("Unexpected end of CBOR data");throw U.incomplete=!0,U}else if(!p2)throw Error("Data read, but end of buffer not reached");return $}catch($){if(d2(),$ instanceof RangeError||$.message.startsWith("Unexpected end of buffer"))$.incomplete=!0;throw $}}function F$(){let $=t[R++],U=$>>5;if($=$&31,$>23)switch($){case 24:$=t[R++];break;case 25:if(U==7)return zC();$=S6.getUint16(R),R+=2;break;case 26:if(U==7){let X=S6.getFloat32(R);if(_$.useFloat32>2){let G=QG[(t[R]&127)<<1|t[R+1]>>7];return R+=4,(G*X+(X>0?0.5:-0.5)>>0)/G}return R+=4,X}$=S6.getUint32(R),R+=4;break;case 27:if(U==7){let X=S6.getFloat64(R);return R+=8,X}if(U>1){if(S6.getUint32(R)>0)throw Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");$=S6.getUint32(R+4)}else if(_$.int64AsNumber)$=S6.getUint32(R)*4294967296,$+=S6.getUint32(R+4);else $=S6.getBigUint64(R);R+=8;break;case 31:switch(U){case 2:case 3:throw Error("Indefinite length not supported for byte or text strings");case 4:let X=[],G,J=0;while((G=F$())!=VU){if(J>=u2)throw Error(`Array length exceeds ${u2}`);X[J++]=G}return U==4?X:U==3?X.join(""):Buffer.concat(X);case 5:let Y;if(_$.mapsAsObjects){let Q={},w=0;if(_$.keyMap)while((Y=F$())!=VU){if(w++>=X1)throw Error(`Property count exceeds ${X1}`);Q[U4(_$.decodeKey(Y))]=F$()}else while((Y=F$())!=VU){if(w++>=X1)throw Error(`Property count exceeds ${X1}`);Q[U4(Y)]=F$()}return Q}else{if(y2)_$.mapsAsObjects=!0,y2=!1;let Q=new Map;if(_$.keyMap){let w=0;while((Y=F$())!=VU){if(w++>=X1)throw Error(`Map size exceeds ${X1}`);Q.set(_$.decodeKey(Y),F$())}}else{let w=0;while((Y=F$())!=VU){if(w++>=X1)throw Error(`Map size exceeds ${X1}`);Q.set(Y,F$())}}return Q}case 7:return VU;default:throw Error("Invalid major type for indefinite length "+U)}default:throw Error("Unknown token "+$)}switch(U){case 0:return $;case 1:return~$;case 2:return OC($);case 3:if(H0>=R)return i2.slice(R-n2,(R+=$)-n2);if(H0==0&&Z1<140&&$<32){let J=$<16?RF($):KC($);if(J!=null)return J}return SF($);case 4:if($>=u2)throw Error(`Array length exceeds ${u2}`);let X=Array($);for(let J=0;J<$;J++)X[J]=F$();return X;case 5:if($>=X1)throw Error(`Map size exceeds ${u2}`);if(_$.mapsAsObjects){let J={};if(_$.keyMap)for(let Y=0;Y<$;Y++)J[U4(_$.decodeKey(F$()))]=F$();else for(let Y=0;Y<$;Y++)J[U4(F$())]=F$();return J}else{if(y2)_$.mapsAsObjects=!0,y2=!1;let J=new Map;if(_$.keyMap)for(let Y=0;Y<$;Y++)J.set(_$.decodeKey(F$()),F$());else for(let Y=0;Y<$;Y++)J.set(F$(),F$());return J}case 6:if($>=AF){let J=a$[$&8191];if(J){if(!J.read)J.read=m9(J);return J.read()}if($<65536){if($==NC){let Y=_U(),Q=F$(),w=F$();u9(Q,w);let N={};if(_$.keyMap)for(let j=2;j<Y;j++){let H=_$.decodeKey(w[j-2]);N[U4(H)]=F$()}else for(let j=2;j<Y;j++){let H=w[j-2];N[U4(H)]=F$()}return N}else if($==wC){let Y=_U(),Q=F$();for(let w=2;w<Y;w++)u9(Q++,F$());return F$()}else if($==AF)return FC();if(_$.getShared){if(c9(),J=a$[$&8191],J){if(!J.read)J.read=m9(J);return J.read()}}}}let G=X6[$];if(G)if(G.handlesRead)return G(F$);else return G(F$());else{let J=F$();for(let Y=0;Y<b9.length;Y++){let Q=b9[Y]($,J);if(Q!==void 0)return Q}return new h4(J,$)}case 7:switch($){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let J=(x6||N0())[$];if(J!==void 0)return J;throw Error("Unknown token "+$)}default:if(isNaN($)){let J=Error("Unexpected end of CBOR data");throw J.incomplete=!0,J}throw Error("Unknown CBOR token "+$)}}var PF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function m9($){if(!$)throw Error("Structure is required in record definition");function U(){let X=t[R++];if(X=X&31,X>23)switch(X){case 24:X=t[R++];break;case 25:X=S6.getUint16(R),R+=2;break;case 26:X=S6.getUint32(R),R+=4;break;default:throw Error("Expected array header, but got "+t[R-1])}let G=this.compiledReader;while(G){if(G.propertyCount===X)return G(F$);G=G.next}if(this.slowReads++>=EF){let Y=this.length==X?this:this.slice(0,X);if(G=_$.keyMap?Function("r","return {"+Y.map((Q)=>_$.decodeKey(Q)).map((Q)=>PF.test(Q)?U4(Q)+":r()":"["+JSON.stringify(Q)+"]:r()").join(",")+"}"):Function("r","return {"+Y.map((Q)=>PF.test(Q)?U4(Q)+":r()":"["+JSON.stringify(Q)+"]:r()").join(",")+"}"),this.compiledReader)G.next=this.compiledReader;return G.propertyCount=X,this.compiledReader=G,G(F$)}let J={};if(_$.keyMap)for(let Y=0;Y<X;Y++)J[U4(_$.decodeKey(this[Y]))]=F$();else for(let Y=0;Y<X;Y++)J[U4(this[Y])]=F$();return J}return $.slowReads=0,U}function U4($){if(typeof $==="string")return $==="__proto__"?"__proto_":$;if(typeof $==="number"||typeof $==="boolean"||typeof $==="bigint")return $.toString();if($==null)return $+"";throw Error("Invalid property name type "+typeof $)}var SF=W0,jC=W0,HC=W0,WC=W0,ZF=!1;function IF($){ZF=!0,SF=U(1),jC=U(2),HC=U(3),WC=U(5);function U(X){return function(J){let Y=j0[c2++];if(Y==null){if(J6)return W0(J);let w=$(R,Z1,J,t);if(typeof w=="string")Y=w,j0=l9;else if(j0=w,c2=1,H0=1,Y=j0[0],Y===void 0)throw Error("Unexpected end of buffer")}let Q=Y.length;if(Q<=J)return R+=J,Y;return i2=Y,n2=R,H0=R+Q,R+=J,Y.slice(0,J)}}}function W0($){let U;if($<16){if(U=RF($))return U}if($>64&&g9)return g9.decode(t.subarray(R,R+=$));let X=R+$,G=[];U="";while(R<X){let J=t[R++];if((J&128)===0)G.push(J);else if((J&224)===192){let Y=t[R++]&63;G.push((J&31)<<6|Y)}else if((J&240)===224){let Y=t[R++]&63,Q=t[R++]&63;G.push((J&31)<<12|Y<<6|Q)}else if((J&248)===240){let Y=t[R++]&63,Q=t[R++]&63,w=t[R++]&63,N=(J&7)<<18|Y<<12|Q<<6|w;if(N>65535)N-=65536,G.push(N>>>10&1023|55296),N=56320|N&1023;G.push(N)}else G.push(J);if(G.length>=4096)U+=K6.apply(String,G),G.length=0}if(G.length>0)U+=K6.apply(String,G);return U}var K6=String.fromCharCode;function KC($){let U=R,X=Array($);for(let G=0;G<$;G++){let J=t[R++];if((J&128)>0){R=U;return}X[G]=J}return K6.apply(String,X)}function RF($){if($<4)if($<2)if($===0)return"";else{let U=t[R++];if((U&128)>1){R-=1;return}return K6(U)}else{let U=t[R++],X=t[R++];if((U&128)>0||(X&128)>0){R-=2;return}if($<3)return K6(U,X);let G=t[R++];if((G&128)>0){R-=3;return}return K6(U,X,G)}else{let U=t[R++],X=t[R++],G=t[R++],J=t[R++];if((U&128)>0||(X&128)>0||(G&128)>0||(J&128)>0){R-=4;return}if($<6)if($===4)return K6(U,X,G,J);else{let Y=t[R++];if((Y&128)>0){R-=5;return}return K6(U,X,G,J,Y)}else if($<8){let Y=t[R++],Q=t[R++];if((Y&128)>0||(Q&128)>0){R-=6;return}if($<7)return K6(U,X,G,J,Y,Q);let w=t[R++];if((w&128)>0){R-=7;return}return K6(U,X,G,J,Y,Q,w)}else{let Y=t[R++],Q=t[R++],w=t[R++],N=t[R++];if((Y&128)>0||(Q&128)>0||(w&128)>0||(N&128)>0){R-=8;return}if($<10)if($===8)return K6(U,X,G,J,Y,Q,w,N);else{let j=t[R++];if((j&128)>0){R-=9;return}return K6(U,X,G,J,Y,Q,w,N,j)}else if($<12){let j=t[R++],H=t[R++];if((j&128)>0||(H&128)>0){R-=10;return}if($<11)return K6(U,X,G,J,Y,Q,w,N,j,H);let K=t[R++];if((K&128)>0){R-=11;return}return K6(U,X,G,J,Y,Q,w,N,j,H,K)}else{let j=t[R++],H=t[R++],K=t[R++],z=t[R++];if((j&128)>0||(H&128)>0||(K&128)>0||(z&128)>0){R-=12;return}if($<14)if($===12)return K6(U,X,G,J,Y,Q,w,N,j,H,K,z);else{let W=t[R++];if((W&128)>0){R-=13;return}return K6(U,X,G,J,Y,Q,w,N,j,H,K,z,W)}else{let W=t[R++],O=t[R++];if((W&128)>0||(O&128)>0){R-=14;return}if($<15)return K6(U,X,G,J,Y,Q,w,N,j,H,K,z,W,O);let D=t[R++];if((D&128)>0){R-=15;return}return K6(U,X,G,J,Y,Q,w,N,j,H,K,z,W,O,D)}}}}}function OC($){return _$.copyBuffers?Uint8Array.prototype.slice.call(t,R,R+=$):t.subarray(R,R+=$)}var TF=new Float32Array(1),YG=new Uint8Array(TF.buffer,0,4);function zC(){let $=t[R++],U=t[R++],X=($&127)>>2;if(X===31){if(U||$&3)return NaN;return $&128?-1/0:1/0}if(X===0){let G=(($&3)<<8|U)/16777216;return $&128?-G:G}return YG[3]=$&128|(X>>1)+56,YG[2]=($&7)<<5|U>>3,YG[1]=U<<5,YG[0]=0,TF[0]}var Ma=Array(4096);class h4{constructor($,U){this.value=$,this.tag=U}}X6[0]=($)=>{return new Date($)};X6[1]=($)=>{return new Date(Math.round($*1000))};X6[2]=($)=>{let U=BigInt(0);for(let X=0,G=$.byteLength;X<G;X++)U=BigInt($[X])+(U<<BigInt(8));return U};X6[3]=($)=>{return BigInt(-1)-X6[2]($)};X6[4]=($)=>{return+($[1]+"e"+$[0])};X6[5]=($)=>{return $[1]*Math.exp($[0]*Math.log(2))};var u9=($,U)=>{$=$-57344;let X=a$[$];if(X&&X.isShared)(a$.restoreStructures||(a$.restoreStructures=[]))[$]=X;a$[$]=U,U.read=m9(U)};X6[QC]=($)=>{let U=$.length,X=$[1];u9($[0],X);let G={};for(let J=2;J<U;J++){let Y=X[J-2];G[U4(Y)]=$[J]}return G};X6[14]=($)=>{if(J6)return J6[0].slice(J6.position0,J6.position0+=$);return new h4($,14)};X6[15]=($)=>{if(J6)return J6[1].slice(J6.position1,J6.position1+=$);return new h4($,15)};var DC={Error,RegExp};X6[27]=($)=>{return(DC[$[0]]||Error)($[1],$[2])};var kF=($)=>{if(t[R++]!=132){let X=Error("Packed values structure must be followed by a 4 element array");if(t.length<R)X.incomplete=!0;throw X}let U=$();if(!U||!U.length){let X=Error("Packed values structure must be followed by a 4 element array");throw X.incomplete=!0,X}return x6=x6?U.concat(x6.slice(U.length)):U,x6.prefixes=$(),x6.suffixes=$(),$()};kF.handlesRead=!0;X6[51]=kF;X6[qF]=($)=>{if(!x6)if(_$.getShared)c9();else return new h4($,qF);if(typeof $=="number")return x6[16+($>=0?2*$:-2*$-1)];let U=Error("No support for non-integer packed references yet");if($===void 0)U.incomplete=!0;throw U};X6[28]=($)=>{if(!$4)$4=new Map,$4.id=0;let U=$4.id++,X=R,G=t[R],J;if(G>>5==4)J=[];else J={};let Y={target:J};$4.set(U,Y);let Q=$();if(Y.used){if(Object.getPrototypeOf(J)!==Object.getPrototypeOf(Q))R=X,J=Q,$4.set(U,{target:J}),Q=$();return Object.assign(J,Q)}return Y.target=Q,Q};X6[28].handlesRead=!0;X6[29]=($)=>{let U=$4.get($);return U.used=!0,U.target};X6[258]=($)=>new Set($);(X6[259]=($)=>{if(_$.mapsAsObjects)_$.mapsAsObjects=!1,y2=!0;return $()}).handlesRead=!0;function BU($,U){if(typeof $==="string")return $+U;if($ instanceof Array)return $.concat(U);return Object.assign({},$,U)}function N0(){if(!x6)if(_$.getShared)c9();else throw Error("No packed values available");return x6}var VC=1399353956;b9.push(($,U)=>{if($>=225&&$<=255)return BU(N0().prefixes[$-224],U);if($>=28704&&$<=32767)return BU(N0().prefixes[$-28672],U);if($>=1879052288&&$<=2147483647)return BU(N0().prefixes[$-1879048192],U);if($>=216&&$<=223)return BU(U,N0().suffixes[$-216]);if($>=27647&&$<=28671)return BU(U,N0().suffixes[$-27639]);if($>=1811940352&&$<=1879048191)return BU(U,N0().suffixes[$-1811939328]);if($==VC)return{packedValues:x6,structures:a$.slice(0),version:U};if($==55799)return U});var BC=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,y9=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],_C=[64,68,69,70,71,72,77,78,79,85,86];for(let $=0;$<y9.length;$++)MC(y9[$],_C[$]);function MC($,U){let X="get"+$.name.slice(0,-5),G;if(typeof $==="function")G=$.BYTES_PER_ELEMENT;else $=null;for(let J=0;J<2;J++){if(!J&&G==1)continue;let Y=G==2?1:G==4?2:G==8?3:0;X6[J?U:U-4]=G==1||J==BC?(Q)=>{if(!$)throw Error("Could not find typed array for code "+U);if(!_$.copyBuffers){if(G===1||G===2&&!(Q.byteOffset&1)||G===4&&!(Q.byteOffset&3)||G===8&&!(Q.byteOffset&7))return new $(Q.buffer,Q.byteOffset,Q.byteLength>>Y)}return new $(Uint8Array.prototype.slice.call(Q,0).buffer)}:(Q)=>{if(!$)throw Error("Could not find typed array for code "+U);let w=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),N=Q.length>>Y,j=new $(N),H=w[X];for(let K=0;K<N;K++)j[K]=H.call(w,K<<Y,J);return j}}}function FC(){let $=_U(),U=R+F$();for(let G=2;G<$;G++){let J=_U();R+=J}let X=R;return R=U,J6=[W0(_U()),W0(_U())],J6.position0=0,J6.position1=0,J6.postBundlePosition=R,R=X,F$()}function _U(){let $=t[R++]&31;if($>23)switch($){case 24:$=t[R++];break;case 25:$=S6.getUint16(R),R+=2;break;case 26:$=S6.getUint32(R),R+=4;break}return $}function c9(){if(_$.getShared){let $=CF(()=>{return t=null,_$.getShared()})||{},U=$.structures||[];if(_$.sharedVersion=$.version,x6=_$.sharedValues=$.packedValues,a$===!0)_$.structures=a$=U;else a$.splice.apply(a$,[0,U.length].concat(U))}}function CF($){let U=Z1,X=R,G=c2,J=n2,Y=H0,Q=i2,w=j0,N=$4,j=J6,H=new Uint8Array(t.slice(0,Z1)),K=a$,z=_$,W=p2,O=$();return Z1=U,R=X,c2=G,n2=J,H0=Y,i2=Q,j0=w,$4=N,J6=j,t=H,p2=W,a$=K,_$=z,S6=new DataView(t.buffer,t.byteOffset,t.byteLength),O}function d2(){t=null,$4=null,a$=null}var QG=Array(147);for(let $=0;$<256;$++)QG[$]=+("1e"+Math.floor(45.15-$*0.30103));var i9=new G1({useRecords:!1}),T$=i9.decode,LC=i9.decodeMultiple;var wG;try{wG=new TextEncoder}catch($){}var r9,uF,jG=typeof globalThis==="object"&&globalThis.Buffer,o2=typeof jG<"u",n9=o2?jG.allocUnsafeSlow:Uint8Array,xF=o2?jG:Uint8Array,fF=256,hF=o2?4294967296:2144337920;var p9,P,c$,_=0,I1,N6=null,AC=61440,qC=/[\u0080-\uFFFF]/,y6=Symbol("record-id");class r2 extends G1{constructor($){super($);this.offset=0;let U,X,G,J,Y,Q;$=$||{};let w=xF.prototype.utf8Write?function(F,n,C){return P.utf8Write(F,n,C)}:wG&&wG.encodeInto?function(F,n){return wG.encodeInto(F,P.subarray(n)).written}:!1,N=this,j=$.structures||$.saveStructures,H=$.maxSharedStructures;if(H==null)H=j?128:0;if(H>8190)throw Error("Maximum maxSharedStructure is 8190");let K=$.sequential;if(K)H=0;if(!this.structures)this.structures=[];if(this.saveStructures)this.saveShared=this.saveStructures;let z,W,O=$.sharedValues,D;if(O){D=Object.create(null);for(let F=0,n=O.length;F<n;F++)D[O[F]]=F}let B=[],v=0,E=0;this.mapEncode=function(F,n){if(this._keyMap&&!this._mapped)switch(F.constructor.name){case"Array":F=F.map((C)=>this.encodeKeys(C));break}return this.encode(F,n)},this.encode=function(F,n){if(!P)P=new n9(8192),c$=new DataView(P.buffer,0,8192),_=0;if(I1=P.length-10,I1-_<2048)P=new n9(P.length),c$=new DataView(P.buffer,0,P.length),I1=P.length-10,_=0;else if(n===a9)_=_+7&2147483640;if(X=_,N.useSelfDescribedHeader)c$.setUint32(_,3654940416),_+=3;if(Q=N.structuredClone?new Map:null,N.bundleStrings&&typeof F!=="string")N6=[],N6.size=1/0;else N6=null;if(G=N.structures,G){if(G.uninitialized){let m=N.getShared()||{};N.structures=G=m.structures||[],N.sharedVersion=m.version;let l=N.sharedValues=m.packedValues;if(l){D={};for(let $$=0,X$=l.length;$$<X$;$$++)D[l[$$]]=$$}}let C=G.length;if(C>H&&!K)C=H;if(!G.transitions){G.transitions=Object.create(null);for(let m=0;m<C;m++){let l=G[m];if(!l)continue;let $$,X$=G.transitions;for(let Q$=0,O$=l.length;Q$<O$;Q$++){if(X$[y6]===void 0)X$[y6]=m;let P$=l[Q$];if($$=X$[P$],!$$)$$=X$[P$]=Object.create(null);X$=$$}X$[y6]=m|1048576}}if(!K)G.nextId=C}if(J)J=!1;if(Y=G||[],W=D,$.pack){let C=new Map;if(C.values=[],C.encoder=N,C.maxValues=$.maxPrivatePackedValues||(D?16:1/0),C.objectMap=D||!1,C.samplingPackedValues=z,NG(F,C),C.values.length>0){P[_++]=216,P[_++]=51,b4(4);let m=C.values;L(m),b4(0),b4(0),W=Object.create(D||null);for(let l=0,$$=m.length;l<$$;l++)W[m[l]]=l}}p9=n&o9;try{if(p9)return;if(L(F),N6)bF(X,L);if(N.offset=_,Q&&Q.idsToInsert){if(_+=Q.idsToInsert.length*2,_>I1)I(_);N.offset=_;let C=EC(P.subarray(X,_),Q.idsToInsert);return Q=null,C}if(n&a9)return P.start=X,P.end=_,P;return P.subarray(X,_)}finally{if(G){if(E<10)E++;if(G.length>H)G.length=H;if(v>1e4){if(G.transitions=null,E=0,v=0,B.length>0)B=[]}else if(B.length>0&&!K){for(let C=0,m=B.length;C<m;C++)B[C][y6]=void 0;B=[]}}if(J&&N.saveShared){if(N.structures.length>H)N.structures=N.structures.slice(0,H);let C=P.subarray(X,_);if(N.updateSharedData()===!1)return N.encode(F);return C}if(n&IC)_=X}},this.findCommonStringsToPack=()=>{if(z=new Map,!D)D=Object.create(null);return(F)=>{let n=F&&F.threshold||4,C=this.pack?F.maxPrivatePackedValues||16:0;if(!O)O=this.sharedValues=[];for(let[m,l]of z)if(l.count>n)D[m]=C++,O.push(m),J=!0;while(this.saveShared&&this.updateSharedData()===!1);z=null}};let L=(F)=>{if(_>I1)P=I(_);var n=typeof F,C;if(n==="string"){if(W){let X$=W[F];if(X$>=0){if(X$<16)P[_++]=X$+224;else if(P[_++]=198,X$&1)L(15-X$>>1);else L(X$-16>>1);return}else if(z&&!$.pack){let Q$=z.get(F);if(Q$)Q$.count++;else z.set(F,{count:1})}}let m=F.length;if(N6&&m>=4&&m<1024){if((N6.size+=m)>AC){let Q$,O$=(N6[0]?N6[0].length*3+N6[1].length:0)+10;if(_+O$>I1)P=I(_+O$);if(P[_++]=217,P[_++]=223,P[_++]=249,P[_++]=N6.position?132:130,P[_++]=26,Q$=_-X,_+=4,N6.position)bF(X,L);N6=["",""],N6.size=0,N6.position=Q$}let X$=qC.test(F);N6[X$?0:1]+=F,P[_++]=X$?206:207,L(m);return}let l;if(m<32)l=1;else if(m<256)l=2;else if(m<65536)l=3;else l=5;let $$=m*3;if(_+$$>I1)P=I(_+$$);if(m<64||!w){let X$,Q$,O$,P$=_+l;for(X$=0;X$<m;X$++)if(Q$=F.charCodeAt(X$),Q$<128)P[P$++]=Q$;else if(Q$<2048)P[P$++]=Q$>>6|192,P[P$++]=Q$&63|128;else if((Q$&64512)===55296&&((O$=F.charCodeAt(X$+1))&64512)===56320)Q$=65536+((Q$&1023)<<10)+(O$&1023),X$++,P[P$++]=Q$>>18|240,P[P$++]=Q$>>12&63|128,P[P$++]=Q$>>6&63|128,P[P$++]=Q$&63|128;else P[P$++]=Q$>>12|224,P[P$++]=Q$>>6&63|128,P[P$++]=Q$&63|128;C=P$-_-l}else C=w(F,_+l,$$);if(C<24)P[_++]=96|C;else if(C<256){if(l<2)P.copyWithin(_+2,_+1,_+1+C);P[_++]=120,P[_++]=C}else if(C<65536){if(l<3)P.copyWithin(_+3,_+2,_+2+C);P[_++]=121,P[_++]=C>>8,P[_++]=C&255}else{if(l<5)P.copyWithin(_+5,_+3,_+3+C);P[_++]=122,c$.setUint32(_,C),_+=4}_+=C}else if(n==="number")if(!this.alwaysUseFloat&&F>>>0===F)if(F<24)P[_++]=F;else if(F<256)P[_++]=24,P[_++]=F;else if(F<65536)P[_++]=25,P[_++]=F>>8,P[_++]=F&255;else P[_++]=26,c$.setUint32(_,F),_+=4;else if(!this.alwaysUseFloat&&F>>0===F)if(F>=-24)P[_++]=31-F;else if(F>=-256)P[_++]=56,P[_++]=~F;else if(F>=-65536)P[_++]=57,c$.setUint16(_,~F),_+=2;else P[_++]=58,c$.setUint32(_,~F),_+=4;else{let m;if((m=this.useFloat32)>0&&F<4294967296&&F>=-2147483648){P[_++]=250,c$.setFloat32(_,F);let l;if(m<4||(l=F*QG[(P[_]&127)<<1|P[_+1]>>7])>>0===l){_+=4;return}else _--}P[_++]=251,c$.setFloat64(_,F),_+=8}else if(n==="object")if(!F)P[_++]=246;else{if(Q){let l=Q.get(F);if(l){if(P[_++]=216,P[_++]=29,P[_++]=25,!l.references){let $$=Q.idsToInsert||(Q.idsToInsert=[]);l.references=[],$$.push(l)}l.references.push(_-X),_+=2;return}else Q.set(F,{offset:_-X})}let m=F.constructor;if(m===Object)M(F);else if(m===Array){if(C=F.length,C<24)P[_++]=128|C;else b4(C);for(let l=0;l<C;l++)L(F[l])}else if(m===Map){if(this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)P[_++]=217,P[_++]=1,P[_++]=3;if(C=F.size,C<24)P[_++]=160|C;else if(C<256)P[_++]=184,P[_++]=C;else if(C<65536)P[_++]=185,P[_++]=C>>8,P[_++]=C&255;else P[_++]=186,c$.setUint32(_,C),_+=4;if(N.keyMap)for(let[l,$$]of F)L(N.encodeKey(l)),L($$);else for(let[l,$$]of F)L(l),L($$)}else{for(let l=0,$$=r9.length;l<$$;l++){let X$=uF[l];if(F instanceof X$){let Q$=r9[l],O$=Q$.tag;if(O$==null)O$=Q$.getTag&&Q$.getTag.call(this,F);if(O$<24)P[_++]=192|O$;else if(O$<256)P[_++]=216,P[_++]=O$;else if(O$<65536)P[_++]=217,P[_++]=O$>>8,P[_++]=O$&255;else if(O$>-1)P[_++]=218,c$.setUint32(_,O$),_+=4;Q$.encode.call(this,F,L,I);return}}if(F[Symbol.iterator]){if(p9){let l=Error("Iterable should be serialized as iterator");throw l.iteratorNotHandled=!0,l}P[_++]=159;for(let l of F)L(l);P[_++]=255;return}if(F[Symbol.asyncIterator]||d9(F)){let l=Error("Iterable/blob should be serialized as iterator");throw l.iteratorNotHandled=!0,l}if(this.useToJSON&&F.toJSON){let l=F.toJSON();if(l!==F)return L(l)}M(F)}}else if(n==="boolean")P[_++]=F?245:244;else if(n==="bigint"){if(F<BigInt(1)<<BigInt(64)&&F>=0)P[_++]=27,c$.setBigUint64(_,F);else if(F>-(BigInt(1)<<BigInt(64))&&F<0)P[_++]=59,c$.setBigUint64(_,-F-BigInt(1));else if(this.largeBigIntToFloat)P[_++]=251,c$.setFloat64(_,Number(F));else{if(F>=BigInt(0))P[_++]=194;else P[_++]=195,F=BigInt(-1)-F;let m=[];while(F)m.push(Number(F&BigInt(255))),F>>=BigInt(8);t9(new Uint8Array(m.reverse()),I);return}_+=8}else if(n==="undefined")P[_++]=247;else throw Error("Unknown type: "+n)},M=this.useRecords===!1?this.variableMapSize?(F)=>{let n=Object.keys(F),C=Object.values(F),m=n.length;if(m<24)P[_++]=160|m;else if(m<256)P[_++]=184,P[_++]=m;else if(m<65536)P[_++]=185,P[_++]=m>>8,P[_++]=m&255;else P[_++]=186,c$.setUint32(_,m),_+=4;let l;if(N.keyMap)for(let $$=0;$$<m;$$++)L(N.encodeKey(n[$$])),L(C[$$]);else for(let $$=0;$$<m;$$++)L(n[$$]),L(C[$$])}:(F)=>{P[_++]=185;let n=_-X;_+=2;let C=0;if(N.keyMap){for(let m in F)if(typeof F.hasOwnProperty!=="function"||F.hasOwnProperty(m))L(N.encodeKey(m)),L(F[m]),C++}else for(let m in F)if(typeof F.hasOwnProperty!=="function"||F.hasOwnProperty(m))L(m),L(F[m]),C++;P[n+++X]=C>>8,P[n+X]=C&255}:(F,n)=>{let C,m=Y.transitions||(Y.transitions=Object.create(null)),l=0,$$=0,X$,Q$;if(this.keyMap){Q$=Object.keys(F).map((P$)=>this.encodeKey(P$)),$$=Q$.length;for(let P$=0;P$<$$;P$++){let vB=Q$[P$];if(C=m[vB],!C)C=m[vB]=Object.create(null),l++;m=C}}else for(let P$ in F)if(typeof F.hasOwnProperty!=="function"||F.hasOwnProperty(P$)){if(C=m[P$],!C){if(m[y6]&1048576)X$=m[y6]&65535;C=m[P$]=Object.create(null),l++}m=C,$$++}let O$=m[y6];if(O$!==void 0)O$&=65535,P[_++]=217,P[_++]=O$>>8|224,P[_++]=O$&255;else{if(!Q$)Q$=m.__keys__||(m.__keys__=Object.keys(F));if(X$===void 0){if(O$=Y.nextId++,!O$)O$=0,Y.nextId=1;if(O$>=fF)Y.nextId=(O$=H)+1}else O$=X$;if(Y[O$]=Q$,O$<H){P[_++]=217,P[_++]=O$>>8|224,P[_++]=O$&255,m=Y.transitions;for(let P$=0;P$<$$;P$++){if(m[y6]===void 0||m[y6]&1048576)m[y6]=O$;m=m[Q$[P$]]}m[y6]=O$|1048576,J=!0}else{if(m[y6]=O$,c$.setUint32(_,3655335680),_+=3,l)v+=E*l;if(B.length>=fF-H)B.shift()[y6]=void 0;if(B.push(m),b4($$+2),L(57344+O$),L(Q$),n)return;for(let P$ in F)if(typeof F.hasOwnProperty!=="function"||F.hasOwnProperty(P$))L(F[P$]);return}}if($$<24)P[_++]=128|$$;else b4($$);if(n)return;for(let P$ in F)if(typeof F.hasOwnProperty!=="function"||F.hasOwnProperty(P$))L(F[P$])},I=(F)=>{let n;if(F>16777216){if(F-X>hF)throw Error("Encoded buffer would be larger than maximum buffer size");n=Math.min(hF,Math.round(Math.max((F-X)*(F>67108864?1.25:2),4194304)/4096)*4096)}else n=(Math.max(F-X<<2,P.length-1)>>12)+1<<12;let C=new n9(n);if(c$=new DataView(C.buffer,0,n),P.copy)P.copy(C,0,X,F);else C.set(P.slice(X,F));return _-=X,X=0,I1=C.length-10,P=C},x=100,g=1000;this.encodeAsIterable=function(F,n){return q$(F,n,h)},this.encodeAsAsyncIterable=function(F,n){return q$(F,n,v$)};function*h(F,n,C){let m=F.constructor;if(m===Object){let l=N.useRecords!==!1;if(l)M(F,!0);else gF(Object.keys(F).length,160);for(let $$ in F){let X$=F[$$];if(!l)L($$);if(X$&&typeof X$==="object")if(n[$$])yield*h(X$,n[$$]);else yield*r(X$,n,$$);else L(X$)}}else if(m===Array){let l=F.length;b4(l);for(let $$=0;$$<l;$$++){let X$=F[$$];if(X$&&(typeof X$==="object"||_-X>x))if(n.element)yield*h(X$,n.element);else yield*r(X$,n,"element");else L(X$)}}else if(F[Symbol.iterator]&&!F.buffer){P[_++]=159;for(let l of F)if(l&&(typeof l==="object"||_-X>x))if(n.element)yield*h(l,n.element);else yield*r(l,n,"element");else L(l);P[_++]=255}else if(d9(F))gF(F.size,64),yield P.subarray(X,_),yield F,e();else if(F[Symbol.asyncIterator])P[_++]=159,yield P.subarray(X,_),yield F,e(),P[_++]=255;else L(F);if(C&&_>X)yield P.subarray(X,_);else if(_-X>x)yield P.subarray(X,_),e()}function*r(F,n,C){let m=_-X;try{if(L(F),_-X>x)yield P.subarray(X,_),e()}catch(l){if(l.iteratorNotHandled)n[C]={},_=X+m,yield*h.call(this,F,n[C]);else throw l}}function e(){x=g,N.encode(null,o9)}function q$(F,n,C){if(n&&n.chunkThreshold)x=g=n.chunkThreshold;else x=100;if(F&&typeof F==="object")return N.encode(null,o9),C(F,N.iterateProperties||(N.iterateProperties={}),!0);return[N.encode(F)]}async function*v$(F,n){for(let C of h(F,n,!0)){let m=C.constructor;if(m===xF||m===Uint8Array)yield C;else if(d9(C)){let l=C.stream().getReader(),$$;while(!($$=await l.read()).done)yield $$.value}else if(C[Symbol.asyncIterator])for await(let l of C)if(e(),l)yield*v$(l,n.async||(n.async={}));else yield N.encode(l);else yield C}}}useBuffer($){P=$,c$=new DataView(P.buffer,P.byteOffset,P.byteLength),_=0}clearSharedData(){if(this.structures)this.structures=[];if(this.sharedValues)this.sharedValues=void 0}updateSharedData(){let $=this.sharedVersion||0;this.sharedVersion=$+1;let U=this.structures.slice(0),X=new s9(U,this.sharedValues,this.sharedVersion),G=this.saveShared(X,(J)=>(J&&J.version||0)==$);if(G===!1)X=this.getShared()||{},this.structures=X.structures||[],this.sharedValues=X.packedValues,this.sharedVersion=X.version,this.structures.nextId=this.structures.length;else U.forEach((J,Y)=>this.structures[Y]=J);return G}}function gF($,U){if($<24)P[_++]=U|$;else if($<256)P[_++]=U|24,P[_++]=$;else if($<65536)P[_++]=U|25,P[_++]=$>>8,P[_++]=$&255;else P[_++]=U|26,c$.setUint32(_,$),_+=4}class s9{constructor($,U,X){this.structures=$,this.packedValues=U,this.version=X}}function b4($){if($<24)P[_++]=128|$;else if($<256)P[_++]=152,P[_++]=$;else if($<65536)P[_++]=153,P[_++]=$>>8,P[_++]=$&255;else P[_++]=154,c$.setUint32(_,$),_+=4}var vC=typeof Blob>"u"?function(){}:Blob;function d9($){if($ instanceof vC)return!0;let U=$[Symbol.toStringTag];return U==="Blob"||U==="File"}function NG($,U){switch(typeof $){case"string":if($.length>3){if(U.objectMap[$]>-1||U.values.length>=U.maxValues)return;let G=U.get($);if(G){if(++G.count==2)U.values.push($)}else if(U.set($,{count:1}),U.samplingPackedValues){let J=U.samplingPackedValues.get($);if(J)J.count++;else U.samplingPackedValues.set($,{count:1})}}break;case"object":if($)if($ instanceof Array)for(let G=0,J=$.length;G<J;G++)NG($[G],U);else{let G=!U.encoder.useRecords;for(var X in $)if($.hasOwnProperty(X)){if(G)NG(X,U);NG($[X],U)}}break;case"function":console.log($)}}var PC=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;uF=[Date,Set,Error,RegExp,h4,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,s9];r9=[{tag:1,encode($,U){let X=$.getTime()/1000;if((this.useTimestamp32||$.getMilliseconds()===0)&&X>=0&&X<4294967296)P[_++]=26,c$.setUint32(_,X),_+=4;else P[_++]=251,c$.setFloat64(_,X),_+=8}},{tag:258,encode($,U){let X=Array.from($);U(X)}},{tag:27,encode($,U){U([$.name,$.message])}},{tag:27,encode($,U){U(["RegExp",$.source,$.flags])}},{getTag($){return $.tag},encode($,U){U($.value)}},{encode($,U,X){t9($,X)}},{getTag($){if($.constructor===Uint8Array){if(this.tagUint8Array||o2&&this.tagUint8Array!==!1)return 64}},encode($,U,X){t9($,X)}},g4(68,1),g4(69,2),g4(70,4),g4(71,8),g4(72,1),g4(77,2),g4(78,4),g4(79,8),g4(85,4),g4(86,8),{encode($,U){let X=$.packedValues||[],G=$.structures||[];if(X.values.length>0){P[_++]=216,P[_++]=51,b4(4);let J=X.values;U(J),b4(0),b4(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let Y=0,Q=J.length;Y<Q;Y++)packedObjectMap[J[Y]]=Y}if(G){c$.setUint32(_,3655335424),_+=3;let J=G.slice(0);J.unshift(57344),J.push(new h4($.version,1399353956)),U(J)}else U(new h4($.version,1399353956))}}];function g4($,U){if(!PC&&U>1)$-=4;return{tag:$,encode:function(G,J){let Y=G.byteLength,Q=G.byteOffset||0,w=G.buffer||G;J(o2?jG.from(w,Q,Y):new Uint8Array(w,Q,Y))}}}function t9($,U){let X=$.byteLength;if(X<24)P[_++]=64+X;else if(X<256)P[_++]=88,P[_++]=X;else if(X<65536)P[_++]=89,P[_++]=X>>8,P[_++]=X&255;else P[_++]=90,c$.setUint32(_,X),_+=4;if(_+X>=P.length)U(_+X);P.set($.buffer?$:new Uint8Array($),_),_+=X}function EC($,U){let X,G=U.length*2,J=$.length-G;U.sort((Y,Q)=>Y.offset>Q.offset?1:-1);for(let Y=0;Y<U.length;Y++){let Q=U[Y];Q.id=Y;for(let w of Q.references)$[w++]=Y>>8,$[w]=Y&255}while(X=U.pop()){let Y=X.offset;$.copyWithin(Y+G,Y,J),G-=2;let Q=Y+G;$[Q++]=216,$[Q++]=28,J=Y}return $}function bF($,U){c$.setUint32(N6.position+$,_-N6.position-$+1);let X=N6;N6=null,U(X[0]),U(X[1])}var e9=new r2({useRecords:!1}),E$=e9.encode,SC=e9.encodeAsIterable,ZC=e9.encodeAsAsyncIterable;var a9=512,IC=1024,o9=2048;var sC=process.env.CBOR_NATIVE_ACCELERATION_DISABLED!==void 0&&process.env.CBOR_NATIVE_ACCELERATION_DISABLED.toLowerCase()==="true";if(!sC){let $;try{if($=PL(),$)IF($.extractStrings)}catch(U){}}var w5=t$(V6(),1);function c4(){return W6("actor-runtime")}function LU($){throw c4().error({msg:"unreachable",value:`${$}`,stack:Error().stack}),new dB($)}var t2=class extends Error{constructor(){super("Promise did not complete before deadline.")}};function O0($,U){let X=new AbortController,G=X.signal,J=setTimeout(()=>X.abort(),U);return Promise.race([$,new Promise((Y,Q)=>{G.addEventListener("abort",()=>Q(new t2))})]).finally(()=>{clearTimeout(J)})}function ZL($=32){let U=new Uint8Array($);return crypto.getRandomValues(U),btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function zG($=32){let X="";for(let G=0;G<$;G++){let J=Math.floor(Math.random()*62);X+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[J]}return X}function IL($){return $==="state"||$.startsWith("state.")}function RL($){if(!$.startsWith("connections."))return!1;let U=$.indexOf(".state",12);if(U===-1)return!1;let X=U+6;return $.length===X||$[X]==="."}var z0="/connect",N5="/websocket",D0="/websocket/",DG="/inspector/connect",j5="x-rivet-query",V0="x-rivet-encoding",T1="x-rivet-conn-params",VG="x-rivet-actor",TL="x-rivet-token",H5="x-rivet-target",W5="x-rivet-actor";var kL="rivet",K5="rivet_target.",a2="rivet_actor.",q4="rivet_encoding.",v4="rivet_conn_params.",O5="test_path.";var Q1=V.enum(["json","cbor","bare"]),AU=class{#$;#U=new Map;#X;#G;#J;#Q;constructor($,U,X,G,J){this.#$=$,this.#X=U,this.#G=X,this.#J=G,this.#Q=J}get rawData(){return this.#$}serialize($){let U=this.#U.get($);if(U)return U;else{let X=B0($,this.#$,this.#X,this.#G,this.#J,this.#Q);return this.#U.set($,X),X}}};function CL($){let U="",X=$.byteLength;for(let G=0;G<X;G++)U+=String.fromCharCode($[G]);return btoa(U)}function Ux($){let U=new Uint8Array($);return CL(U)}function xL($){if(typeof Buffer<"u")return new Uint8Array(Buffer.from($,"base64"));let U=atob($),X=U.length,G=new Uint8Array(X);for(let J=0;J<X;J++)G[J]=U.charCodeAt(J);return G}function Jx($){return xL($).buffer}function z5($){return JSON.stringify($,(U,X)=>{if(typeof X==="bigint")return["$BigInt",X.toString()];else if(X instanceof ArrayBuffer)return["$ArrayBuffer",Ux(X)];else if(X instanceof Uint8Array)return["$Uint8Array",CL(X)];if(Array.isArray(X)&&X.length===2&&typeof X[0]==="string"&&X[0].startsWith("$"))return["$"+X[0],X[1]];return X})}function SL($){return JSON.parse($,(U,X)=>{if(Array.isArray(X)&&X.length===2&&typeof X[0]==="string"&&X[0].startsWith("$")){if(X[0]==="$BigInt")return BigInt(X[1]);else if(X[0]==="$ArrayBuffer")return Jx(X[1]);else if(X[0]==="$Uint8Array")return xL(X[1]);if(X[0].startsWith("$$"))return[X[0].substring(1),X[1]];throw Error(`Unknown JSON encoding type: ${X[0]}. This may indicate corrupted data or a version mismatch.`)}return X})}function D5($){if(typeof Buffer<"u")return Buffer.from($).toString("base64");let U="",X=$.byteLength;for(let G=0;G<X;G++)U+=String.fromCharCode($[G]);return btoa(U)}function BG($){if($==="json")return"application/json";else if($==="cbor"||$==="bare")return"application/octet-stream";else A4($)}function B0($,U,X,G,J,Y){if($==="json"){let Q=J(U),w=G.parse(Q);return z5(w)}else if($==="cbor"){let Q=J(U),w=G.parse(Q);return E$(w)}else if($==="bare"){if(!X)throw Error("VersionedDataHandler is required for 'bare' encoding");let Q=Y(U);return X.serializeWithEmbeddedVersion(Q)}else A4($)}function _0($,U,X,G,J,Y){if($==="json"){let Q;if(typeof U==="string")Q=SL(U);else{let j=new TextDecoder("utf-8").decode(U);Q=SL(j)}let w=G.parse(Q);return J(w)}else if($==="cbor"){w5.default(typeof U!=="string","buffer cannot be string for cbor encoding");let Q=T$(U),w=G.parse(Q);return J(w)}else if($==="bare"){if(w5.default(typeof U!=="string","buffer cannot be string for bare encoding"),!X)throw Error("VersionedDataHandler is required for 'bare' encoding");let Q=X.deserializeWithEmbeddedVersion(U);return Y(Q)}else A4($)}var lH={};H6(lH,{xid:()=>Xh,void:()=>vh,uuidv7:()=>tf,uuidv6:()=>rf,uuidv4:()=>of,uuid:()=>df,url:()=>af,uppercase:()=>F8,unknown:()=>jY,union:()=>VY,undefined:()=>Ah,ulid:()=>Jh,uint64:()=>Fh,uint32:()=>Bh,tuple:()=>Th,trim:()=>E8,treeifyError:()=>Z5,transform:()=>gH,toUpperCase:()=>Z8,toLowerCase:()=>S8,toJSONSchema:()=>XH,templateLiteral:()=>uh,symbol:()=>Lh,superRefine:()=>rA,success:()=>bh,stringbool:()=>ih,stringFormat:()=>Oh,string:()=>KH,strictObject:()=>Zh,startsWith:()=>A8,size:()=>B8,setErrorMap:()=>oh,set:()=>xh,safeParseAsync:()=>WH,safeParse:()=>HH,registry:()=>xG,regexes:()=>A0,regex:()=>_8,refine:()=>oA,record:()=>vA,readonly:()=>lA,property:()=>oj,promise:()=>yh,prettifyError:()=>I5,preprocess:()=>ph,prefault:()=>fA,positive:()=>ij,pipe:()=>KY,partialRecord:()=>kh,parseAsync:()=>jH,parse:()=>NH,overwrite:()=>W1,optional:()=>HY,object:()=>Sh,number:()=>jA,nullish:()=>gh,nullable:()=>WY,null:()=>zA,normalize:()=>P8,nonpositive:()=>pj,nonoptional:()=>hA,nonnegative:()=>dj,never:()=>OY,negative:()=>nj,nativeEnum:()=>fh,nanoid:()=>ef,nan:()=>mh,multipleOf:()=>P0,minSize:()=>E0,minLength:()=>C1,mime:()=>v8,maxSize:()=>IU,maxLength:()=>RU,map:()=>Ch,lte:()=>X4,lt:()=>j1,lowercase:()=>M8,looseObject:()=>Ih,locales:()=>z8,literal:()=>IA,length:()=>TU,lazy:()=>nA,ksuid:()=>Gh,keyof:()=>Eh,jwt:()=>Kh,json:()=>nh,iso:()=>wY,ipv6:()=>Qh,ipv4:()=>Yh,intersection:()=>AA,int64:()=>Mh,int32:()=>Vh,int:()=>OH,instanceof:()=>ch,includes:()=>L8,guid:()=>pf,gte:()=>h6,gt:()=>H1,globalRegistry:()=>i4,getErrorMap:()=>rh,function:()=>JH,formatError:()=>N8,float64:()=>Dh,float32:()=>zh,flattenError:()=>w8,file:()=>hh,enum:()=>SA,endsWith:()=>q8,emoji:()=>sf,email:()=>nf,e164:()=>Wh,discriminatedUnion:()=>Rh,date:()=>Ph,custom:()=>lh,cuid2:()=>Uh,cuid:()=>$h,core:()=>K1,config:()=>G6,coerce:()=>yH,clone:()=>l6,cidrv6:()=>Nh,cidrv4:()=>wh,check:()=>dA,catch:()=>mA,boolean:()=>HA,bigint:()=>_h,base64url:()=>Hh,base64:()=>jh,array:()=>CH,any:()=>qh,_default:()=>CA,_ZodString:()=>zH,ZodXID:()=>AH,ZodVoid:()=>_A,ZodUnknown:()=>VA,ZodUnion:()=>xH,ZodUndefined:()=>KA,ZodUUID:()=>O1,ZodURL:()=>VH,ZodULID:()=>LH,ZodType:()=>W$,ZodTuple:()=>qA,ZodTransform:()=>hH,ZodTemplateLiteral:()=>cA,ZodSymbol:()=>WA,ZodSuccess:()=>gA,ZodStringFormat:()=>m$,ZodString:()=>T8,ZodSet:()=>EA,ZodRecord:()=>fH,ZodRealError:()=>kU,ZodReadonly:()=>yA,ZodPromise:()=>pA,ZodPrefault:()=>xA,ZodPipe:()=>uH,ZodOptional:()=>bH,ZodObject:()=>DY,ZodNumberFormat:()=>CU,ZodNumber:()=>k8,ZodNullable:()=>TA,ZodNull:()=>OA,ZodNonOptional:()=>mH,ZodNever:()=>BA,ZodNanoID:()=>_H,ZodNaN:()=>uA,ZodMap:()=>PA,ZodLiteral:()=>ZA,ZodLazy:()=>iA,ZodKSUID:()=>qH,ZodJWT:()=>TH,ZodIssueCode:()=>dh,ZodIntersection:()=>LA,ZodISOTime:()=>YY,ZodISODuration:()=>QY,ZodISODateTime:()=>XY,ZodISODate:()=>GY,ZodIPv6:()=>PH,ZodIPv4:()=>vH,ZodGUID:()=>NY,ZodFile:()=>RA,ZodError:()=>lf,ZodEnum:()=>R8,ZodEmoji:()=>BH,ZodEmail:()=>DH,ZodE164:()=>RH,ZodDiscriminatedUnion:()=>FA,ZodDefault:()=>kA,ZodDate:()=>zY,ZodCustomStringFormat:()=>NA,ZodCustom:()=>BY,ZodCatch:()=>bA,ZodCUID2:()=>FH,ZodCUID:()=>MH,ZodCIDRv6:()=>SH,ZodCIDRv4:()=>EH,ZodBoolean:()=>C8,ZodBigIntFormat:()=>kH,ZodBigInt:()=>x8,ZodBase64URL:()=>IH,ZodBase64:()=>ZH,ZodArray:()=>MA,ZodAny:()=>DA,TimePrecision:()=>Bj,NEVER:()=>V5,$output:()=>Oj,$input:()=>zj,$brand:()=>B5});var K1={};H6(K1,{version:()=>Pw,util:()=>d,treeifyError:()=>Z5,toJSONSchema:()=>XH,toDotPath:()=>gL,safeParseAsync:()=>T5,safeParse:()=>R5,registry:()=>xG,regexes:()=>A0,prettifyError:()=>I5,parseAsync:()=>AG,parse:()=>FG,locales:()=>z8,isValidJWT:()=>UA,isValidBase64URL:()=>$A,isValidBase64:()=>pw,globalRegistry:()=>i4,globalConfig:()=>s2,function:()=>JH,formatError:()=>N8,flattenError:()=>w8,config:()=>G6,clone:()=>l6,_xid:()=>pG,_void:()=>uj,_uuidv7:()=>mG,_uuidv6:()=>bG,_uuidv4:()=>gG,_uuid:()=>hG,_url:()=>uG,_uppercase:()=>F8,_unknown:()=>ZU,_union:()=>Ff,_undefined:()=>hj,_ulid:()=>nG,_uint64:()=>xj,_uint32:()=>Zj,_tuple:()=>rj,_trim:()=>E8,_transform:()=>If,_toUpperCase:()=>Z8,_toLowerCase:()=>S8,_templateLiteral:()=>bf,_symbol:()=>fj,_success:()=>xf,_stringbool:()=>ej,_stringFormat:()=>$H,_string:()=>Dj,_startsWith:()=>A8,_size:()=>B8,_set:()=>Pf,_safeParseAsync:()=>vG,_safeParse:()=>qG,_regex:()=>_8,_refine:()=>sj,_record:()=>qf,_readonly:()=>gf,_property:()=>oj,_promise:()=>uf,_positive:()=>ij,_pipe:()=>hf,_parseAsync:()=>LG,_parse:()=>MG,_overwrite:()=>W1,_optional:()=>Rf,_number:()=>Aj,_nullable:()=>Tf,_null:()=>gj,_normalize:()=>P8,_nonpositive:()=>pj,_nonoptional:()=>Cf,_nonnegative:()=>dj,_never:()=>mj,_negative:()=>nj,_nativeEnum:()=>Sf,_nanoid:()=>lG,_nan:()=>cj,_multipleOf:()=>P0,_minSize:()=>E0,_minLength:()=>C1,_min:()=>h6,_mime:()=>v8,_maxSize:()=>IU,_maxLength:()=>RU,_max:()=>X4,_map:()=>vf,_lte:()=>X4,_lt:()=>j1,_lowercase:()=>M8,_literal:()=>Zf,_length:()=>TU,_lazy:()=>mf,_ksuid:()=>dG,_jwt:()=>UY,_isoTime:()=>Fj,_isoDuration:()=>Lj,_isoDateTime:()=>_j,_isoDate:()=>Mj,_ipv6:()=>rG,_ipv4:()=>oG,_intersection:()=>Af,_int64:()=>Cj,_int32:()=>Sj,_int:()=>vj,_includes:()=>L8,_guid:()=>V8,_gte:()=>h6,_gt:()=>H1,_float64:()=>Ej,_float32:()=>Pj,_file:()=>tj,_enum:()=>Ef,_endsWith:()=>q8,_emoji:()=>yG,_email:()=>fG,_e164:()=>$Y,_discriminatedUnion:()=>Lf,_default:()=>kf,_date:()=>yj,_custom:()=>aj,_cuid2:()=>iG,_cuid:()=>cG,_coercedString:()=>Vj,_coercedNumber:()=>qj,_coercedDate:()=>lj,_coercedBoolean:()=>Rj,_coercedBigint:()=>kj,_cidrv6:()=>aG,_cidrv4:()=>tG,_catch:()=>ff,_boolean:()=>Ij,_bigint:()=>Tj,_base64url:()=>eG,_base64:()=>sG,_array:()=>I8,_any:()=>bj,TimePrecision:()=>Bj,NEVER:()=>V5,JSONSchemaGenerator:()=>JY,JSONSchema:()=>YA,Doc:()=>ZG,$output:()=>Oj,$input:()=>zj,$constructor:()=>q,$brand:()=>B5,$ZodXID:()=>hw,$ZodVoid:()=>YN,$ZodUnknown:()=>SU,$ZodUnion:()=>CG,$ZodUndefined:()=>UN,$ZodUUID:()=>Zw,$ZodURL:()=>Rw,$ZodULID:()=>fw,$ZodType:()=>G$,$ZodTuple:()=>v0,$ZodTransform:()=>W8,$ZodTemplateLiteral:()=>PN,$ZodSymbol:()=>$N,$ZodSuccess:()=>LN,$ZodStringFormat:()=>f$,$ZodString:()=>q0,$ZodSet:()=>KN,$ZodRegistry:()=>D8,$ZodRecord:()=>HN,$ZodRealError:()=>PU,$ZodReadonly:()=>vN,$ZodPromise:()=>EN,$ZodPrefault:()=>MN,$ZodPipe:()=>K8,$ZodOptional:()=>VN,$ZodObject:()=>wN,$ZodNumberFormat:()=>sw,$ZodNumber:()=>TG,$ZodNullable:()=>BN,$ZodNull:()=>JN,$ZodNonOptional:()=>FN,$ZodNever:()=>GN,$ZodNanoID:()=>kw,$ZodNaN:()=>qN,$ZodMap:()=>WN,$ZodLiteral:()=>zN,$ZodLazy:()=>SN,$ZodKSUID:()=>gw,$ZodJWT:()=>tw,$ZodIntersection:()=>jN,$ZodISOTime:()=>uw,$ZodISODuration:()=>yw,$ZodISODateTime:()=>bw,$ZodISODate:()=>mw,$ZodIPv6:()=>cw,$ZodIPv4:()=>lw,$ZodGUID:()=>Sw,$ZodFunction:()=>UH,$ZodFile:()=>DN,$ZodError:()=>Q8,$ZodEnum:()=>ON,$ZodEmoji:()=>Tw,$ZodEmail:()=>Iw,$ZodE164:()=>rw,$ZodDiscriminatedUnion:()=>NN,$ZodDefault:()=>_N,$ZodDate:()=>QN,$ZodCustomStringFormat:()=>aw,$ZodCustom:()=>ZN,$ZodCheckUpperCase:()=>_w,$ZodCheckStringFormat:()=>EU,$ZodCheckStartsWith:()=>Fw,$ZodCheckSizeEquals:()=>Kw,$ZodCheckRegex:()=>Vw,$ZodCheckProperty:()=>Aw,$ZodCheckOverwrite:()=>vw,$ZodCheckNumberFormat:()=>Nw,$ZodCheckMultipleOf:()=>ww,$ZodCheckMinSize:()=>Ww,$ZodCheckMinLength:()=>zw,$ZodCheckMimeType:()=>qw,$ZodCheckMaxSize:()=>Hw,$ZodCheckMaxLength:()=>Ow,$ZodCheckLowerCase:()=>Bw,$ZodCheckLessThan:()=>EG,$ZodCheckLengthEquals:()=>Dw,$ZodCheckIncludes:()=>Mw,$ZodCheckGreaterThan:()=>SG,$ZodCheckEndsWith:()=>Lw,$ZodCheckBigIntFormat:()=>jw,$ZodCheck:()=>o$,$ZodCatch:()=>AN,$ZodCUID2:()=>xw,$ZodCUID:()=>Cw,$ZodCIDRv6:()=>nw,$ZodCIDRv4:()=>iw,$ZodBoolean:()=>j8,$ZodBigIntFormat:()=>ew,$ZodBigInt:()=>kG,$ZodBase64URL:()=>ow,$ZodBase64:()=>dw,$ZodAsyncError:()=>w1,$ZodArray:()=>H8,$ZodAny:()=>XN});var V5=Object.freeze({status:"aborted"});function q($,U,X){function G(w,N){var j;Object.defineProperty(w,"_zod",{value:w._zod??{},enumerable:!1}),(j=w._zod).traits??(j.traits=new Set),w._zod.traits.add($),U(w,N);for(let H in Q.prototype)if(!(H in w))Object.defineProperty(w,H,{value:Q.prototype[H].bind(w)});w._zod.constr=Q,w._zod.def=N}let J=X?.Parent??Object;class Y extends J{}Object.defineProperty(Y,"name",{value:$});function Q(w){var N;let j=X?.Parent?new Y:this;G(j,w),(N=j._zod).deferred??(N.deferred=[]);for(let H of j._zod.deferred)H();return j}return Object.defineProperty(Q,"init",{value:G}),Object.defineProperty(Q,Symbol.hasInstance,{value:(w)=>{if(X?.Parent&&w instanceof X.Parent)return!0;return w?._zod?.traits?.has($)}}),Object.defineProperty(Q,"name",{value:$}),Q}var B5=Symbol("zod_brand");class w1 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}var s2={};function G6($){if($)Object.assign(s2,$);return s2}var d={};H6(d,{unwrapMessage:()=>e2,stringifyPrimitive:()=>p,required:()=>Mx,randomString:()=>Hx,propertyKeyTypes:()=>X8,promiseAllObject:()=>jx,primitiveTypes:()=>q5,prefixIssues:()=>f6,pick:()=>zx,partial:()=>_x,optionalKeys:()=>v5,omit:()=>Dx,numKeys:()=>Wx,nullish:()=>k1,normalizeParams:()=>c,merge:()=>Bx,jsonStringifyReplacer:()=>M5,joinValues:()=>T,issue:()=>S5,isPlainObject:()=>vU,isObject:()=>qU,getSizableOrigin:()=>G8,getParsedType:()=>Kx,getLengthableOrigin:()=>Y8,getEnumValues:()=>$8,getElementAtPath:()=>Nx,floatSafeRemainder:()=>F5,finalizeIssue:()=>c6,extend:()=>Vx,escapeRegex:()=>N1,esc:()=>M0,defineLazy:()=>I$,createTransparentProxy:()=>Ox,clone:()=>l6,cleanRegex:()=>J8,cleanEnum:()=>Fx,captureStackTrace:()=>_G,cached:()=>U8,assignProp:()=>L5,assertNotEqual:()=>Gx,assertNever:()=>Qx,assertIs:()=>Yx,assertEqual:()=>Xx,assert:()=>wx,allowsEval:()=>A5,aborted:()=>F0,NUMBER_FORMAT_RANGES:()=>P5,Class:()=>fL,BIGINT_FORMAT_RANGES:()=>E5});function Xx($){return $}function Gx($){return $}function Yx($){}function Qx($){throw Error()}function wx($){}function $8($){let U=Object.values($).filter((G)=>typeof G==="number");return Object.entries($).filter(([G,J])=>U.indexOf(+G)===-1).map(([G,J])=>J)}function T($,U="|"){return $.map((X)=>p(X)).join(U)}function M5($,U){if(typeof U==="bigint")return U.toString();return U}function U8($){return{get value(){{let X=$();return Object.defineProperty(this,"value",{value:X}),X}throw Error("cached value already set")}}}function k1($){return $===null||$===void 0}function J8($){let U=$.startsWith("^")?1:0,X=$.endsWith("$")?$.length-1:$.length;return $.slice(U,X)}function F5($,U){let X=($.toString().split(".")[1]||"").length,G=(U.toString().split(".")[1]||"").length,J=X>G?X:G,Y=Number.parseInt($.toFixed(J).replace(".","")),Q=Number.parseInt(U.toFixed(J).replace(".",""));return Y%Q/10**J}function I$($,U,X){Object.defineProperty($,U,{get(){{let J=X();return $[U]=J,J}throw Error("cached value already set")},set(J){Object.defineProperty($,U,{value:J})},configurable:!0})}function L5($,U,X){Object.defineProperty($,U,{value:X,writable:!0,enumerable:!0,configurable:!0})}function Nx($,U){if(!U)return $;return U.reduce((X,G)=>X?.[G],$)}function jx($){let U=Object.keys($),X=U.map((G)=>$[G]);return Promise.all(X).then((G)=>{let J={};for(let Y=0;Y<U.length;Y++)J[U[Y]]=G[Y];return J})}function Hx($=10){let X="";for(let G=0;G<$;G++)X+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return X}function M0($){return JSON.stringify($)}var _G=Error.captureStackTrace?Error.captureStackTrace:(...$)=>{};function qU($){return typeof $==="object"&&$!==null&&!Array.isArray($)}var A5=U8(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch($){return!1}});function vU($){if(qU($)===!1)return!1;let U=$.constructor;if(U===void 0)return!0;let X=U.prototype;if(qU(X)===!1)return!1;if(Object.prototype.hasOwnProperty.call(X,"isPrototypeOf")===!1)return!1;return!0}function Wx($){let U=0;for(let X in $)if(Object.prototype.hasOwnProperty.call($,X))U++;return U}var Kx=($)=>{let U=typeof $;switch(U){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN($)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray($))return"array";if($===null)return"null";if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return"promise";if(typeof Map<"u"&&$ instanceof Map)return"map";if(typeof Set<"u"&&$ instanceof Set)return"set";if(typeof Date<"u"&&$ instanceof Date)return"date";if(typeof File<"u"&&$ instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${U}`)}},X8=new Set(["string","number","symbol"]),q5=new Set(["string","number","bigint","boolean","symbol","undefined"]);function N1($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l6($,U,X){let G=new $._zod.constr(U??$._zod.def);if(!U||X?.parent)G._zod.parent=$;return G}function c($){let U=$;if(!U)return{};if(typeof U==="string")return{error:()=>U};if(U?.message!==void 0){if(U?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");U.error=U.message}if(delete U.message,typeof U.error==="string")return{...U,error:()=>U.error};return U}function Ox($){let U;return new Proxy({},{get(X,G,J){return U??(U=$()),Reflect.get(U,G,J)},set(X,G,J,Y){return U??(U=$()),Reflect.set(U,G,J,Y)},has(X,G){return U??(U=$()),Reflect.has(U,G)},deleteProperty(X,G){return U??(U=$()),Reflect.deleteProperty(U,G)},ownKeys(X){return U??(U=$()),Reflect.ownKeys(U)},getOwnPropertyDescriptor(X,G){return U??(U=$()),Reflect.getOwnPropertyDescriptor(U,G)},defineProperty(X,G,J){return U??(U=$()),Reflect.defineProperty(U,G,J)}})}function p($){if(typeof $==="bigint")return $.toString()+"n";if(typeof $==="string")return`"${$}"`;return`${$}`}function v5($){return Object.keys($).filter((U)=>{return $[U]._zod.optin==="optional"&&$[U]._zod.optout==="optional"})}var P5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},E5={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function zx($,U){let X={},G=$._zod.def;for(let J in U){if(!(J in G.shape))throw Error(`Unrecognized key: "${J}"`);if(!U[J])continue;X[J]=G.shape[J]}return l6($,{...$._zod.def,shape:X,checks:[]})}function Dx($,U){let X={...$._zod.def.shape},G=$._zod.def;for(let J in U){if(!(J in G.shape))throw Error(`Unrecognized key: "${J}"`);if(!U[J])continue;delete X[J]}return l6($,{...$._zod.def,shape:X,checks:[]})}function Vx($,U){if(!vU(U))throw Error("Invalid input to extend: expected a plain object");let X={...$._zod.def,get shape(){let G={...$._zod.def.shape,...U};return L5(this,"shape",G),G},checks:[]};return l6($,X)}function Bx($,U){return l6($,{...$._zod.def,get shape(){let X={...$._zod.def.shape,...U._zod.def.shape};return L5(this,"shape",X),X},catchall:U._zod.def.catchall,checks:[]})}function _x($,U,X){let G=U._zod.def.shape,J={...G};if(X)for(let Y in X){if(!(Y in G))throw Error(`Unrecognized key: "${Y}"`);if(!X[Y])continue;J[Y]=$?new $({type:"optional",innerType:G[Y]}):G[Y]}else for(let Y in G)J[Y]=$?new $({type:"optional",innerType:G[Y]}):G[Y];return l6(U,{...U._zod.def,shape:J,checks:[]})}function Mx($,U,X){let G=U._zod.def.shape,J={...G};if(X)for(let Y in X){if(!(Y in J))throw Error(`Unrecognized key: "${Y}"`);if(!X[Y])continue;J[Y]=new $({type:"nonoptional",innerType:G[Y]})}else for(let Y in G)J[Y]=new $({type:"nonoptional",innerType:G[Y]});return l6(U,{...U._zod.def,shape:J,checks:[]})}function F0($,U=0){for(let X=U;X<$.issues.length;X++)if($.issues[X]?.continue!==!0)return!0;return!1}function f6($,U){return U.map((X)=>{var G;return(G=X).path??(G.path=[]),X.path.unshift($),X})}function e2($){return typeof $==="string"?$:$?.message}function c6($,U,X){let G={...$,path:$.path??[]};if(!$.message){let J=e2($.inst?._zod.def?.error?.($))??e2(U?.error?.($))??e2(X.customError?.($))??e2(X.localeError?.($))??"Invalid input";G.message=J}if(delete G.inst,delete G.continue,!U?.reportInput)delete G.input;return G}function G8($){if($ instanceof Set)return"set";if($ instanceof Map)return"map";if($ instanceof File)return"file";return"unknown"}function Y8($){if(Array.isArray($))return"array";if(typeof $==="string")return"string";return"unknown"}function S5(...$){let[U,X,G]=$;if(typeof U==="string")return{message:U,code:"custom",input:X,inst:G};return{...U}}function Fx($){return Object.entries($).filter(([U,X])=>{return Number.isNaN(Number.parseInt(U,10))}).map((U)=>U[1])}class fL{constructor(...$){}}var hL=($,U)=>{$.name="$ZodError",Object.defineProperty($,"_zod",{value:$._zod,enumerable:!1}),Object.defineProperty($,"issues",{value:U,enumerable:!1}),Object.defineProperty($,"message",{get(){return JSON.stringify(U,M5,2)},enumerable:!0}),Object.defineProperty($,"toString",{value:()=>$.message,enumerable:!1})},Q8=q("$ZodError",hL),PU=q("$ZodError",hL,{Parent:Error});function w8($,U=(X)=>X.message){let X={},G=[];for(let J of $.issues)if(J.path.length>0)X[J.path[0]]=X[J.path[0]]||[],X[J.path[0]].push(U(J));else G.push(U(J));return{formErrors:G,fieldErrors:X}}function N8($,U){let X=U||function(Y){return Y.message},G={_errors:[]},J=(Y)=>{for(let Q of Y.issues)if(Q.code==="invalid_union"&&Q.errors.length)Q.errors.map((w)=>J({issues:w}));else if(Q.code==="invalid_key")J({issues:Q.issues});else if(Q.code==="invalid_element")J({issues:Q.issues});else if(Q.path.length===0)G._errors.push(X(Q));else{let w=G,N=0;while(N<Q.path.length){let j=Q.path[N];if(N!==Q.path.length-1)w[j]=w[j]||{_errors:[]};else w[j]=w[j]||{_errors:[]},w[j]._errors.push(X(Q));w=w[j],N++}}};return J($),G}function Z5($,U){let X=U||function(Y){return Y.message},G={errors:[]},J=(Y,Q=[])=>{var w,N;for(let j of Y.issues)if(j.code==="invalid_union"&&j.errors.length)j.errors.map((H)=>J({issues:H},j.path));else if(j.code==="invalid_key")J({issues:j.issues},j.path);else if(j.code==="invalid_element")J({issues:j.issues},j.path);else{let H=[...Q,...j.path];if(H.length===0){G.errors.push(X(j));continue}let K=G,z=0;while(z<H.length){let W=H[z],O=z===H.length-1;if(typeof W==="string")K.properties??(K.properties={}),(w=K.properties)[W]??(w[W]={errors:[]}),K=K.properties[W];else K.items??(K.items=[]),(N=K.items)[W]??(N[W]={errors:[]}),K=K.items[W];if(O)K.errors.push(X(j));z++}}};return J($),G}function gL($){let U=[];for(let X of $)if(typeof X==="number")U.push(`[${X}]`);else if(typeof X==="symbol")U.push(`[${JSON.stringify(String(X))}]`);else if(/[^\w$]/.test(X))U.push(`[${JSON.stringify(X)}]`);else{if(U.length)U.push(".");U.push(X)}return U.join("")}function I5($){let U=[],X=[...$.issues].sort((G,J)=>G.path.length-J.path.length);for(let G of X)if(U.push(`\u2716 ${G.message}`),G.path?.length)U.push(`  \u2192 at ${gL(G.path)}`);return U.join(`
`)}var MG=($)=>(U,X,G,J)=>{let Y=G?Object.assign(G,{async:!1}):{async:!1},Q=U._zod.run({value:X,issues:[]},Y);if(Q instanceof Promise)throw new w1;if(Q.issues.length){let w=new(J?.Err??$)(Q.issues.map((N)=>c6(N,Y,G6())));throw _G(w,J?.callee),w}return Q.value},FG=MG(PU),LG=($)=>async(U,X,G,J)=>{let Y=G?Object.assign(G,{async:!0}):{async:!0},Q=U._zod.run({value:X,issues:[]},Y);if(Q instanceof Promise)Q=await Q;if(Q.issues.length){let w=new(J?.Err??$)(Q.issues.map((N)=>c6(N,Y,G6())));throw _G(w,J?.callee),w}return Q.value},AG=LG(PU),qG=($)=>(U,X,G)=>{let J=G?{...G,async:!1}:{async:!1},Y=U._zod.run({value:X,issues:[]},J);if(Y instanceof Promise)throw new w1;return Y.issues.length?{success:!1,error:new($??Q8)(Y.issues.map((Q)=>c6(Q,J,G6())))}:{success:!0,data:Y.value}},R5=qG(PU),vG=($)=>async(U,X,G)=>{let J=G?Object.assign(G,{async:!0}):{async:!0},Y=U._zod.run({value:X,issues:[]},J);if(Y instanceof Promise)Y=await Y;return Y.issues.length?{success:!1,error:new $(Y.issues.map((Q)=>c6(Q,J,G6())))}:{success:!0,data:Y.value}},T5=vG(PU);var A0={};H6(A0,{xid:()=>f5,uuid7:()=>Px,uuid6:()=>vx,uuid4:()=>qx,uuid:()=>L0,uppercase:()=>Qw,unicodeEmail:()=>Zx,undefined:()=>Gw,ulid:()=>x5,time:()=>t5,string:()=>s5,rfc5322Email:()=>Sx,number:()=>Uw,null:()=>Xw,nanoid:()=>g5,lowercase:()=>Yw,ksuid:()=>h5,ipv6:()=>c5,ipv4:()=>l5,integer:()=>$w,html5Email:()=>Ex,hostname:()=>d5,guid:()=>m5,extendedDuration:()=>Ax,emoji:()=>y5,email:()=>u5,e164:()=>o5,duration:()=>b5,domain:()=>Tx,datetime:()=>a5,date:()=>r5,cuid2:()=>C5,cuid:()=>k5,cidrv6:()=>n5,cidrv4:()=>i5,browserEmail:()=>Ix,boolean:()=>Jw,bigint:()=>e5,base64url:()=>PG,base64:()=>p5,_emoji:()=>Rx});var k5=/^[cC][^\s-]{8,}$/,C5=/^[0-9a-z]+$/,x5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,f5=/^[0-9a-vA-V]{20}$/,h5=/^[A-Za-z0-9]{27}$/,g5=/^[a-zA-Z0-9_-]{21}$/,b5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ax=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,m5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,L0=($)=>{if(!$)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${$}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},qx=L0(4),vx=L0(6),Px=L0(7),u5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ex=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sx=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Zx=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Ix=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function y5(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}var l5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,c5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,i5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,n5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,p5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,PG=/^[A-Za-z0-9_-]*$/,d5=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Tx=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,o5=/^\+(?:[0-9]){6,14}[0-9]$/,bL="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",r5=new RegExp(`^${bL}$`);function mL($){return typeof $.precision==="number"?$.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":$.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${$.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function t5($){return new RegExp(`^${mL($)}$`)}function a5($){let U=mL({precision:$.precision}),X=["Z"];if($.local)X.push("");if($.offset)X.push("([+-]\\d{2}:\\d{2})");let G=`${U}(?:${X.join("|")})`;return new RegExp(`^${bL}T(?:${G})$`)}var s5=($)=>{let U=$?`[\\s\\S]{${$?.minimum??0},${$?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${U}$`)},e5=/^\d+n?$/,$w=/^\d+$/,Uw=/^-?\d+(?:\.\d+)?/i,Jw=/true|false/i,Xw=/null/i;var Gw=/undefined/i;var Yw=/^[^A-Z]*$/,Qw=/^[^a-z]*$/;var o$=q("$ZodCheck",($,U)=>{var X;$._zod??($._zod={}),$._zod.def=U,(X=$._zod).onattach??(X.onattach=[])}),yL={number:"number",bigint:"bigint",object:"date"},EG=q("$ZodCheckLessThan",($,U)=>{o$.init($,U);let X=yL[typeof U.value];$._zod.onattach.push((G)=>{let J=G._zod.bag,Y=(U.inclusive?J.maximum:J.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(U.value<Y)if(U.inclusive)J.maximum=U.value;else J.exclusiveMaximum=U.value}),$._zod.check=(G)=>{if(U.inclusive?G.value<=U.value:G.value<U.value)return;G.issues.push({origin:X,code:"too_big",maximum:U.value,input:G.value,inclusive:U.inclusive,inst:$,continue:!U.abort})}}),SG=q("$ZodCheckGreaterThan",($,U)=>{o$.init($,U);let X=yL[typeof U.value];$._zod.onattach.push((G)=>{let J=G._zod.bag,Y=(U.inclusive?J.minimum:J.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(U.value>Y)if(U.inclusive)J.minimum=U.value;else J.exclusiveMinimum=U.value}),$._zod.check=(G)=>{if(U.inclusive?G.value>=U.value:G.value>U.value)return;G.issues.push({origin:X,code:"too_small",minimum:U.value,input:G.value,inclusive:U.inclusive,inst:$,continue:!U.abort})}}),ww=q("$ZodCheckMultipleOf",($,U)=>{o$.init($,U),$._zod.onattach.push((X)=>{var G;(G=X._zod.bag).multipleOf??(G.multipleOf=U.value)}),$._zod.check=(X)=>{if(typeof X.value!==typeof U.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof X.value==="bigint"?X.value%U.value===BigInt(0):F5(X.value,U.value)===0)return;X.issues.push({origin:typeof X.value,code:"not_multiple_of",divisor:U.value,input:X.value,inst:$,continue:!U.abort})}}),Nw=q("$ZodCheckNumberFormat",($,U)=>{o$.init($,U),U.format=U.format||"float64";let X=U.format?.includes("int"),G=X?"int":"number",[J,Y]=P5[U.format];$._zod.onattach.push((Q)=>{let w=Q._zod.bag;if(w.format=U.format,w.minimum=J,w.maximum=Y,X)w.pattern=$w}),$._zod.check=(Q)=>{let w=Q.value;if(X){if(!Number.isInteger(w)){Q.issues.push({expected:G,format:U.format,code:"invalid_type",input:w,inst:$});return}if(!Number.isSafeInteger(w)){if(w>0)Q.issues.push({input:w,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:G,continue:!U.abort});else Q.issues.push({input:w,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:G,continue:!U.abort});return}}if(w<J)Q.issues.push({origin:"number",input:w,code:"too_small",minimum:J,inclusive:!0,inst:$,continue:!U.abort});if(w>Y)Q.issues.push({origin:"number",input:w,code:"too_big",maximum:Y,inst:$})}}),jw=q("$ZodCheckBigIntFormat",($,U)=>{o$.init($,U);let[X,G]=E5[U.format];$._zod.onattach.push((J)=>{let Y=J._zod.bag;Y.format=U.format,Y.minimum=X,Y.maximum=G}),$._zod.check=(J)=>{let Y=J.value;if(Y<X)J.issues.push({origin:"bigint",input:Y,code:"too_small",minimum:X,inclusive:!0,inst:$,continue:!U.abort});if(Y>G)J.issues.push({origin:"bigint",input:Y,code:"too_big",maximum:G,inst:$})}}),Hw=q("$ZodCheckMaxSize",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.maximum??Number.POSITIVE_INFINITY;if(U.maximum<J)G._zod.bag.maximum=U.maximum}),$._zod.check=(G)=>{let J=G.value;if(J.size<=U.maximum)return;G.issues.push({origin:G8(J),code:"too_big",maximum:U.maximum,input:J,inst:$,continue:!U.abort})}}),Ww=q("$ZodCheckMinSize",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(U.minimum>J)G._zod.bag.minimum=U.minimum}),$._zod.check=(G)=>{let J=G.value;if(J.size>=U.minimum)return;G.issues.push({origin:G8(J),code:"too_small",minimum:U.minimum,input:J,inst:$,continue:!U.abort})}}),Kw=q("$ZodCheckSizeEquals",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.minimum=U.size,J.maximum=U.size,J.size=U.size}),$._zod.check=(G)=>{let J=G.value,Y=J.size;if(Y===U.size)return;let Q=Y>U.size;G.issues.push({origin:G8(J),...Q?{code:"too_big",maximum:U.size}:{code:"too_small",minimum:U.size},inclusive:!0,exact:!0,input:G.value,inst:$,continue:!U.abort})}}),Ow=q("$ZodCheckMaxLength",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.maximum??Number.POSITIVE_INFINITY;if(U.maximum<J)G._zod.bag.maximum=U.maximum}),$._zod.check=(G)=>{let J=G.value;if(J.length<=U.maximum)return;let Q=Y8(J);G.issues.push({origin:Q,code:"too_big",maximum:U.maximum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),zw=q("$ZodCheckMinLength",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(U.minimum>J)G._zod.bag.minimum=U.minimum}),$._zod.check=(G)=>{let J=G.value;if(J.length>=U.minimum)return;let Q=Y8(J);G.issues.push({origin:Q,code:"too_small",minimum:U.minimum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),Dw=q("$ZodCheckLengthEquals",($,U)=>{var X;o$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!k1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.minimum=U.length,J.maximum=U.length,J.length=U.length}),$._zod.check=(G)=>{let J=G.value,Y=J.length;if(Y===U.length)return;let Q=Y8(J),w=Y>U.length;G.issues.push({origin:Q,...w?{code:"too_big",maximum:U.length}:{code:"too_small",minimum:U.length},inclusive:!0,exact:!0,input:G.value,inst:$,continue:!U.abort})}}),EU=q("$ZodCheckStringFormat",($,U)=>{var X,G;if(o$.init($,U),$._zod.onattach.push((J)=>{let Y=J._zod.bag;if(Y.format=U.format,U.pattern)Y.patterns??(Y.patterns=new Set),Y.patterns.add(U.pattern)}),U.pattern)(X=$._zod).check??(X.check=(J)=>{if(U.pattern.lastIndex=0,U.pattern.test(J.value))return;J.issues.push({origin:"string",code:"invalid_format",format:U.format,input:J.value,...U.pattern?{pattern:U.pattern.toString()}:{},inst:$,continue:!U.abort})});else(G=$._zod).check??(G.check=()=>{})}),Vw=q("$ZodCheckRegex",($,U)=>{EU.init($,U),$._zod.check=(X)=>{if(U.pattern.lastIndex=0,U.pattern.test(X.value))return;X.issues.push({origin:"string",code:"invalid_format",format:"regex",input:X.value,pattern:U.pattern.toString(),inst:$,continue:!U.abort})}}),Bw=q("$ZodCheckLowerCase",($,U)=>{U.pattern??(U.pattern=Yw),EU.init($,U)}),_w=q("$ZodCheckUpperCase",($,U)=>{U.pattern??(U.pattern=Qw),EU.init($,U)}),Mw=q("$ZodCheckIncludes",($,U)=>{o$.init($,U);let X=N1(U.includes),G=new RegExp(typeof U.position==="number"?`^.{${U.position}}${X}`:X);U.pattern=G,$._zod.onattach.push((J)=>{let Y=J._zod.bag;Y.patterns??(Y.patterns=new Set),Y.patterns.add(G)}),$._zod.check=(J)=>{if(J.value.includes(U.includes,U.position))return;J.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:U.includes,input:J.value,inst:$,continue:!U.abort})}}),Fw=q("$ZodCheckStartsWith",($,U)=>{o$.init($,U);let X=new RegExp(`^${N1(U.prefix)}.*`);U.pattern??(U.pattern=X),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(X)}),$._zod.check=(G)=>{if(G.value.startsWith(U.prefix))return;G.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:U.prefix,input:G.value,inst:$,continue:!U.abort})}}),Lw=q("$ZodCheckEndsWith",($,U)=>{o$.init($,U);let X=new RegExp(`.*${N1(U.suffix)}$`);U.pattern??(U.pattern=X),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(X)}),$._zod.check=(G)=>{if(G.value.endsWith(U.suffix))return;G.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:U.suffix,input:G.value,inst:$,continue:!U.abort})}});function uL($,U,X){if($.issues.length)U.issues.push(...f6(X,$.issues))}var Aw=q("$ZodCheckProperty",($,U)=>{o$.init($,U),$._zod.check=(X)=>{let G=U.schema._zod.run({value:X.value[U.property],issues:[]},{});if(G instanceof Promise)return G.then((J)=>uL(J,X,U.property));uL(G,X,U.property);return}}),qw=q("$ZodCheckMimeType",($,U)=>{o$.init($,U);let X=new Set(U.mime);$._zod.onattach.push((G)=>{G._zod.bag.mime=U.mime}),$._zod.check=(G)=>{if(X.has(G.value.type))return;G.issues.push({code:"invalid_value",values:U.mime,input:G.value.type,inst:$})}}),vw=q("$ZodCheckOverwrite",($,U)=>{o$.init($,U),$._zod.check=(X)=>{X.value=U.tx(X.value)}});class ZG{constructor($=[]){if(this.content=[],this.indent=0,this)this.args=$}indented($){this.indent+=1,$(this),this.indent-=1}write($){if(typeof $==="function"){$(this,{execution:"sync"}),$(this,{execution:"async"});return}let X=$.split(`
`).filter((Y)=>Y),G=Math.min(...X.map((Y)=>Y.length-Y.trimStart().length)),J=X.map((Y)=>Y.slice(G)).map((Y)=>" ".repeat(this.indent*2)+Y);for(let Y of J)this.content.push(Y)}compile(){let $=Function,U=this?.args,G=[...(this?.content??[""]).map((J)=>`  ${J}`)];return new $(...U,G.join(`
`))}}var Pw={major:4,minor:0,patch:0};var G$=q("$ZodType",($,U)=>{var X;$??($={}),$._zod.def=U,$._zod.bag=$._zod.bag||{},$._zod.version=Pw;let G=[...$._zod.def.checks??[]];if($._zod.traits.has("$ZodCheck"))G.unshift($);for(let J of G)for(let Y of J._zod.onattach)Y($);if(G.length===0)(X=$._zod).deferred??(X.deferred=[]),$._zod.deferred?.push(()=>{$._zod.run=$._zod.parse});else{let J=(Y,Q,w)=>{let N=F0(Y),j;for(let H of Q){if(H._zod.def.when){if(!H._zod.def.when(Y))continue}else if(N)continue;let K=Y.issues.length,z=H._zod.check(Y);if(z instanceof Promise&&w?.async===!1)throw new w1;if(j||z instanceof Promise)j=(j??Promise.resolve()).then(async()=>{if(await z,Y.issues.length===K)return;if(!N)N=F0(Y,K)});else{if(Y.issues.length===K)continue;if(!N)N=F0(Y,K)}}if(j)return j.then(()=>{return Y});return Y};$._zod.run=(Y,Q)=>{let w=$._zod.parse(Y,Q);if(w instanceof Promise){if(Q.async===!1)throw new w1;return w.then((N)=>J(N,G,Q))}return J(w,G,Q)}}$["~standard"]={validate:(J)=>{try{let Y=R5($,J);return Y.success?{value:Y.data}:{issues:Y.error?.issues}}catch(Y){return T5($,J).then((Q)=>Q.success?{value:Q.data}:{issues:Q.error?.issues})}},vendor:"zod",version:1}}),q0=q("$ZodString",($,U)=>{G$.init($,U),$._zod.pattern=[...$?._zod.bag?.patterns??[]].pop()??s5($._zod.bag),$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=String(X.value)}catch(J){}if(typeof X.value==="string")return X;return X.issues.push({expected:"string",code:"invalid_type",input:X.value,inst:$}),X}}),f$=q("$ZodStringFormat",($,U)=>{EU.init($,U),q0.init($,U)}),Sw=q("$ZodGUID",($,U)=>{U.pattern??(U.pattern=m5),f$.init($,U)}),Zw=q("$ZodUUID",($,U)=>{if(U.version){let G={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[U.version];if(G===void 0)throw Error(`Invalid UUID version: "${U.version}"`);U.pattern??(U.pattern=L0(G))}else U.pattern??(U.pattern=L0());f$.init($,U)}),Iw=q("$ZodEmail",($,U)=>{U.pattern??(U.pattern=u5),f$.init($,U)}),Rw=q("$ZodURL",($,U)=>{f$.init($,U),$._zod.check=(X)=>{try{let G=X.value,J=new URL(G),Y=J.href;if(U.hostname){if(U.hostname.lastIndex=0,!U.hostname.test(J.hostname))X.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:d5.source,input:X.value,inst:$,continue:!U.abort})}if(U.protocol){if(U.protocol.lastIndex=0,!U.protocol.test(J.protocol.endsWith(":")?J.protocol.slice(0,-1):J.protocol))X.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:U.protocol.source,input:X.value,inst:$,continue:!U.abort})}if(!G.endsWith("/")&&Y.endsWith("/"))X.value=Y.slice(0,-1);else X.value=Y;return}catch(G){X.issues.push({code:"invalid_format",format:"url",input:X.value,inst:$,continue:!U.abort})}}}),Tw=q("$ZodEmoji",($,U)=>{U.pattern??(U.pattern=y5()),f$.init($,U)}),kw=q("$ZodNanoID",($,U)=>{U.pattern??(U.pattern=g5),f$.init($,U)}),Cw=q("$ZodCUID",($,U)=>{U.pattern??(U.pattern=k5),f$.init($,U)}),xw=q("$ZodCUID2",($,U)=>{U.pattern??(U.pattern=C5),f$.init($,U)}),fw=q("$ZodULID",($,U)=>{U.pattern??(U.pattern=x5),f$.init($,U)}),hw=q("$ZodXID",($,U)=>{U.pattern??(U.pattern=f5),f$.init($,U)}),gw=q("$ZodKSUID",($,U)=>{U.pattern??(U.pattern=h5),f$.init($,U)}),bw=q("$ZodISODateTime",($,U)=>{U.pattern??(U.pattern=a5(U)),f$.init($,U)}),mw=q("$ZodISODate",($,U)=>{U.pattern??(U.pattern=r5),f$.init($,U)}),uw=q("$ZodISOTime",($,U)=>{U.pattern??(U.pattern=t5(U)),f$.init($,U)}),yw=q("$ZodISODuration",($,U)=>{U.pattern??(U.pattern=b5),f$.init($,U)}),lw=q("$ZodIPv4",($,U)=>{U.pattern??(U.pattern=l5),f$.init($,U),$._zod.onattach.push((X)=>{let G=X._zod.bag;G.format="ipv4"})}),cw=q("$ZodIPv6",($,U)=>{U.pattern??(U.pattern=c5),f$.init($,U),$._zod.onattach.push((X)=>{let G=X._zod.bag;G.format="ipv6"}),$._zod.check=(X)=>{try{new URL(`http://[${X.value}]`)}catch{X.issues.push({code:"invalid_format",format:"ipv6",input:X.value,inst:$,continue:!U.abort})}}}),iw=q("$ZodCIDRv4",($,U)=>{U.pattern??(U.pattern=i5),f$.init($,U)}),nw=q("$ZodCIDRv6",($,U)=>{U.pattern??(U.pattern=n5),f$.init($,U),$._zod.check=(X)=>{let[G,J]=X.value.split("/");try{if(!J)throw Error();let Y=Number(J);if(`${Y}`!==J)throw Error();if(Y<0||Y>128)throw Error();new URL(`http://[${G}]`)}catch{X.issues.push({code:"invalid_format",format:"cidrv6",input:X.value,inst:$,continue:!U.abort})}}});function pw($){if($==="")return!0;if($.length%4!==0)return!1;try{return atob($),!0}catch{return!1}}var dw=q("$ZodBase64",($,U)=>{U.pattern??(U.pattern=p5),f$.init($,U),$._zod.onattach.push((X)=>{X._zod.bag.contentEncoding="base64"}),$._zod.check=(X)=>{if(pw(X.value))return;X.issues.push({code:"invalid_format",format:"base64",input:X.value,inst:$,continue:!U.abort})}});function $A($){if(!PG.test($))return!1;let U=$.replace(/[-_]/g,(G)=>G==="-"?"+":"/"),X=U.padEnd(Math.ceil(U.length/4)*4,"=");return pw(X)}var ow=q("$ZodBase64URL",($,U)=>{U.pattern??(U.pattern=PG),f$.init($,U),$._zod.onattach.push((X)=>{X._zod.bag.contentEncoding="base64url"}),$._zod.check=(X)=>{if($A(X.value))return;X.issues.push({code:"invalid_format",format:"base64url",input:X.value,inst:$,continue:!U.abort})}}),rw=q("$ZodE164",($,U)=>{U.pattern??(U.pattern=o5),f$.init($,U)});function UA($,U=null){try{let X=$.split(".");if(X.length!==3)return!1;let[G]=X;if(!G)return!1;let J=JSON.parse(atob(G));if("typ"in J&&J?.typ!=="JWT")return!1;if(!J.alg)return!1;if(U&&(!("alg"in J)||J.alg!==U))return!1;return!0}catch{return!1}}var tw=q("$ZodJWT",($,U)=>{f$.init($,U),$._zod.check=(X)=>{if(UA(X.value,U.alg))return;X.issues.push({code:"invalid_format",format:"jwt",input:X.value,inst:$,continue:!U.abort})}}),aw=q("$ZodCustomStringFormat",($,U)=>{f$.init($,U),$._zod.check=(X)=>{if(U.fn(X.value))return;X.issues.push({code:"invalid_format",format:U.format,input:X.value,inst:$,continue:!U.abort})}}),TG=q("$ZodNumber",($,U)=>{G$.init($,U),$._zod.pattern=$._zod.bag.pattern??Uw,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=Number(X.value)}catch(Q){}let J=X.value;if(typeof J==="number"&&!Number.isNaN(J)&&Number.isFinite(J))return X;let Y=typeof J==="number"?Number.isNaN(J)?"NaN":!Number.isFinite(J)?"Infinity":void 0:void 0;return X.issues.push({expected:"number",code:"invalid_type",input:J,inst:$,...Y?{received:Y}:{}}),X}}),sw=q("$ZodNumber",($,U)=>{Nw.init($,U),TG.init($,U)}),j8=q("$ZodBoolean",($,U)=>{G$.init($,U),$._zod.pattern=Jw,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=Boolean(X.value)}catch(Y){}let J=X.value;if(typeof J==="boolean")return X;return X.issues.push({expected:"boolean",code:"invalid_type",input:J,inst:$}),X}}),kG=q("$ZodBigInt",($,U)=>{G$.init($,U),$._zod.pattern=e5,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=BigInt(X.value)}catch(J){}if(typeof X.value==="bigint")return X;return X.issues.push({expected:"bigint",code:"invalid_type",input:X.value,inst:$}),X}}),ew=q("$ZodBigInt",($,U)=>{jw.init($,U),kG.init($,U)}),$N=q("$ZodSymbol",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(typeof J==="symbol")return X;return X.issues.push({expected:"symbol",code:"invalid_type",input:J,inst:$}),X}}),UN=q("$ZodUndefined",($,U)=>{G$.init($,U),$._zod.pattern=Gw,$._zod.values=new Set([void 0]),$._zod.optin="optional",$._zod.optout="optional",$._zod.parse=(X,G)=>{let J=X.value;if(typeof J>"u")return X;return X.issues.push({expected:"undefined",code:"invalid_type",input:J,inst:$}),X}}),JN=q("$ZodNull",($,U)=>{G$.init($,U),$._zod.pattern=Xw,$._zod.values=new Set([null]),$._zod.parse=(X,G)=>{let J=X.value;if(J===null)return X;return X.issues.push({expected:"null",code:"invalid_type",input:J,inst:$}),X}}),XN=q("$ZodAny",($,U)=>{G$.init($,U),$._zod.parse=(X)=>X}),SU=q("$ZodUnknown",($,U)=>{G$.init($,U),$._zod.parse=(X)=>X}),GN=q("$ZodNever",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{return X.issues.push({expected:"never",code:"invalid_type",input:X.value,inst:$}),X}}),YN=q("$ZodVoid",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(typeof J>"u")return X;return X.issues.push({expected:"void",code:"invalid_type",input:J,inst:$}),X}}),QN=q("$ZodDate",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=new Date(X.value)}catch(w){}let J=X.value,Y=J instanceof Date;if(Y&&!Number.isNaN(J.getTime()))return X;return X.issues.push({expected:"date",code:"invalid_type",input:J,...Y?{received:"Invalid Date"}:{},inst:$}),X}});function cL($,U,X){if($.issues.length)U.issues.push(...f6(X,$.issues));U.value[X]=$.value}var H8=q("$ZodArray",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!Array.isArray(J))return X.issues.push({expected:"array",code:"invalid_type",input:J,inst:$}),X;X.value=Array(J.length);let Y=[];for(let Q=0;Q<J.length;Q++){let w=J[Q],N=U.element._zod.run({value:w,issues:[]},G);if(N instanceof Promise)Y.push(N.then((j)=>cL(j,X,Q)));else cL(N,X,Q)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function IG($,U,X){if($.issues.length)U.issues.push(...f6(X,$.issues));U.value[X]=$.value}function iL($,U,X,G){if($.issues.length)if(G[X]===void 0)if(X in G)U.value[X]=void 0;else U.value[X]=$.value;else U.issues.push(...f6(X,$.issues));else if($.value===void 0){if(X in G)U.value[X]=void 0}else U.value[X]=$.value}var wN=q("$ZodObject",($,U)=>{G$.init($,U);let X=U8(()=>{let K=Object.keys(U.shape);for(let W of K)if(!(U.shape[W]instanceof G$))throw Error(`Invalid element at key "${W}": expected a Zod schema`);let z=v5(U.shape);return{shape:U.shape,keys:K,keySet:new Set(K),numKeys:K.length,optionalKeys:new Set(z)}});I$($._zod,"propValues",()=>{let K=U.shape,z={};for(let W in K){let O=K[W]._zod;if(O.values){z[W]??(z[W]=new Set);for(let D of O.values)z[W].add(D)}}return z});let G=(K)=>{let z=new ZG(["shape","payload","ctx"]),W=X.value,O=(E)=>{let L=M0(E);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};z.write("const input = payload.value;");let D=Object.create(null),B=0;for(let E of W.keys)D[E]=`key_${B++}`;z.write("const newResult = {}");for(let E of W.keys)if(W.optionalKeys.has(E)){let L=D[E];z.write(`const ${L} = ${O(E)};`);let M=M0(E);z.write(`
        if (${L}.issues.length) {
          if (input[${M}] === undefined) {
            if (${M} in input) {
              newResult[${M}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${L}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${M}, ...iss.path] : [${M}],
              }))
            );
          }
        } else if (${L}.value === undefined) {
          if (${M} in input) newResult[${M}] = undefined;
        } else {
          newResult[${M}] = ${L}.value;
        }
        `)}else{let L=D[E];z.write(`const ${L} = ${O(E)};`),z.write(`
          if (${L}.issues.length) payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M0(E)}, ...iss.path] : [${M0(E)}]
          })));`),z.write(`newResult[${M0(E)}] = ${L}.value`)}z.write("payload.value = newResult;"),z.write("return payload;");let v=z.compile();return(E,L)=>v(K,E,L)},J,Y=qU,Q=!s2.jitless,N=Q&&A5.value,j=U.catchall,H;$._zod.parse=(K,z)=>{H??(H=X.value);let W=K.value;if(!Y(W))return K.issues.push({expected:"object",code:"invalid_type",input:W,inst:$}),K;let O=[];if(Q&&N&&z?.async===!1&&z.jitless!==!0){if(!J)J=G(U.shape);K=J(K,z)}else{K.value={};let L=H.shape;for(let M of H.keys){let I=L[M],x=I._zod.run({value:W[M],issues:[]},z),g=I._zod.optin==="optional"&&I._zod.optout==="optional";if(x instanceof Promise)O.push(x.then((h)=>g?iL(h,K,M,W):IG(h,K,M)));else if(g)iL(x,K,M,W);else IG(x,K,M)}}if(!j)return O.length?Promise.all(O).then(()=>K):K;let D=[],B=H.keySet,v=j._zod,E=v.def.type;for(let L of Object.keys(W)){if(B.has(L))continue;if(E==="never"){D.push(L);continue}let M=v.run({value:W[L],issues:[]},z);if(M instanceof Promise)O.push(M.then((I)=>IG(I,K,L)));else IG(M,K,L)}if(D.length)K.issues.push({code:"unrecognized_keys",keys:D,input:W,inst:$});if(!O.length)return K;return Promise.all(O).then(()=>{return K})}});function nL($,U,X,G){for(let J of $)if(J.issues.length===0)return U.value=J.value,U;return U.issues.push({code:"invalid_union",input:U.value,inst:X,errors:$.map((J)=>J.issues.map((Y)=>c6(Y,G,G6())))}),U}var CG=q("$ZodUnion",($,U)=>{G$.init($,U),I$($._zod,"optin",()=>U.options.some((X)=>X._zod.optin==="optional")?"optional":void 0),I$($._zod,"optout",()=>U.options.some((X)=>X._zod.optout==="optional")?"optional":void 0),I$($._zod,"values",()=>{if(U.options.every((X)=>X._zod.values))return new Set(U.options.flatMap((X)=>Array.from(X._zod.values)));return}),I$($._zod,"pattern",()=>{if(U.options.every((X)=>X._zod.pattern)){let X=U.options.map((G)=>G._zod.pattern);return new RegExp(`^(${X.map((G)=>J8(G.source)).join("|")})$`)}return}),$._zod.parse=(X,G)=>{let J=!1,Y=[];for(let Q of U.options){let w=Q._zod.run({value:X.value,issues:[]},G);if(w instanceof Promise)Y.push(w),J=!0;else{if(w.issues.length===0)return w;Y.push(w)}}if(!J)return nL(Y,X,$,G);return Promise.all(Y).then((Q)=>{return nL(Q,X,$,G)})}}),NN=q("$ZodDiscriminatedUnion",($,U)=>{CG.init($,U);let X=$._zod.parse;I$($._zod,"propValues",()=>{let J={};for(let Y of U.options){let Q=Y._zod.propValues;if(!Q||Object.keys(Q).length===0)throw Error(`Invalid discriminated union option at index "${U.options.indexOf(Y)}"`);for(let[w,N]of Object.entries(Q)){if(!J[w])J[w]=new Set;for(let j of N)J[w].add(j)}}return J});let G=U8(()=>{let J=U.options,Y=new Map;for(let Q of J){let w=Q._zod.propValues[U.discriminator];if(!w||w.size===0)throw Error(`Invalid discriminated union option at index "${U.options.indexOf(Q)}"`);for(let N of w){if(Y.has(N))throw Error(`Duplicate discriminator value "${String(N)}"`);Y.set(N,Q)}}return Y});$._zod.parse=(J,Y)=>{let Q=J.value;if(!qU(Q))return J.issues.push({code:"invalid_type",expected:"object",input:Q,inst:$}),J;let w=G.value.get(Q?.[U.discriminator]);if(w)return w._zod.run(J,Y);if(U.unionFallback)return X(J,Y);return J.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:Q,path:[U.discriminator],inst:$}),J}}),jN=q("$ZodIntersection",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value,Y=U.left._zod.run({value:J,issues:[]},G),Q=U.right._zod.run({value:J,issues:[]},G);if(Y instanceof Promise||Q instanceof Promise)return Promise.all([Y,Q]).then(([N,j])=>{return pL(X,N,j)});return pL(X,Y,Q)}});function Ew($,U){if($===U)return{valid:!0,data:$};if($ instanceof Date&&U instanceof Date&&+$===+U)return{valid:!0,data:$};if(vU($)&&vU(U)){let X=Object.keys(U),G=Object.keys($).filter((Y)=>X.indexOf(Y)!==-1),J={...$,...U};for(let Y of G){let Q=Ew($[Y],U[Y]);if(!Q.valid)return{valid:!1,mergeErrorPath:[Y,...Q.mergeErrorPath]};J[Y]=Q.data}return{valid:!0,data:J}}if(Array.isArray($)&&Array.isArray(U)){if($.length!==U.length)return{valid:!1,mergeErrorPath:[]};let X=[];for(let G=0;G<$.length;G++){let J=$[G],Y=U[G],Q=Ew(J,Y);if(!Q.valid)return{valid:!1,mergeErrorPath:[G,...Q.mergeErrorPath]};X.push(Q.data)}return{valid:!0,data:X}}return{valid:!1,mergeErrorPath:[]}}function pL($,U,X){if(U.issues.length)$.issues.push(...U.issues);if(X.issues.length)$.issues.push(...X.issues);if(F0($))return $;let G=Ew(U.value,X.value);if(!G.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(G.mergeErrorPath)}`);return $.value=G.data,$}var v0=q("$ZodTuple",($,U)=>{G$.init($,U);let X=U.items,G=X.length-[...X].reverse().findIndex((J)=>J._zod.optin!=="optional");$._zod.parse=(J,Y)=>{let Q=J.value;if(!Array.isArray(Q))return J.issues.push({input:Q,inst:$,expected:"tuple",code:"invalid_type"}),J;J.value=[];let w=[];if(!U.rest){let j=Q.length>X.length,H=Q.length<G-1;if(j||H)return J.issues.push({input:Q,inst:$,origin:"array",...j?{code:"too_big",maximum:X.length}:{code:"too_small",minimum:X.length}}),J}let N=-1;for(let j of X){if(N++,N>=Q.length){if(N>=G)continue}let H=j._zod.run({value:Q[N],issues:[]},Y);if(H instanceof Promise)w.push(H.then((K)=>RG(K,J,N)));else RG(H,J,N)}if(U.rest){let j=Q.slice(X.length);for(let H of j){N++;let K=U.rest._zod.run({value:H,issues:[]},Y);if(K instanceof Promise)w.push(K.then((z)=>RG(z,J,N)));else RG(K,J,N)}}if(w.length)return Promise.all(w).then(()=>J);return J}});function RG($,U,X){if($.issues.length)U.issues.push(...f6(X,$.issues));U.value[X]=$.value}var HN=q("$ZodRecord",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!vU(J))return X.issues.push({expected:"record",code:"invalid_type",input:J,inst:$}),X;let Y=[];if(U.keyType._zod.values){let Q=U.keyType._zod.values;X.value={};for(let N of Q)if(typeof N==="string"||typeof N==="number"||typeof N==="symbol"){let j=U.valueType._zod.run({value:J[N],issues:[]},G);if(j instanceof Promise)Y.push(j.then((H)=>{if(H.issues.length)X.issues.push(...f6(N,H.issues));X.value[N]=H.value}));else{if(j.issues.length)X.issues.push(...f6(N,j.issues));X.value[N]=j.value}}let w;for(let N in J)if(!Q.has(N))w=w??[],w.push(N);if(w&&w.length>0)X.issues.push({code:"unrecognized_keys",input:J,inst:$,keys:w})}else{X.value={};for(let Q of Reflect.ownKeys(J)){if(Q==="__proto__")continue;let w=U.keyType._zod.run({value:Q,issues:[]},G);if(w instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(w.issues.length){X.issues.push({origin:"record",code:"invalid_key",issues:w.issues.map((j)=>c6(j,G,G6())),input:Q,path:[Q],inst:$}),X.value[w.value]=w.value;continue}let N=U.valueType._zod.run({value:J[Q],issues:[]},G);if(N instanceof Promise)Y.push(N.then((j)=>{if(j.issues.length)X.issues.push(...f6(Q,j.issues));X.value[w.value]=j.value}));else{if(N.issues.length)X.issues.push(...f6(Q,N.issues));X.value[w.value]=N.value}}}if(Y.length)return Promise.all(Y).then(()=>X);return X}}),WN=q("$ZodMap",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!(J instanceof Map))return X.issues.push({expected:"map",code:"invalid_type",input:J,inst:$}),X;let Y=[];X.value=new Map;for(let[Q,w]of J){let N=U.keyType._zod.run({value:Q,issues:[]},G),j=U.valueType._zod.run({value:w,issues:[]},G);if(N instanceof Promise||j instanceof Promise)Y.push(Promise.all([N,j]).then(([H,K])=>{dL(H,K,X,Q,J,$,G)}));else dL(N,j,X,Q,J,$,G)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function dL($,U,X,G,J,Y,Q){if($.issues.length)if(X8.has(typeof G))X.issues.push(...f6(G,$.issues));else X.issues.push({origin:"map",code:"invalid_key",input:J,inst:Y,issues:$.issues.map((w)=>c6(w,Q,G6()))});if(U.issues.length)if(X8.has(typeof G))X.issues.push(...f6(G,U.issues));else X.issues.push({origin:"map",code:"invalid_element",input:J,inst:Y,key:G,issues:U.issues.map((w)=>c6(w,Q,G6()))});X.value.set($.value,U.value)}var KN=q("$ZodSet",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!(J instanceof Set))return X.issues.push({input:J,inst:$,expected:"set",code:"invalid_type"}),X;let Y=[];X.value=new Set;for(let Q of J){let w=U.valueType._zod.run({value:Q,issues:[]},G);if(w instanceof Promise)Y.push(w.then((N)=>oL(N,X)));else oL(w,X)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function oL($,U){if($.issues.length)U.issues.push(...$.issues);U.value.add($.value)}var ON=q("$ZodEnum",($,U)=>{G$.init($,U);let X=$8(U.entries);$._zod.values=new Set(X),$._zod.pattern=new RegExp(`^(${X.filter((G)=>X8.has(typeof G)).map((G)=>typeof G==="string"?N1(G):G.toString()).join("|")})$`),$._zod.parse=(G,J)=>{let Y=G.value;if($._zod.values.has(Y))return G;return G.issues.push({code:"invalid_value",values:X,input:Y,inst:$}),G}}),zN=q("$ZodLiteral",($,U)=>{G$.init($,U),$._zod.values=new Set(U.values),$._zod.pattern=new RegExp(`^(${U.values.map((X)=>typeof X==="string"?N1(X):X?X.toString():String(X)).join("|")})$`),$._zod.parse=(X,G)=>{let J=X.value;if($._zod.values.has(J))return X;return X.issues.push({code:"invalid_value",values:U.values,input:J,inst:$}),X}}),DN=q("$ZodFile",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(J instanceof File)return X;return X.issues.push({expected:"file",code:"invalid_type",input:J,inst:$}),X}}),W8=q("$ZodTransform",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=U.transform(X.value,X);if(G.async)return(J instanceof Promise?J:Promise.resolve(J)).then((Q)=>{return X.value=Q,X});if(J instanceof Promise)throw new w1;return X.value=J,X}}),VN=q("$ZodOptional",($,U)=>{G$.init($,U),$._zod.optin="optional",$._zod.optout="optional",I$($._zod,"values",()=>{return U.innerType._zod.values?new Set([...U.innerType._zod.values,void 0]):void 0}),I$($._zod,"pattern",()=>{let X=U.innerType._zod.pattern;return X?new RegExp(`^(${J8(X.source)})?$`):void 0}),$._zod.parse=(X,G)=>{if(U.innerType._zod.optin==="optional")return U.innerType._zod.run(X,G);if(X.value===void 0)return X;return U.innerType._zod.run(X,G)}}),BN=q("$ZodNullable",($,U)=>{G$.init($,U),I$($._zod,"optin",()=>U.innerType._zod.optin),I$($._zod,"optout",()=>U.innerType._zod.optout),I$($._zod,"pattern",()=>{let X=U.innerType._zod.pattern;return X?new RegExp(`^(${J8(X.source)}|null)$`):void 0}),I$($._zod,"values",()=>{return U.innerType._zod.values?new Set([...U.innerType._zod.values,null]):void 0}),$._zod.parse=(X,G)=>{if(X.value===null)return X;return U.innerType._zod.run(X,G)}}),_N=q("$ZodDefault",($,U)=>{G$.init($,U),$._zod.optin="optional",I$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{if(X.value===void 0)return X.value=U.defaultValue,X;let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>rL(Y,U));return rL(J,U)}});function rL($,U){if($.value===void 0)$.value=U.defaultValue;return $}var MN=q("$ZodPrefault",($,U)=>{G$.init($,U),$._zod.optin="optional",I$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{if(X.value===void 0)X.value=U.defaultValue;return U.innerType._zod.run(X,G)}}),FN=q("$ZodNonOptional",($,U)=>{G$.init($,U),I$($._zod,"values",()=>{let X=U.innerType._zod.values;return X?new Set([...X].filter((G)=>G!==void 0)):void 0}),$._zod.parse=(X,G)=>{let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>tL(Y,$));return tL(J,$)}});function tL($,U){if(!$.issues.length&&$.value===void 0)$.issues.push({code:"invalid_type",expected:"nonoptional",input:$.value,inst:U});return $}var LN=q("$ZodSuccess",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>{return X.value=Y.issues.length===0,X});return X.value=J.issues.length===0,X}}),AN=q("$ZodCatch",($,U)=>{G$.init($,U),$._zod.optin="optional",I$($._zod,"optout",()=>U.innerType._zod.optout),I$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>{if(X.value=Y.value,Y.issues.length)X.value=U.catchValue({...X,error:{issues:Y.issues.map((Q)=>c6(Q,G,G6()))},input:X.value}),X.issues=[];return X});if(X.value=J.value,J.issues.length)X.value=U.catchValue({...X,error:{issues:J.issues.map((Y)=>c6(Y,G,G6()))},input:X.value}),X.issues=[];return X}}),qN=q("$ZodNaN",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{if(typeof X.value!=="number"||!Number.isNaN(X.value))return X.issues.push({input:X.value,inst:$,expected:"nan",code:"invalid_type"}),X;return X}}),K8=q("$ZodPipe",($,U)=>{G$.init($,U),I$($._zod,"values",()=>U.in._zod.values),I$($._zod,"optin",()=>U.in._zod.optin),I$($._zod,"optout",()=>U.out._zod.optout),$._zod.parse=(X,G)=>{let J=U.in._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>aL(Y,U,G));return aL(J,U,G)}});function aL($,U,X){if(F0($))return $;return U.out._zod.run({value:$.value,issues:$.issues},X)}var vN=q("$ZodReadonly",($,U)=>{G$.init($,U),I$($._zod,"propValues",()=>U.innerType._zod.propValues),I$($._zod,"values",()=>U.innerType._zod.values),I$($._zod,"optin",()=>U.innerType._zod.optin),I$($._zod,"optout",()=>U.innerType._zod.optout),$._zod.parse=(X,G)=>{let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then(sL);return sL(J)}});function sL($){return $.value=Object.freeze($.value),$}var PN=q("$ZodTemplateLiteral",($,U)=>{G$.init($,U);let X=[];for(let G of U.parts)if(G instanceof G$){if(!G._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...G._zod.traits].shift()}`);let J=G._zod.pattern instanceof RegExp?G._zod.pattern.source:G._zod.pattern;if(!J)throw Error(`Invalid template literal part: ${G._zod.traits}`);let Y=J.startsWith("^")?1:0,Q=J.endsWith("$")?J.length-1:J.length;X.push(J.slice(Y,Q))}else if(G===null||q5.has(typeof G))X.push(N1(`${G}`));else throw Error(`Invalid template literal part: ${G}`);$._zod.pattern=new RegExp(`^${X.join("")}$`),$._zod.parse=(G,J)=>{if(typeof G.value!=="string")return G.issues.push({input:G.value,inst:$,expected:"template_literal",code:"invalid_type"}),G;if($._zod.pattern.lastIndex=0,!$._zod.pattern.test(G.value))return G.issues.push({input:G.value,inst:$,code:"invalid_format",format:"template_literal",pattern:$._zod.pattern.source}),G;return G}}),EN=q("$ZodPromise",($,U)=>{G$.init($,U),$._zod.parse=(X,G)=>{return Promise.resolve(X.value).then((J)=>U.innerType._zod.run({value:J,issues:[]},G))}}),SN=q("$ZodLazy",($,U)=>{G$.init($,U),I$($._zod,"innerType",()=>U.getter()),I$($._zod,"pattern",()=>$._zod.innerType._zod.pattern),I$($._zod,"propValues",()=>$._zod.innerType._zod.propValues),I$($._zod,"optin",()=>$._zod.innerType._zod.optin),I$($._zod,"optout",()=>$._zod.innerType._zod.optout),$._zod.parse=(X,G)=>{return $._zod.innerType._zod.run(X,G)}}),ZN=q("$ZodCustom",($,U)=>{o$.init($,U),G$.init($,U),$._zod.parse=(X,G)=>{return X},$._zod.check=(X)=>{let G=X.value,J=U.fn(G);if(J instanceof Promise)return J.then((Y)=>eL(Y,X,G,$));eL(J,X,G,$);return}});function eL($,U,X,G){if(!$){let J={code:"custom",input:X,inst:G,path:[...G._zod.def.path??[]],continue:!G._zod.def.abort};if(G._zod.def.params)J.params=G._zod.def.params;U.issues.push(S5(J))}}var z8={};H6(z8,{zhTW:()=>Kj,zhCN:()=>Wj,vi:()=>Hj,ur:()=>jj,ua:()=>Nj,tr:()=>wj,th:()=>Qj,ta:()=>Yj,sv:()=>Gj,sl:()=>Xj,ru:()=>Jj,pt:()=>Uj,ps:()=>eN,pl:()=>$j,ota:()=>sN,no:()=>aN,nl:()=>tN,ms:()=>rN,mk:()=>oN,ko:()=>dN,kh:()=>pN,ja:()=>nN,it:()=>iN,id:()=>cN,hu:()=>lN,he:()=>yN,frCA:()=>uN,fr:()=>mN,fi:()=>bN,fa:()=>gN,es:()=>hN,eo:()=>fN,en:()=>O8,de:()=>xN,cs:()=>CN,ca:()=>kN,be:()=>TN,az:()=>RN,ar:()=>IN});var kx=()=>{let $={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return(J)=>{switch(J.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${J.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${p(J.values[0])}`;return`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${J.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${Y} ${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631"}`;return`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${J.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${J.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${J.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${J.prefix}"`;if(Y.format==="ends_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${Y.suffix}"`;if(Y.format==="includes")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${Y.includes}"`;if(Y.format==="regex")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${Y.pattern}`;return`${G[Y.format]??J.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${J.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${J.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${J.keys.length>1?"\u0629":""}: ${T(J.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${J.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${J.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function IN(){return{localeError:kx()}}var Cx=()=>{let $={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${J.expected}, daxil olan ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${p(J.values[0])}`;return`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${J.origin??"d\u0259y\u0259r"} ${Y}${J.maximum.toString()} ${Q.unit??"element"}`;return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${J.origin??"d\u0259y\u0259r"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Yanl\u0131\u015F m\u0259tn: "${Y.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;if(Y.format==="ends_with")return`Yanl\u0131\u015F m\u0259tn: "${Y.suffix}" il\u0259 bitm\u0259lidir`;if(Y.format==="includes")return`Yanl\u0131\u015F m\u0259tn: "${Y.includes}" daxil olmal\u0131d\u0131r`;if(Y.format==="regex")return`Yanl\u0131\u015F m\u0259tn: ${Y.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;return`Yanl\u0131\u015F ${G[Y.format]??J.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${J.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${J.keys.length>1?"lar":""}: ${T(J.keys,", ")}`;case"invalid_key":return`${J.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${J.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function RN(){return{localeError:Cx()}}function XA($,U,X,G){let J=Math.abs($),Y=J%10,Q=J%100;if(Q>=11&&Q<=19)return G;if(Y===1)return U;if(Y>=2&&Y<=4)return X;return G}var xx=()=>{let $={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0456\u045E";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${J.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${p(J.values[0])}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q){let w=Number(J.maximum),N=XA(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${Q.verb} ${Y}${J.maximum.toString()} ${N}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q){let w=Number(J.minimum),N=XA(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${Q.verb} ${Y}${J.minimum.toString()} ${N}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${J.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${T(J.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${J.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${J.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function TN(){return{localeError:xx()}}var fx=()=>{let $={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(J)=>{switch(J.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${J.expected}, s'ha rebut ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Valor inv\xE0lid: s'esperava ${p(J.values[0])}`;return`Opci\xF3 inv\xE0lida: s'esperava una de ${T(J.values," o ")}`;case"too_big":{let Y=J.inclusive?"com a m\xE0xim":"menys de",Q=U(J.origin);if(Q)return`Massa gran: s'esperava que ${J.origin??"el valor"} contingu\xE9s ${Y} ${J.maximum.toString()} ${Q.unit??"elements"}`;return`Massa gran: s'esperava que ${J.origin??"el valor"} fos ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"com a m\xEDnim":"m\xE9s de",Q=U(J.origin);if(Q)return`Massa petit: s'esperava que ${J.origin} contingu\xE9s ${Y} ${J.minimum.toString()} ${Q.unit}`;return`Massa petit: s'esperava que ${J.origin} fos ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Format inv\xE0lid: ha de comen\xE7ar amb "${Y.prefix}"`;if(Y.format==="ends_with")return`Format inv\xE0lid: ha d'acabar amb "${Y.suffix}"`;if(Y.format==="includes")return`Format inv\xE0lid: ha d'incloure "${Y.includes}"`;if(Y.format==="regex")return`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${Y.pattern}`;return`Format inv\xE0lid per a ${G[Y.format]??J.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${J.divisor}`;case"unrecognized_keys":return`Clau${J.keys.length>1?"s":""} no reconeguda${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${J.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${J.origin}`;default:return"Entrada inv\xE0lida"}}};function kN(){return{localeError:fx()}}var hx=()=>{let $={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(J))return"pole";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return(J)=>{switch(J.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${J.expected}, obdr\u017Eeno ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${p(J.values[0])}`;return`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${J.origin??"hodnota"} mus\xED m\xEDt ${Y}${J.maximum.toString()} ${Q.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${J.origin??"hodnota"} mus\xED b\xFDt ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${J.origin??"hodnota"} mus\xED m\xEDt ${Y}${J.minimum.toString()} ${Q.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${J.origin??"hodnota"} mus\xED b\xFDt ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${Y.prefix}"`;if(Y.format==="ends_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${Y.suffix}"`;if(Y.format==="includes")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${Y.includes}"`;if(Y.format==="regex")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${Y.pattern}`;return`Neplatn\xFD form\xE1t ${G[Y.format]??J.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${J.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${T(J.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${J.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${J.origin}`;default:return"Neplatn\xFD vstup"}}};function CN(){return{localeError:hx()}}var gx=()=>{let $={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"Zahl";case"object":{if(Array.isArray(J))return"Array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return(J)=>{switch(J.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${J.expected}, erhalten ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ung\xFCltige Eingabe: erwartet ${p(J.values[0])}`;return`Ung\xFCltige Option: erwartet eine von ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Zu gro\xDF: erwartet, dass ${J.origin??"Wert"} ${Y}${J.maximum.toString()} ${Q.unit??"Elemente"} hat`;return`Zu gro\xDF: erwartet, dass ${J.origin??"Wert"} ${Y}${J.maximum.toString()} ist`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Zu klein: erwartet, dass ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit} hat`;return`Zu klein: erwartet, dass ${J.origin} ${Y}${J.minimum.toString()} ist`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ung\xFCltiger String: muss mit "${Y.prefix}" beginnen`;if(Y.format==="ends_with")return`Ung\xFCltiger String: muss mit "${Y.suffix}" enden`;if(Y.format==="includes")return`Ung\xFCltiger String: muss "${Y.includes}" enthalten`;if(Y.format==="regex")return`Ung\xFCltiger String: muss dem Muster ${Y.pattern} entsprechen`;return`Ung\xFCltig: ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${J.divisor} sein`;case"unrecognized_keys":return`${J.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${T(J.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${J.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${J.origin}`;default:return"Ung\xFCltige Eingabe"}}};function xN(){return{localeError:gx()}}var bx=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},mx=()=>{let $={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function U(G){return $[G]??null}let X={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(G)=>{switch(G.code){case"invalid_type":return`Invalid input: expected ${G.expected}, received ${bx(G.input)}`;case"invalid_value":if(G.values.length===1)return`Invalid input: expected ${p(G.values[0])}`;return`Invalid option: expected one of ${T(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`Too big: expected ${G.origin??"value"} to have ${J}${G.maximum.toString()} ${Y.unit??"elements"}`;return`Too big: expected ${G.origin??"value"} to be ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`Too small: expected ${G.origin} to have ${J}${G.minimum.toString()} ${Y.unit}`;return`Too small: expected ${G.origin} to be ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Invalid string: must start with "${J.prefix}"`;if(J.format==="ends_with")return`Invalid string: must end with "${J.suffix}"`;if(J.format==="includes")return`Invalid string: must include "${J.includes}"`;if(J.format==="regex")return`Invalid string: must match pattern ${J.pattern}`;return`Invalid ${X[J.format]??G.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${G.divisor}`;case"unrecognized_keys":return`Unrecognized key${G.keys.length>1?"s":""}: ${T(G.keys,", ")}`;case"invalid_key":return`Invalid key in ${G.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${G.origin}`;default:return"Invalid input"}}};function O8(){return{localeError:mx()}}var ux=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"nombro";case"object":{if(Array.isArray($))return"tabelo";if($===null)return"senvalora";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},yx=()=>{let $={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function U(G){return $[G]??null}let X={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return(G)=>{switch(G.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${G.expected}, ricevi\u011Dis ${ux(G.input)}`;case"invalid_value":if(G.values.length===1)return`Nevalida enigo: atendi\u011Dis ${p(G.values[0])}`;return`Nevalida opcio: atendi\u011Dis unu el ${T(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`Tro granda: atendi\u011Dis ke ${G.origin??"valoro"} havu ${J}${G.maximum.toString()} ${Y.unit??"elementojn"}`;return`Tro granda: atendi\u011Dis ke ${G.origin??"valoro"} havu ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`Tro malgranda: atendi\u011Dis ke ${G.origin} havu ${J}${G.minimum.toString()} ${Y.unit}`;return`Tro malgranda: atendi\u011Dis ke ${G.origin} estu ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Nevalida karaktraro: devas komenci\u011Di per "${J.prefix}"`;if(J.format==="ends_with")return`Nevalida karaktraro: devas fini\u011Di per "${J.suffix}"`;if(J.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${J.includes}"`;if(J.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${J.pattern}`;return`Nevalida ${X[J.format]??G.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${G.divisor}`;case"unrecognized_keys":return`Nekonata${G.keys.length>1?"j":""} \u015Dlosilo${G.keys.length>1?"j":""}: ${T(G.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${G.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${G.origin}`;default:return"Nevalida enigo"}}};function fN(){return{localeError:yx()}}var lx=()=>{let $={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(J))return"arreglo";if(J===null)return"nulo";if(Object.getPrototypeOf(J)!==Object.prototype)return J.constructor.name}}return Y},G={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(J)=>{switch(J.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${J.expected}, recibido ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Entrada inv\xE1lida: se esperaba ${p(J.values[0])}`;return`Opci\xF3n inv\xE1lida: se esperaba una de ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Demasiado grande: se esperaba que ${J.origin??"valor"} tuviera ${Y}${J.maximum.toString()} ${Q.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${J.origin??"valor"} fuera ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Demasiado peque\xF1o: se esperaba que ${J.origin} tuviera ${Y}${J.minimum.toString()} ${Q.unit}`;return`Demasiado peque\xF1o: se esperaba que ${J.origin} fuera ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Cadena inv\xE1lida: debe comenzar con "${Y.prefix}"`;if(Y.format==="ends_with")return`Cadena inv\xE1lida: debe terminar en "${Y.suffix}"`;if(Y.format==="includes")return`Cadena inv\xE1lida: debe incluir "${Y.includes}"`;if(Y.format==="regex")return`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${Y.pattern}`;return`Inv\xE1lido ${G[Y.format]??J.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${J.divisor}`;case"unrecognized_keys":return`Llave${J.keys.length>1?"s":""} desconocida${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${J.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${J.origin}`;default:return"Entrada inv\xE1lida"}}};function hN(){return{localeError:lx()}}var cx=()=>{let $={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(J))return"\u0622\u0631\u0627\u06CC\u0647";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return(J)=>{switch(J.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${J.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${X(J.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":if(J.values.length===1)return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${p(J.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;return`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${T(J.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${J.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${J.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} ${Q.unit} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${Y.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;if(Y.format==="ends_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${Y.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;if(Y.format==="includes")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${Y.includes}" \u0628\u0627\u0634\u062F`;if(Y.format==="regex")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${Y.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;return`${G[Y.format]??J.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${J.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${J.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${T(J.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${J.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${J.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function gN(){return{localeError:cx()}}var ix=()=>{let $={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return(J)=>{switch(J.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${J.expected}, oli ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Virheellinen sy\xF6te: t\xE4ytyy olla ${p(J.values[0])}`;return`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Liian suuri: ${Q.subject} t\xE4ytyy olla ${Y}${J.maximum.toString()} ${Q.unit}`.trim();return`Liian suuri: arvon t\xE4ytyy olla ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Liian pieni: ${Q.subject} t\xE4ytyy olla ${Y}${J.minimum.toString()} ${Q.unit}`.trim();return`Liian pieni: arvon t\xE4ytyy olla ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${Y.prefix}"`;if(Y.format==="ends_with")return`Virheellinen sy\xF6te: t\xE4ytyy loppua "${Y.suffix}"`;if(Y.format==="includes")return`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${Y.includes}"`;if(Y.format==="regex")return`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${Y.pattern}`;return`Virheellinen ${G[Y.format]??J.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${J.divisor} monikerta`;case"unrecognized_keys":return`${J.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${T(J.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function bN(){return{localeError:ix()}}var nx=()=>{let $={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"nombre";case"object":{if(Array.isArray(J))return"tableau";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return(J)=>{switch(J.code){case"invalid_type":return`Entr\xE9e invalide : ${J.expected} attendu, ${X(J.input)} re\xE7u`;case"invalid_value":if(J.values.length===1)return`Entr\xE9e invalide : ${p(J.values[0])} attendu`;return`Option invalide : une valeur parmi ${T(J.values,"|")} attendue`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Trop grand : ${J.origin??"valeur"} doit ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"\xE9l\xE9ment(s)"}`;return`Trop grand : ${J.origin??"valeur"} doit \xEAtre ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Trop petit : ${J.origin} doit ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Trop petit : ${J.origin} doit \xEAtre ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${Y.prefix}"`;if(Y.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${Y.suffix}"`;if(Y.format==="includes")return`Cha\xEEne invalide : doit inclure "${Y.includes}"`;if(Y.format==="regex")return`Cha\xEEne invalide : doit correspondre au mod\xE8le ${Y.pattern}`;return`${G[Y.format]??J.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${J.divisor}`;case"unrecognized_keys":return`Cl\xE9${J.keys.length>1?"s":""} non reconnue${J.keys.length>1?"s":""} : ${T(J.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${J.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${J.origin}`;default:return"Entr\xE9e invalide"}}};function mN(){return{localeError:nx()}}var px=()=>{let $={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return(J)=>{switch(J.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${J.expected}, re\xE7u ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Entr\xE9e invalide : attendu ${p(J.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"\u2264":"<",Q=U(J.origin);if(Q)return`Trop grand : attendu que ${J.origin??"la valeur"} ait ${Y}${J.maximum.toString()} ${Q.unit}`;return`Trop grand : attendu que ${J.origin??"la valeur"} soit ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"\u2265":">",Q=U(J.origin);if(Q)return`Trop petit : attendu que ${J.origin} ait ${Y}${J.minimum.toString()} ${Q.unit}`;return`Trop petit : attendu que ${J.origin} soit ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${Y.prefix}"`;if(Y.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${Y.suffix}"`;if(Y.format==="includes")return`Cha\xEEne invalide : doit inclure "${Y.includes}"`;if(Y.format==="regex")return`Cha\xEEne invalide : doit correspondre au motif ${Y.pattern}`;return`${G[Y.format]??J.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${J.divisor}`;case"unrecognized_keys":return`Cl\xE9${J.keys.length>1?"s":""} non reconnue${J.keys.length>1?"s":""} : ${T(J.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${J.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${J.origin}`;default:return"Entr\xE9e invalide"}}};function uN(){return{localeError:px()}}var dx=()=>{let $={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return(J)=>{switch(J.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${J.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${p(J.values[0])}`;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${J.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Y}${J.maximum.toString()} ${Q.unit??"elements"}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${J.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${J.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${J.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${Y.prefix}"`;if(Y.format==="ends_with")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${Y.suffix}"`;if(Y.format==="includes")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${Y.includes}"`;if(Y.format==="regex")return`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${Y.pattern}`;return`${G[Y.format]??J.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${J.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${J.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${J.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${T(J.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${J.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${J.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function yN(){return{localeError:dx()}}var ox=()=>{let $={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(J))return"t\xF6mb";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return(J)=>{switch(J.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${J.expected}, a kapott \xE9rt\xE9k ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${p(J.values[0])}`;return`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`T\xFAl nagy: ${J.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${Y}${J.maximum.toString()} ${Q.unit??"elem"}`;return`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${J.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${J.origin} m\xE9rete t\xFAl kicsi ${Y}${J.minimum.toString()} ${Q.unit}`;return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${J.origin} t\xFAl kicsi ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\xC9rv\xE9nytelen string: "${Y.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;if(Y.format==="ends_with")return`\xC9rv\xE9nytelen string: "${Y.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;if(Y.format==="includes")return`\xC9rv\xE9nytelen string: "${Y.includes}" \xE9rt\xE9ket kell tartalmaznia`;if(Y.format==="regex")return`\xC9rv\xE9nytelen string: ${Y.pattern} mint\xE1nak kell megfelelnie`;return`\xC9rv\xE9nytelen ${G[Y.format]??J.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${J.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${J.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${J.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function lN(){return{localeError:ox()}}var rx=()=>{let $={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input tidak valid: diharapkan ${J.expected}, diterima ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input tidak valid: diharapkan ${p(J.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Terlalu besar: diharapkan ${J.origin??"value"} memiliki ${Y}${J.maximum.toString()} ${Q.unit??"elemen"}`;return`Terlalu besar: diharapkan ${J.origin??"value"} menjadi ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Terlalu kecil: diharapkan ${J.origin} memiliki ${Y}${J.minimum.toString()} ${Q.unit}`;return`Terlalu kecil: diharapkan ${J.origin} menjadi ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`String tidak valid: harus dimulai dengan "${Y.prefix}"`;if(Y.format==="ends_with")return`String tidak valid: harus berakhir dengan "${Y.suffix}"`;if(Y.format==="includes")return`String tidak valid: harus menyertakan "${Y.includes}"`;if(Y.format==="regex")return`String tidak valid: harus sesuai pola ${Y.pattern}`;return`${G[Y.format]??J.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${J.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${J.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${J.origin}`;default:return"Input tidak valid"}}};function cN(){return{localeError:rx()}}var tx=()=>{let $={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"numero";case"object":{if(Array.isArray(J))return"vettore";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input non valido: atteso ${J.expected}, ricevuto ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input non valido: atteso ${p(J.values[0])}`;return`Opzione non valida: atteso uno tra ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Troppo grande: ${J.origin??"valore"} deve avere ${Y}${J.maximum.toString()} ${Q.unit??"elementi"}`;return`Troppo grande: ${J.origin??"valore"} deve essere ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Troppo piccolo: ${J.origin} deve avere ${Y}${J.minimum.toString()} ${Q.unit}`;return`Troppo piccolo: ${J.origin} deve essere ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Stringa non valida: deve iniziare con "${Y.prefix}"`;if(Y.format==="ends_with")return`Stringa non valida: deve terminare con "${Y.suffix}"`;if(Y.format==="includes")return`Stringa non valida: deve includere "${Y.includes}"`;if(Y.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${Y.pattern}`;return`Invalid ${G[Y.format]??J.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${J.divisor}`;case"unrecognized_keys":return`Chiav${J.keys.length>1?"i":"e"} non riconosciut${J.keys.length>1?"e":"a"}: ${T(J.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${J.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${J.origin}`;default:return"Input non valido"}}};function iN(){return{localeError:tx()}}var ax=()=>{let $={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(J))return"\u914D\u5217";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return(J)=>{switch(J.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${J.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${X(J.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":if(J.values.length===1)return`\u7121\u52B9\u306A\u5165\u529B: ${p(J.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;return`\u7121\u52B9\u306A\u9078\u629E: ${T(J.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let Y=J.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",Q=U(J.origin);if(Q)return`\u5927\u304D\u3059\u304E\u308B\u5024: ${J.origin??"\u5024"}\u306F${J.maximum.toString()}${Q.unit??"\u8981\u7D20"}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5927\u304D\u3059\u304E\u308B\u5024: ${J.origin??"\u5024"}\u306F${J.maximum.toString()}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let Y=J.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",Q=U(J.origin);if(Q)return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${J.origin}\u306F${J.minimum.toString()}${Q.unit}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${J.origin}\u306F${J.minimum.toString()}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="ends_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="includes")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="regex")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${Y.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u7121\u52B9\u306A${G[Y.format]??J.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${J.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${J.keys.length>1?"\u7FA4":""}: ${T(J.keys,"\u3001")}`;case"invalid_key":return`${J.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${J.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function nN(){return{localeError:ax()}}var sx=()=>{let $={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(J))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(J===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return(J)=>{switch(J.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${p(J.values[0])}`;return`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${Y} ${J.maximum.toString()} ${Q.unit??"\u1792\u17B6\u178F\u17BB"}`;return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin} ${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin} ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${Y.suffix}"`;if(Y.format==="includes")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${Y.includes}"`;if(Y.format==="regex")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${Y.pattern}`;return`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${J.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${T(J.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${J.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${J.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function pN(){return{localeError:sx()}}var ex=()=>{let $={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return(J)=>{switch(J.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${J.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${X(J.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":if(J.values.length===1)return`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${p(J.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C \uC635\uC158: ${T(J.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let Y=J.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",Q=Y==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",w=U(J.origin),N=w?.unit??"\uC694\uC18C";if(w)return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${J.maximum.toString()}${N} ${Y}${Q}`;return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${J.maximum.toString()} ${Y}${Q}`}case"too_small":{let Y=J.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",Q=Y==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",w=U(J.origin),N=w?.unit??"\uC694\uC18C";if(w)return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${J.minimum.toString()}${N} ${Y}${Q}`;return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${J.minimum.toString()} ${Y}${Q}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="ends_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="includes")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="regex")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${Y.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C ${G[Y.format]??J.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${J.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${T(J.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${J.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${J.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function dN(){return{localeError:ex()}}var $f=()=>{let $={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(J))return"\u043D\u0438\u0437\u0430";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return(J)=>{switch(J.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Invalid input: expected ${p(J.values[0])}`;return`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${Y}${J.maximum.toString()} ${Q.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin} \u0434\u0430 \u0438\u043C\u0430 ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${Y.pattern}`;return`Invalid ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${T(J.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${J.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${J.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function oN(){return{localeError:$f()}}var Uf=()=>{let $={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"nombor";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input tidak sah: dijangka ${J.expected}, diterima ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input tidak sah: dijangka ${p(J.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Terlalu besar: dijangka ${J.origin??"nilai"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"elemen"}`;return`Terlalu besar: dijangka ${J.origin??"nilai"} adalah ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Terlalu kecil: dijangka ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Terlalu kecil: dijangka ${J.origin} adalah ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`String tidak sah: mesti bermula dengan "${Y.prefix}"`;if(Y.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${Y.suffix}"`;if(Y.format==="includes")return`String tidak sah: mesti mengandungi "${Y.includes}"`;if(Y.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${Y.pattern}`;return`${G[Y.format]??J.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${J.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${T(J.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${J.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${J.origin}`;default:return"Input tidak sah"}}};function rN(){return{localeError:Uf()}}var Jf=()=>{let $={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"getal";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return(J)=>{switch(J.code){case"invalid_type":return`Ongeldige invoer: verwacht ${J.expected}, ontving ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ongeldige invoer: verwacht ${p(J.values[0])}`;return`Ongeldige optie: verwacht \xE9\xE9n van ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Te lang: verwacht dat ${J.origin??"waarde"} ${Y}${J.maximum.toString()} ${Q.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${J.origin??"waarde"} ${Y}${J.maximum.toString()} is`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Te kort: verwacht dat ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit} bevat`;return`Te kort: verwacht dat ${J.origin} ${Y}${J.minimum.toString()} is`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ongeldige tekst: moet met "${Y.prefix}" beginnen`;if(Y.format==="ends_with")return`Ongeldige tekst: moet op "${Y.suffix}" eindigen`;if(Y.format==="includes")return`Ongeldige tekst: moet "${Y.includes}" bevatten`;if(Y.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${Y.pattern}`;return`Ongeldig: ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${J.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${J.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${J.origin}`;default:return"Ongeldige invoer"}}};function tN(){return{localeError:Jf()}}var Xf=()=>{let $={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"tall";case"object":{if(Array.isArray(J))return"liste";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Ugyldig input: forventet ${J.expected}, fikk ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ugyldig verdi: forventet ${p(J.values[0])}`;return`Ugyldig valg: forventet en av ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`For stor(t): forventet ${J.origin??"value"} til \xE5 ha ${Y}${J.maximum.toString()} ${Q.unit??"elementer"}`;return`For stor(t): forventet ${J.origin??"value"} til \xE5 ha ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`For lite(n): forventet ${J.origin} til \xE5 ha ${Y}${J.minimum.toString()} ${Q.unit}`;return`For lite(n): forventet ${J.origin} til \xE5 ha ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ugyldig streng: m\xE5 starte med "${Y.prefix}"`;if(Y.format==="ends_with")return`Ugyldig streng: m\xE5 ende med "${Y.suffix}"`;if(Y.format==="includes")return`Ugyldig streng: m\xE5 inneholde "${Y.includes}"`;if(Y.format==="regex")return`Ugyldig streng: m\xE5 matche m\xF8nsteret ${Y.pattern}`;return`Ugyldig ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${T(J.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${J.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${J.origin}`;default:return"Ugyldig input"}}};function aN(){return{localeError:Xf()}}var Gf=()=>{let $={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"numara";case"object":{if(Array.isArray(J))return"saf";if(J===null)return"gayb";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return(J)=>{switch(J.code){case"invalid_type":return`F\xE2sit giren: umulan ${J.expected}, al\u0131nan ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`F\xE2sit giren: umulan ${p(J.values[0])}`;return`F\xE2sit tercih: m\xFBteberler ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Fazla b\xFCy\xFCk: ${J.origin??"value"}, ${Y}${J.maximum.toString()} ${Q.unit??"elements"} sahip olmal\u0131yd\u0131.`;return`Fazla b\xFCy\xFCk: ${J.origin??"value"}, ${Y}${J.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Fazla k\xFC\xE7\xFCk: ${J.origin}, ${Y}${J.minimum.toString()} ${Q.unit} sahip olmal\u0131yd\u0131.`;return`Fazla k\xFC\xE7\xFCk: ${J.origin}, ${Y}${J.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`F\xE2sit metin: "${Y.prefix}" ile ba\u015Flamal\u0131.`;if(Y.format==="ends_with")return`F\xE2sit metin: "${Y.suffix}" ile bitmeli.`;if(Y.format==="includes")return`F\xE2sit metin: "${Y.includes}" ihtiv\xE2 etmeli.`;if(Y.format==="regex")return`F\xE2sit metin: ${Y.pattern} nak\u015F\u0131na uymal\u0131.`;return`F\xE2sit ${G[Y.format]??J.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${J.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`${J.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${J.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function sN(){return{localeError:Gf()}}var Yf=()=>{let $={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(J))return"\u0627\u0631\u06D0";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return(J)=>{switch(J.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${J.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${X(J.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":if(J.values.length===1)return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${p(J.values[0])} \u0648\u0627\u06CC`;return`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${T(J.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${J.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${J.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} \u0648\u064A`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} ${Q.unit} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} \u0648\u064A`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${Y.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;if(Y.format==="ends_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${Y.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;if(Y.format==="includes")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${Y.includes}" \u0648\u0644\u0631\u064A`;if(Y.format==="regex")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${Y.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;return`${G[Y.format]??J.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${J.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${J.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${T(J.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${J.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${J.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function eN(){return{localeError:Yf()}}var Qf=()=>{let $={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"liczba";case"object":{if(Array.isArray(J))return"tablica";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return(J)=>{switch(J.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${J.expected}, otrzymano ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${p(J.values[0])}`;return`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${Y}${J.maximum.toString()} ${Q.unit??"element\xF3w"}`;return`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${Y}${J.minimum.toString()} ${Q.unit??"element\xF3w"}`;return`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${Y.prefix}"`;if(Y.format==="ends_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${Y.suffix}"`;if(Y.format==="includes")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${Y.includes}"`;if(Y.format==="regex")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${Y.pattern}`;return`Nieprawid\u0142ow(y/a/e) ${G[Y.format]??J.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${J.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${J.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${J.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function $j(){return{localeError:Qf()}}var wf=()=>{let $={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(J))return"array";if(J===null)return"nulo";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(J)=>{switch(J.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${J.expected}, recebido ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Entrada inv\xE1lida: esperado ${p(J.values[0])}`;return`Op\xE7\xE3o inv\xE1lida: esperada uma das ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Muito grande: esperado que ${J.origin??"valor"} tivesse ${Y}${J.maximum.toString()} ${Q.unit??"elementos"}`;return`Muito grande: esperado que ${J.origin??"valor"} fosse ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Muito pequeno: esperado que ${J.origin} tivesse ${Y}${J.minimum.toString()} ${Q.unit}`;return`Muito pequeno: esperado que ${J.origin} fosse ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Texto inv\xE1lido: deve come\xE7ar com "${Y.prefix}"`;if(Y.format==="ends_with")return`Texto inv\xE1lido: deve terminar com "${Y.suffix}"`;if(Y.format==="includes")return`Texto inv\xE1lido: deve incluir "${Y.includes}"`;if(Y.format==="regex")return`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${Y.pattern}`;return`${G[Y.format]??J.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${J.divisor}`;case"unrecognized_keys":return`Chave${J.keys.length>1?"s":""} desconhecida${J.keys.length>1?"s":""}: ${T(J.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${J.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${J.origin}`;default:return"Campo inv\xE1lido"}}};function Uj(){return{localeError:wf()}}function GA($,U,X,G){let J=Math.abs($),Y=J%10,Q=J%100;if(Q>=11&&Q<=19)return G;if(Y===1)return U;if(Y>=2&&Y<=4)return X;return G}var Nf=()=>{let $={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${J.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${p(J.values[0])}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q){let w=Number(J.maximum),N=GA(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${Y}${J.maximum.toString()} ${N}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q){let w=Number(J.minimum),N=GA(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${Y}${J.minimum.toString()} ${N}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin} \u0431\u0443\u0434\u0435\u0442 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${J.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${J.keys.length>1?"\u0438":""}: ${T(J.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${J.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${J.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function Jj(){return{localeError:Nf()}}var jf=()=>{let $={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(J))return"tabela";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return(J)=>{switch(J.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${J.expected}, prejeto ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Neveljaven vnos: pri\u010Dakovano ${p(J.values[0])}`;return`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Preveliko: pri\u010Dakovano, da bo ${J.origin??"vrednost"} imelo ${Y}${J.maximum.toString()} ${Q.unit??"elementov"}`;return`Preveliko: pri\u010Dakovano, da bo ${J.origin??"vrednost"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Premajhno: pri\u010Dakovano, da bo ${J.origin} imelo ${Y}${J.minimum.toString()} ${Q.unit}`;return`Premajhno: pri\u010Dakovano, da bo ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Neveljaven niz: mora se za\u010Deti z "${Y.prefix}"`;if(Y.format==="ends_with")return`Neveljaven niz: mora se kon\u010Dati z "${Y.suffix}"`;if(Y.format==="includes")return`Neveljaven niz: mora vsebovati "${Y.includes}"`;if(Y.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${Y.pattern}`;return`Neveljaven ${G[Y.format]??J.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${J.divisor}`;case"unrecognized_keys":return`Neprepoznan${J.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${T(J.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${J.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${J.origin}`;default:return"Neveljaven vnos"}}};function Xj(){return{localeError:jf()}}var Hf=()=>{let $={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"antal";case"object":{if(Array.isArray(J))return"lista";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return(J)=>{switch(J.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${J.expected}, fick ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ogiltig inmatning: f\xF6rv\xE4ntat ${p(J.values[0])}`;return`Ogiltigt val: f\xF6rv\xE4ntade en av ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`F\xF6r stor(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.maximum.toString()} ${Q.unit??"element"}`;return`F\xF6r stor(t): f\xF6rv\xE4ntat ${J.origin??"v\xE4rdet"} att ha ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`F\xF6r lite(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.minimum.toString()} ${Q.unit}`;return`F\xF6r lite(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${Y.prefix}"`;if(Y.format==="ends_with")return`Ogiltig str\xE4ng: m\xE5ste sluta med "${Y.suffix}"`;if(Y.format==="includes")return`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${Y.includes}"`;if(Y.format==="regex")return`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${Y.pattern}"`;return`Ogiltig(t) ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${T(J.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${J.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${J.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function Gj(){return{localeError:Hf()}}var Wf=()=>{let $={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(J))return"\u0B85\u0BA3\u0BBF";if(J===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${p(J.values[0])}`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${T(J.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${Y}${J.maximum.toString()} ${Q.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${Y}${J.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin} ${Y}${J.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="ends_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="includes")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="regex")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${Y.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${J.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${J.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${T(J.keys,", ")}`;case"invalid_key":return`${J.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${J.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function Yj(){return{localeError:Wf()}}var Kf=()=>{let $={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(J))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(J===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return(J)=>{switch(J.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${J.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${p(J.values[0])}`;return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",Q=U(J.origin);if(Q)return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.maximum.toString()} ${Q.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",Q=U(J.origin);if(Q)return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${Y.suffix}"`;if(Y.format==="includes")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${Y.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;if(Y.format==="regex")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${Y.pattern}`;return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${J.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${T(J.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${J.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${J.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function Qj(){return{localeError:Kf()}}var Of=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},zf=()=>{let $={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function U(G){return $[G]??null}let X={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return(G)=>{switch(G.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${G.expected}, al\u0131nan ${Of(G.input)}`;case"invalid_value":if(G.values.length===1)return`Ge\xE7ersiz de\u011Fer: beklenen ${p(G.values[0])}`;return`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${T(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`\xC7ok b\xFCy\xFCk: beklenen ${G.origin??"de\u011Fer"} ${J}${G.maximum.toString()} ${Y.unit??"\xF6\u011Fe"}`;return`\xC7ok b\xFCy\xFCk: beklenen ${G.origin??"de\u011Fer"} ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`\xC7ok k\xFC\xE7\xFCk: beklenen ${G.origin} ${J}${G.minimum.toString()} ${Y.unit}`;return`\xC7ok k\xFC\xE7\xFCk: beklenen ${G.origin} ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Ge\xE7ersiz metin: "${J.prefix}" ile ba\u015Flamal\u0131`;if(J.format==="ends_with")return`Ge\xE7ersiz metin: "${J.suffix}" ile bitmeli`;if(J.format==="includes")return`Ge\xE7ersiz metin: "${J.includes}" i\xE7ermeli`;if(J.format==="regex")return`Ge\xE7ersiz metin: ${J.pattern} desenine uymal\u0131`;return`Ge\xE7ersiz ${X[J.format]??G.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${G.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${G.keys.length>1?"lar":""}: ${T(G.keys,", ")}`;case"invalid_key":return`${G.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${G.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function wj(){return{localeError:zf()}}var Df=()=>{let $={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0438\u0432";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${J.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${p(J.values[0])}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin} \u0431\u0443\u0434\u0435 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${J.keys.length>1?"\u0456":""}: ${T(J.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${J.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${J.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function Nj(){return{localeError:Df()}}var Vf=()=>{let $={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(J))return"\u0622\u0631\u06D2";if(J===null)return"\u0646\u0644";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return(J)=>{switch(J.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${J.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${X(J.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":if(J.values.length===1)return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${p(J.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;return`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${T(J.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${J.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${J.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${Y}${J.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${J.origin} \u06A9\u06D2 ${Y}${J.minimum.toString()} ${Q.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${J.origin} \u06A9\u0627 ${Y}${J.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="ends_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="includes")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="regex")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${Y.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;return`\u063A\u0644\u0637 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${J.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${J.keys.length>1?"\u0632":""}: ${T(J.keys,"\u060C ")}`;case"invalid_key":return`${J.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${J.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function jj(){return{localeError:Vf()}}var Bf=()=>{let $={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(J))return"m\u1EA3ng";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return(J)=>{switch(J.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${J.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${p(J.values[0])}`;return`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${J.origin??"gi\xE1 tr\u1ECB"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"ph\u1EA7n t\u1EED"}`;return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${J.origin??"gi\xE1 tr\u1ECB"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${Y.prefix}"`;if(Y.format==="ends_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${Y.suffix}"`;if(Y.format==="includes")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${Y.includes}"`;if(Y.format==="regex")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${Y.pattern}`;return`${G[Y.format]??J.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${J.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${T(J.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${J.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${J.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function Hj(){return{localeError:Bf()}}var _f=()=>{let $={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(J))return"\u6570\u7EC4";if(J===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return(J)=>{switch(J.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${J.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${p(J.values[0])}`;return`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${J.origin??"\u503C"} ${Y}${J.maximum.toString()} ${Q.unit??"\u4E2A\u5143\u7D20"}`;return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${J.origin??"\u503C"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${Y.prefix}" \u5F00\u5934`;if(Y.format==="ends_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${Y.suffix}" \u7ED3\u5C3E`;if(Y.format==="includes")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${Y.includes}"`;if(Y.format==="regex")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${Y.pattern}`;return`\u65E0\u6548${G[Y.format]??J.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${J.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${T(J.keys,", ")}`;case"invalid_key":return`${J.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${J.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function Wj(){return{localeError:_f()}}var Mf=()=>{let $={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return(J)=>{switch(J.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${J.expected}\uFF0C\u4F46\u6536\u5230 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${p(J.values[0])}`;return`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${T(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${J.origin??"\u503C"} \u61C9\u70BA ${Y}${J.maximum.toString()} ${Q.unit??"\u500B\u5143\u7D20"}`;return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${J.origin??"\u503C"} \u61C9\u70BA ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${J.origin} \u61C9\u70BA ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${J.origin} \u61C9\u70BA ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${Y.prefix}" \u958B\u982D`;if(Y.format==="ends_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${Y.suffix}" \u7D50\u5C3E`;if(Y.format==="includes")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${Y.includes}"`;if(Y.format==="regex")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${Y.pattern}`;return`\u7121\u6548\u7684 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${J.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${J.keys.length>1?"\u5011":""}\uFF1A${T(J.keys,"\u3001")}`;case"invalid_key":return`${J.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${J.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function Kj(){return{localeError:Mf()}}var Oj=Symbol("ZodOutput"),zj=Symbol("ZodInput");class D8{constructor(){this._map=new Map,this._idmap=new Map}add($,...U){let X=U[0];if(this._map.set($,X),X&&typeof X==="object"&&"id"in X){if(this._idmap.has(X.id))throw Error(`ID ${X.id} already exists in the registry`);this._idmap.set(X.id,$)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove($){let U=this._map.get($);if(U&&typeof U==="object"&&"id"in U)this._idmap.delete(U.id);return this._map.delete($),this}get($){let U=$._zod.parent;if(U){let X={...this.get(U)??{}};return delete X.id,{...X,...this._map.get($)}}return this._map.get($)}has($){return this._map.has($)}}function xG(){return new D8}var i4=xG();function Dj($,U){return new $({type:"string",...c(U)})}function Vj($,U){return new $({type:"string",coerce:!0,...c(U)})}function fG($,U){return new $({type:"string",format:"email",check:"string_format",abort:!1,...c(U)})}function V8($,U){return new $({type:"string",format:"guid",check:"string_format",abort:!1,...c(U)})}function hG($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,...c(U)})}function gG($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...c(U)})}function bG($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...c(U)})}function mG($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...c(U)})}function uG($,U){return new $({type:"string",format:"url",check:"string_format",abort:!1,...c(U)})}function yG($,U){return new $({type:"string",format:"emoji",check:"string_format",abort:!1,...c(U)})}function lG($,U){return new $({type:"string",format:"nanoid",check:"string_format",abort:!1,...c(U)})}function cG($,U){return new $({type:"string",format:"cuid",check:"string_format",abort:!1,...c(U)})}function iG($,U){return new $({type:"string",format:"cuid2",check:"string_format",abort:!1,...c(U)})}function nG($,U){return new $({type:"string",format:"ulid",check:"string_format",abort:!1,...c(U)})}function pG($,U){return new $({type:"string",format:"xid",check:"string_format",abort:!1,...c(U)})}function dG($,U){return new $({type:"string",format:"ksuid",check:"string_format",abort:!1,...c(U)})}function oG($,U){return new $({type:"string",format:"ipv4",check:"string_format",abort:!1,...c(U)})}function rG($,U){return new $({type:"string",format:"ipv6",check:"string_format",abort:!1,...c(U)})}function tG($,U){return new $({type:"string",format:"cidrv4",check:"string_format",abort:!1,...c(U)})}function aG($,U){return new $({type:"string",format:"cidrv6",check:"string_format",abort:!1,...c(U)})}function sG($,U){return new $({type:"string",format:"base64",check:"string_format",abort:!1,...c(U)})}function eG($,U){return new $({type:"string",format:"base64url",check:"string_format",abort:!1,...c(U)})}function $Y($,U){return new $({type:"string",format:"e164",check:"string_format",abort:!1,...c(U)})}function UY($,U){return new $({type:"string",format:"jwt",check:"string_format",abort:!1,...c(U)})}var Bj={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function _j($,U){return new $({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...c(U)})}function Mj($,U){return new $({type:"string",format:"date",check:"string_format",...c(U)})}function Fj($,U){return new $({type:"string",format:"time",check:"string_format",precision:null,...c(U)})}function Lj($,U){return new $({type:"string",format:"duration",check:"string_format",...c(U)})}function Aj($,U){return new $({type:"number",checks:[],...c(U)})}function qj($,U){return new $({type:"number",coerce:!0,checks:[],...c(U)})}function vj($,U){return new $({type:"number",check:"number_format",abort:!1,format:"safeint",...c(U)})}function Pj($,U){return new $({type:"number",check:"number_format",abort:!1,format:"float32",...c(U)})}function Ej($,U){return new $({type:"number",check:"number_format",abort:!1,format:"float64",...c(U)})}function Sj($,U){return new $({type:"number",check:"number_format",abort:!1,format:"int32",...c(U)})}function Zj($,U){return new $({type:"number",check:"number_format",abort:!1,format:"uint32",...c(U)})}function Ij($,U){return new $({type:"boolean",...c(U)})}function Rj($,U){return new $({type:"boolean",coerce:!0,...c(U)})}function Tj($,U){return new $({type:"bigint",...c(U)})}function kj($,U){return new $({type:"bigint",coerce:!0,...c(U)})}function Cj($,U){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...c(U)})}function xj($,U){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...c(U)})}function fj($,U){return new $({type:"symbol",...c(U)})}function hj($,U){return new $({type:"undefined",...c(U)})}function gj($,U){return new $({type:"null",...c(U)})}function bj($){return new $({type:"any"})}function ZU($){return new $({type:"unknown"})}function mj($,U){return new $({type:"never",...c(U)})}function uj($,U){return new $({type:"void",...c(U)})}function yj($,U){return new $({type:"date",...c(U)})}function lj($,U){return new $({type:"date",coerce:!0,...c(U)})}function cj($,U){return new $({type:"nan",...c(U)})}function j1($,U){return new EG({check:"less_than",...c(U),value:$,inclusive:!1})}function X4($,U){return new EG({check:"less_than",...c(U),value:$,inclusive:!0})}function H1($,U){return new SG({check:"greater_than",...c(U),value:$,inclusive:!1})}function h6($,U){return new SG({check:"greater_than",...c(U),value:$,inclusive:!0})}function ij($){return H1(0,$)}function nj($){return j1(0,$)}function pj($){return X4(0,$)}function dj($){return h6(0,$)}function P0($,U){return new ww({check:"multiple_of",...c(U),value:$})}function IU($,U){return new Hw({check:"max_size",...c(U),maximum:$})}function E0($,U){return new Ww({check:"min_size",...c(U),minimum:$})}function B8($,U){return new Kw({check:"size_equals",...c(U),size:$})}function RU($,U){return new Ow({check:"max_length",...c(U),maximum:$})}function C1($,U){return new zw({check:"min_length",...c(U),minimum:$})}function TU($,U){return new Dw({check:"length_equals",...c(U),length:$})}function _8($,U){return new Vw({check:"string_format",format:"regex",...c(U),pattern:$})}function M8($){return new Bw({check:"string_format",format:"lowercase",...c($)})}function F8($){return new _w({check:"string_format",format:"uppercase",...c($)})}function L8($,U){return new Mw({check:"string_format",format:"includes",...c(U),includes:$})}function A8($,U){return new Fw({check:"string_format",format:"starts_with",...c(U),prefix:$})}function q8($,U){return new Lw({check:"string_format",format:"ends_with",...c(U),suffix:$})}function oj($,U,X){return new Aw({check:"property",property:$,schema:U,...c(X)})}function v8($,U){return new qw({check:"mime_type",mime:$,...c(U)})}function W1($){return new vw({check:"overwrite",tx:$})}function P8($){return W1((U)=>U.normalize($))}function E8(){return W1(($)=>$.trim())}function S8(){return W1(($)=>$.toLowerCase())}function Z8(){return W1(($)=>$.toUpperCase())}function I8($,U,X){return new $({type:"array",element:U,...c(X)})}function Ff($,U,X){return new $({type:"union",options:U,...c(X)})}function Lf($,U,X,G){return new $({type:"union",options:X,discriminator:U,...c(G)})}function Af($,U,X){return new $({type:"intersection",left:U,right:X})}function rj($,U,X,G){let J=X instanceof G$;return new $({type:"tuple",items:U,rest:J?X:null,...c(J?G:X)})}function qf($,U,X,G){return new $({type:"record",keyType:U,valueType:X,...c(G)})}function vf($,U,X,G){return new $({type:"map",keyType:U,valueType:X,...c(G)})}function Pf($,U,X){return new $({type:"set",valueType:U,...c(X)})}function Ef($,U,X){let G=Array.isArray(U)?Object.fromEntries(U.map((J)=>[J,J])):U;return new $({type:"enum",entries:G,...c(X)})}function Sf($,U,X){return new $({type:"enum",entries:U,...c(X)})}function Zf($,U,X){return new $({type:"literal",values:Array.isArray(U)?U:[U],...c(X)})}function tj($,U){return new $({type:"file",...c(U)})}function If($,U){return new $({type:"transform",transform:U})}function Rf($,U){return new $({type:"optional",innerType:U})}function Tf($,U){return new $({type:"nullable",innerType:U})}function kf($,U,X){return new $({type:"default",innerType:U,get defaultValue(){return typeof X==="function"?X():X}})}function Cf($,U,X){return new $({type:"nonoptional",innerType:U,...c(X)})}function xf($,U){return new $({type:"success",innerType:U})}function ff($,U,X){return new $({type:"catch",innerType:U,catchValue:typeof X==="function"?X:()=>X})}function hf($,U,X){return new $({type:"pipe",in:U,out:X})}function gf($,U){return new $({type:"readonly",innerType:U})}function bf($,U,X){return new $({type:"template_literal",parts:U,...c(X)})}function mf($,U){return new $({type:"lazy",getter:U})}function uf($,U){return new $({type:"promise",innerType:U})}function aj($,U,X){let G=c(X);return G.abort??(G.abort=!0),new $({type:"custom",check:"custom",fn:U,...G})}function sj($,U,X){return new $({type:"custom",check:"custom",fn:U,...c(X)})}function ej($,U){let X=c(U),G=X.truthy??["true","1","yes","on","y","enabled"],J=X.falsy??["false","0","no","off","n","disabled"];if(X.case!=="sensitive")G=G.map((O)=>typeof O==="string"?O.toLowerCase():O),J=J.map((O)=>typeof O==="string"?O.toLowerCase():O);let Y=new Set(G),Q=new Set(J),w=$.Pipe??K8,N=$.Boolean??j8,j=$.String??q0,K=new($.Transform??W8)({type:"transform",transform:(O,D)=>{let B=O;if(X.case!=="sensitive")B=B.toLowerCase();if(Y.has(B))return!0;else if(Q.has(B))return!1;else return D.issues.push({code:"invalid_value",expected:"stringbool",values:[...Y,...Q],input:D.value,inst:K}),{}},error:X.error}),z=new w({type:"pipe",in:new j({type:"string",error:X.error}),out:K,error:X.error});return new w({type:"pipe",in:z,out:new N({type:"boolean",error:X.error}),error:X.error})}function $H($,U,X,G={}){let J=c(G),Y={...c(G),check:"string_format",type:"string",format:U,fn:typeof X==="function"?X:(w)=>X.test(w),...J};if(X instanceof RegExp)Y.pattern=X;return new $(Y)}class UH{constructor($){this._def=$,this.def=$}implement($){if(typeof $!=="function")throw Error("implement() must be called with a function");let U=(...X)=>{let G=this._def.input?FG(this._def.input,X,void 0,{callee:U}):X;if(!Array.isArray(G))throw Error("Invalid arguments schema: not an array or tuple schema.");let J=$(...G);return this._def.output?FG(this._def.output,J,void 0,{callee:U}):J};return U}implementAsync($){if(typeof $!=="function")throw Error("implement() must be called with a function");let U=async(...X)=>{let G=this._def.input?await AG(this._def.input,X,void 0,{callee:U}):X;if(!Array.isArray(G))throw Error("Invalid arguments schema: not an array or tuple schema.");let J=await $(...G);return this._def.output?AG(this._def.output,J,void 0,{callee:U}):J};return U}input(...$){let U=this.constructor;if(Array.isArray($[0]))return new U({type:"function",input:new v0({type:"tuple",items:$[0],rest:$[1]}),output:this._def.output});return new U({type:"function",input:$[0],output:this._def.output})}output($){return new this.constructor({type:"function",input:this._def.input,output:$})}}function JH($){return new UH({type:"function",input:Array.isArray($?.input)?rj(v0,$?.input):$?.input??I8(H8,ZU(SU)),output:$?.output??ZU(SU)})}class JY{constructor($){this.counter=0,this.metadataRegistry=$?.metadata??i4,this.target=$?.target??"draft-2020-12",this.unrepresentable=$?.unrepresentable??"throw",this.override=$?.override??(()=>{}),this.io=$?.io??"output",this.seen=new Map}process($,U={path:[],schemaPath:[]}){var X;let G=$._zod.def,J={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Y=this.seen.get($);if(Y){if(Y.count++,U.schemaPath.includes($))Y.cycle=U.path;return Y.schema}let Q={schema:{},count:1,cycle:void 0,path:U.path};this.seen.set($,Q);let w=$._zod.toJSONSchema?.();if(w)Q.schema=w;else{let H={...U,schemaPath:[...U.schemaPath,$],path:U.path},K=$._zod.parent;if(K)Q.ref=K,this.process(K,H),this.seen.get(K).isParent=!0;else{let z=Q.schema;switch(G.type){case"string":{let W=z;W.type="string";let{minimum:O,maximum:D,format:B,patterns:v,contentEncoding:E}=$._zod.bag;if(typeof O==="number")W.minLength=O;if(typeof D==="number")W.maxLength=D;if(B){if(W.format=J[B]??B,W.format==="")delete W.format}if(E)W.contentEncoding=E;if(v&&v.size>0){let L=[...v];if(L.length===1)W.pattern=L[0].source;else if(L.length>1)Q.schema.allOf=[...L.map((M)=>({...this.target==="draft-7"?{type:"string"}:{},pattern:M.source}))]}break}case"number":{let W=z,{minimum:O,maximum:D,format:B,multipleOf:v,exclusiveMaximum:E,exclusiveMinimum:L}=$._zod.bag;if(typeof B==="string"&&B.includes("int"))W.type="integer";else W.type="number";if(typeof L==="number")W.exclusiveMinimum=L;if(typeof O==="number"){if(W.minimum=O,typeof L==="number")if(L>=O)delete W.minimum;else delete W.exclusiveMinimum}if(typeof E==="number")W.exclusiveMaximum=E;if(typeof D==="number"){if(W.maximum=D,typeof E==="number")if(E<=D)delete W.maximum;else delete W.exclusiveMaximum}if(typeof v==="number")W.multipleOf=v;break}case"boolean":{let W=z;W.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{z.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{z.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let W=z,{minimum:O,maximum:D}=$._zod.bag;if(typeof O==="number")W.minItems=O;if(typeof D==="number")W.maxItems=D;W.type="array",W.items=this.process(G.element,{...H,path:[...H.path,"items"]});break}case"object":{let W=z;W.type="object",W.properties={};let O=G.shape;for(let v in O)W.properties[v]=this.process(O[v],{...H,path:[...H.path,"properties",v]});let D=new Set(Object.keys(O)),B=new Set([...D].filter((v)=>{let E=G.shape[v]._zod;if(this.io==="input")return E.optin===void 0;else return E.optout===void 0}));if(B.size>0)W.required=Array.from(B);if(G.catchall?._zod.def.type==="never")W.additionalProperties=!1;else if(!G.catchall){if(this.io==="output")W.additionalProperties=!1}else if(G.catchall)W.additionalProperties=this.process(G.catchall,{...H,path:[...H.path,"additionalProperties"]});break}case"union":{let W=z;W.anyOf=G.options.map((O,D)=>this.process(O,{...H,path:[...H.path,"anyOf",D]}));break}case"intersection":{let W=z,O=this.process(G.left,{...H,path:[...H.path,"allOf",0]}),D=this.process(G.right,{...H,path:[...H.path,"allOf",1]}),B=(E)=>("allOf"in E)&&Object.keys(E).length===1,v=[...B(O)?O.allOf:[O],...B(D)?D.allOf:[D]];W.allOf=v;break}case"tuple":{let W=z;W.type="array";let O=G.items.map((v,E)=>this.process(v,{...H,path:[...H.path,"prefixItems",E]}));if(this.target==="draft-2020-12")W.prefixItems=O;else W.items=O;if(G.rest){let v=this.process(G.rest,{...H,path:[...H.path,"items"]});if(this.target==="draft-2020-12")W.items=v;else W.additionalItems=v}if(G.rest)W.items=this.process(G.rest,{...H,path:[...H.path,"items"]});let{minimum:D,maximum:B}=$._zod.bag;if(typeof D==="number")W.minItems=D;if(typeof B==="number")W.maxItems=B;break}case"record":{let W=z;W.type="object",W.propertyNames=this.process(G.keyType,{...H,path:[...H.path,"propertyNames"]}),W.additionalProperties=this.process(G.valueType,{...H,path:[...H.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let W=z,O=$8(G.entries);if(O.every((D)=>typeof D==="number"))W.type="number";if(O.every((D)=>typeof D==="string"))W.type="string";W.enum=O;break}case"literal":{let W=z,O=[];for(let D of G.values)if(D===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof D==="bigint")if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else O.push(Number(D));else O.push(D);if(O.length===0);else if(O.length===1){let D=O[0];W.type=D===null?"null":typeof D,W.const=D}else{if(O.every((D)=>typeof D==="number"))W.type="number";if(O.every((D)=>typeof D==="string"))W.type="string";if(O.every((D)=>typeof D==="boolean"))W.type="string";if(O.every((D)=>D===null))W.type="null";W.enum=O}break}case"file":{let W=z,O={type:"string",format:"binary",contentEncoding:"binary"},{minimum:D,maximum:B,mime:v}=$._zod.bag;if(D!==void 0)O.minLength=D;if(B!==void 0)O.maxLength=B;if(v)if(v.length===1)O.contentMediaType=v[0],Object.assign(W,O);else W.anyOf=v.map((E)=>{return{...O,contentMediaType:E}});else Object.assign(W,O);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let W=this.process(G.innerType,H);z.anyOf=[W,{type:"null"}];break}case"nonoptional":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"success":{let W=z;W.type="boolean";break}case"default":{this.process(G.innerType,H),Q.ref=G.innerType,z.default=JSON.parse(JSON.stringify(G.defaultValue));break}case"prefault":{if(this.process(G.innerType,H),Q.ref=G.innerType,this.io==="input")z._prefault=JSON.parse(JSON.stringify(G.defaultValue));break}case"catch":{this.process(G.innerType,H),Q.ref=G.innerType;let W;try{W=G.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}z.default=W;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let W=z,O=$._zod.pattern;if(!O)throw Error("Pattern not found in template literal");W.type="string",W.pattern=O.source;break}case"pipe":{let W=this.io==="input"?G.in._zod.def.type==="transform"?G.out:G.in:G.out;this.process(W,H),Q.ref=W;break}case"readonly":{this.process(G.innerType,H),Q.ref=G.innerType,z.readOnly=!0;break}case"promise":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"optional":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"lazy":{let W=$._zod.innerType;this.process(W,H),Q.ref=W;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}default:}}}let N=this.metadataRegistry.get($);if(N)Object.assign(Q.schema,N);if(this.io==="input"&&j6($))delete Q.schema.examples,delete Q.schema.default;if(this.io==="input"&&Q.schema._prefault)(X=Q.schema).default??(X.default=Q.schema._prefault);return delete Q.schema._prefault,this.seen.get($).schema}emit($,U){let X={cycles:U?.cycles??"ref",reused:U?.reused??"inline",external:U?.external??void 0},G=this.seen.get($);if(!G)throw Error("Unprocessed schema. This is a bug in Zod.");let J=(j)=>{let H=this.target==="draft-2020-12"?"$defs":"definitions";if(X.external){let O=X.external.registry.get(j[0])?.id,D=X.external.uri??((v)=>v);if(O)return{ref:D(O)};let B=j[1].defId??j[1].schema.id??`schema${this.counter++}`;return j[1].defId=B,{defId:B,ref:`${D("__shared")}#/${H}/${B}`}}if(j[1]===G)return{ref:"#"};let z=`${"#"}/${H}/`,W=j[1].schema.id??`__schema${this.counter++}`;return{defId:W,ref:z+W}},Y=(j)=>{if(j[1].schema.$ref)return;let H=j[1],{ref:K,defId:z}=J(j);if(H.def={...H.schema},z)H.defId=z;let W=H.schema;for(let O in W)delete W[O];W.$ref=K};if(X.cycles==="throw")for(let j of this.seen.entries()){let H=j[1];if(H.cycle)throw Error(`Cycle detected: #/${H.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let j of this.seen.entries()){let H=j[1];if($===j[0]){Y(j);continue}if(X.external){let z=X.external.registry.get(j[0])?.id;if($!==j[0]&&z){Y(j);continue}}if(this.metadataRegistry.get(j[0])?.id){Y(j);continue}if(H.cycle){Y(j);continue}if(H.count>1){if(X.reused==="ref"){Y(j);continue}}}let Q=(j,H)=>{let K=this.seen.get(j),z=K.def??K.schema,W={...z};if(K.ref===null)return;let O=K.ref;if(K.ref=null,O){Q(O,H);let D=this.seen.get(O).schema;if(D.$ref&&H.target==="draft-7")z.allOf=z.allOf??[],z.allOf.push(D);else Object.assign(z,D),Object.assign(z,W)}if(!K.isParent)this.override({zodSchema:j,jsonSchema:z,path:K.path??[]})};for(let j of[...this.seen.entries()].reverse())Q(j[0],{target:this.target});let w={};if(this.target==="draft-2020-12")w.$schema="https://json-schema.org/draft/2020-12/schema";else if(this.target==="draft-7")w.$schema="http://json-schema.org/draft-07/schema#";else console.warn(`Invalid target: ${this.target}`);if(X.external?.uri){let j=X.external.registry.get($)?.id;if(!j)throw Error("Schema is missing an `id` property");w.$id=X.external.uri(j)}Object.assign(w,G.def);let N=X.external?.defs??{};for(let j of this.seen.entries()){let H=j[1];if(H.def&&H.defId)N[H.defId]=H.def}if(X.external);else if(Object.keys(N).length>0)if(this.target==="draft-2020-12")w.$defs=N;else w.definitions=N;try{return JSON.parse(JSON.stringify(w))}catch(j){throw Error("Error converting schema to JSON.")}}}function XH($,U){if($ instanceof D8){let G=new JY(U),J={};for(let w of $._idmap.entries()){let[N,j]=w;G.process(j)}let Y={},Q={registry:$,uri:U?.uri,defs:J};for(let w of $._idmap.entries()){let[N,j]=w;Y[N]=G.emit(j,{...U,external:Q})}if(Object.keys(J).length>0){let w=G.target==="draft-2020-12"?"$defs":"definitions";Y.__shared={[w]:J}}return{schemas:Y}}let X=new JY(U);return X.process($),X.emit($,U)}function j6($,U){let X=U??{seen:new Set};if(X.seen.has($))return!1;X.seen.add($);let J=$._zod.def;switch(J.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return j6(J.element,X);case"object":{for(let Y in J.shape)if(j6(J.shape[Y],X))return!0;return!1}case"union":{for(let Y of J.options)if(j6(Y,X))return!0;return!1}case"intersection":return j6(J.left,X)||j6(J.right,X);case"tuple":{for(let Y of J.items)if(j6(Y,X))return!0;if(J.rest&&j6(J.rest,X))return!0;return!1}case"record":return j6(J.keyType,X)||j6(J.valueType,X);case"map":return j6(J.keyType,X)||j6(J.valueType,X);case"set":return j6(J.valueType,X);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return j6(J.innerType,X);case"lazy":return j6(J.getter(),X);case"default":return j6(J.innerType,X);case"prefault":return j6(J.innerType,X);case"custom":return!1;case"transform":return!0;case"pipe":return j6(J.in,X)||j6(J.out,X);case"success":return!1;case"catch":return!1;default:}throw Error(`Unknown schema type: ${J.type}`)}var YA={};var wY={};H6(wY,{time:()=>QH,duration:()=>wH,datetime:()=>GH,date:()=>YH,ZodISOTime:()=>YY,ZodISODuration:()=>QY,ZodISODateTime:()=>XY,ZodISODate:()=>GY});var XY=q("ZodISODateTime",($,U)=>{bw.init($,U),m$.init($,U)});function GH($){return _j(XY,$)}var GY=q("ZodISODate",($,U)=>{mw.init($,U),m$.init($,U)});function YH($){return Mj(GY,$)}var YY=q("ZodISOTime",($,U)=>{uw.init($,U),m$.init($,U)});function QH($){return Fj(YY,$)}var QY=q("ZodISODuration",($,U)=>{yw.init($,U),m$.init($,U)});function wH($){return Lj(QY,$)}var wA=($,U)=>{Q8.init($,U),$.name="ZodError",Object.defineProperties($,{format:{value:(X)=>N8($,X)},flatten:{value:(X)=>w8($,X)},addIssue:{value:(X)=>$.issues.push(X)},addIssues:{value:(X)=>$.issues.push(...X)},isEmpty:{get(){return $.issues.length===0}}})},lf=q("ZodError",wA),kU=q("ZodError",wA,{Parent:Error});var NH=MG(kU),jH=LG(kU),HH=qG(kU),WH=vG(kU);var W$=q("ZodType",($,U)=>{return G$.init($,U),$.def=U,Object.defineProperty($,"_def",{value:U}),$.check=(...X)=>{return $.clone({...U,checks:[...U.checks??[],...X.map((G)=>typeof G==="function"?{_zod:{check:G,def:{check:"custom"},onattach:[]}}:G)]})},$.clone=(X,G)=>l6($,X,G),$.brand=()=>$,$.register=(X,G)=>{return X.add($,G),$},$.parse=(X,G)=>NH($,X,G,{callee:$.parse}),$.safeParse=(X,G)=>HH($,X,G),$.parseAsync=async(X,G)=>jH($,X,G,{callee:$.parseAsync}),$.safeParseAsync=async(X,G)=>WH($,X,G),$.spa=$.safeParseAsync,$.refine=(X,G)=>$.check(oA(X,G)),$.superRefine=(X)=>$.check(rA(X)),$.overwrite=(X)=>$.check(W1(X)),$.optional=()=>HY($),$.nullable=()=>WY($),$.nullish=()=>HY(WY($)),$.nonoptional=(X)=>hA($,X),$.array=()=>CH($),$.or=(X)=>VY([$,X]),$.and=(X)=>AA($,X),$.transform=(X)=>KY($,gH(X)),$.default=(X)=>CA($,X),$.prefault=(X)=>fA($,X),$.catch=(X)=>mA($,X),$.pipe=(X)=>KY($,X),$.readonly=()=>lA($),$.describe=(X)=>{let G=$.clone();return i4.add(G,{description:X}),G},Object.defineProperty($,"description",{get(){return i4.get($)?.description},configurable:!0}),$.meta=(...X)=>{if(X.length===0)return i4.get($);let G=$.clone();return i4.add(G,X[0]),G},$.isOptional=()=>$.safeParse(void 0).success,$.isNullable=()=>$.safeParse(null).success,$}),zH=q("_ZodString",($,U)=>{q0.init($,U),W$.init($,U);let X=$._zod.bag;$.format=X.format??null,$.minLength=X.minimum??null,$.maxLength=X.maximum??null,$.regex=(...G)=>$.check(_8(...G)),$.includes=(...G)=>$.check(L8(...G)),$.startsWith=(...G)=>$.check(A8(...G)),$.endsWith=(...G)=>$.check(q8(...G)),$.min=(...G)=>$.check(C1(...G)),$.max=(...G)=>$.check(RU(...G)),$.length=(...G)=>$.check(TU(...G)),$.nonempty=(...G)=>$.check(C1(1,...G)),$.lowercase=(G)=>$.check(M8(G)),$.uppercase=(G)=>$.check(F8(G)),$.trim=()=>$.check(E8()),$.normalize=(...G)=>$.check(P8(...G)),$.toLowerCase=()=>$.check(S8()),$.toUpperCase=()=>$.check(Z8())}),T8=q("ZodString",($,U)=>{q0.init($,U),zH.init($,U),$.email=(X)=>$.check(fG(DH,X)),$.url=(X)=>$.check(uG(VH,X)),$.jwt=(X)=>$.check(UY(TH,X)),$.emoji=(X)=>$.check(yG(BH,X)),$.guid=(X)=>$.check(V8(NY,X)),$.uuid=(X)=>$.check(hG(O1,X)),$.uuidv4=(X)=>$.check(gG(O1,X)),$.uuidv6=(X)=>$.check(bG(O1,X)),$.uuidv7=(X)=>$.check(mG(O1,X)),$.nanoid=(X)=>$.check(lG(_H,X)),$.guid=(X)=>$.check(V8(NY,X)),$.cuid=(X)=>$.check(cG(MH,X)),$.cuid2=(X)=>$.check(iG(FH,X)),$.ulid=(X)=>$.check(nG(LH,X)),$.base64=(X)=>$.check(sG(ZH,X)),$.base64url=(X)=>$.check(eG(IH,X)),$.xid=(X)=>$.check(pG(AH,X)),$.ksuid=(X)=>$.check(dG(qH,X)),$.ipv4=(X)=>$.check(oG(vH,X)),$.ipv6=(X)=>$.check(rG(PH,X)),$.cidrv4=(X)=>$.check(tG(EH,X)),$.cidrv6=(X)=>$.check(aG(SH,X)),$.e164=(X)=>$.check($Y(RH,X)),$.datetime=(X)=>$.check(GH(X)),$.date=(X)=>$.check(YH(X)),$.time=(X)=>$.check(QH(X)),$.duration=(X)=>$.check(wH(X))});function KH($){return Dj(T8,$)}var m$=q("ZodStringFormat",($,U)=>{f$.init($,U),zH.init($,U)}),DH=q("ZodEmail",($,U)=>{Iw.init($,U),m$.init($,U)});function nf($){return fG(DH,$)}var NY=q("ZodGUID",($,U)=>{Sw.init($,U),m$.init($,U)});function pf($){return V8(NY,$)}var O1=q("ZodUUID",($,U)=>{Zw.init($,U),m$.init($,U)});function df($){return hG(O1,$)}function of($){return gG(O1,$)}function rf($){return bG(O1,$)}function tf($){return mG(O1,$)}var VH=q("ZodURL",($,U)=>{Rw.init($,U),m$.init($,U)});function af($){return uG(VH,$)}var BH=q("ZodEmoji",($,U)=>{Tw.init($,U),m$.init($,U)});function sf($){return yG(BH,$)}var _H=q("ZodNanoID",($,U)=>{kw.init($,U),m$.init($,U)});function ef($){return lG(_H,$)}var MH=q("ZodCUID",($,U)=>{Cw.init($,U),m$.init($,U)});function $h($){return cG(MH,$)}var FH=q("ZodCUID2",($,U)=>{xw.init($,U),m$.init($,U)});function Uh($){return iG(FH,$)}var LH=q("ZodULID",($,U)=>{fw.init($,U),m$.init($,U)});function Jh($){return nG(LH,$)}var AH=q("ZodXID",($,U)=>{hw.init($,U),m$.init($,U)});function Xh($){return pG(AH,$)}var qH=q("ZodKSUID",($,U)=>{gw.init($,U),m$.init($,U)});function Gh($){return dG(qH,$)}var vH=q("ZodIPv4",($,U)=>{lw.init($,U),m$.init($,U)});function Yh($){return oG(vH,$)}var PH=q("ZodIPv6",($,U)=>{cw.init($,U),m$.init($,U)});function Qh($){return rG(PH,$)}var EH=q("ZodCIDRv4",($,U)=>{iw.init($,U),m$.init($,U)});function wh($){return tG(EH,$)}var SH=q("ZodCIDRv6",($,U)=>{nw.init($,U),m$.init($,U)});function Nh($){return aG(SH,$)}var ZH=q("ZodBase64",($,U)=>{dw.init($,U),m$.init($,U)});function jh($){return sG(ZH,$)}var IH=q("ZodBase64URL",($,U)=>{ow.init($,U),m$.init($,U)});function Hh($){return eG(IH,$)}var RH=q("ZodE164",($,U)=>{rw.init($,U),m$.init($,U)});function Wh($){return $Y(RH,$)}var TH=q("ZodJWT",($,U)=>{tw.init($,U),m$.init($,U)});function Kh($){return UY(TH,$)}var NA=q("ZodCustomStringFormat",($,U)=>{aw.init($,U),m$.init($,U)});function Oh($,U,X={}){return $H(NA,$,U,X)}var k8=q("ZodNumber",($,U)=>{TG.init($,U),W$.init($,U),$.gt=(G,J)=>$.check(H1(G,J)),$.gte=(G,J)=>$.check(h6(G,J)),$.min=(G,J)=>$.check(h6(G,J)),$.lt=(G,J)=>$.check(j1(G,J)),$.lte=(G,J)=>$.check(X4(G,J)),$.max=(G,J)=>$.check(X4(G,J)),$.int=(G)=>$.check(OH(G)),$.safe=(G)=>$.check(OH(G)),$.positive=(G)=>$.check(H1(0,G)),$.nonnegative=(G)=>$.check(h6(0,G)),$.negative=(G)=>$.check(j1(0,G)),$.nonpositive=(G)=>$.check(X4(0,G)),$.multipleOf=(G,J)=>$.check(P0(G,J)),$.step=(G,J)=>$.check(P0(G,J)),$.finite=()=>$;let X=$._zod.bag;$.minValue=Math.max(X.minimum??Number.NEGATIVE_INFINITY,X.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,$.maxValue=Math.min(X.maximum??Number.POSITIVE_INFINITY,X.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,$.isInt=(X.format??"").includes("int")||Number.isSafeInteger(X.multipleOf??0.5),$.isFinite=!0,$.format=X.format??null});function jA($){return Aj(k8,$)}var CU=q("ZodNumberFormat",($,U)=>{sw.init($,U),k8.init($,U)});function OH($){return vj(CU,$)}function zh($){return Pj(CU,$)}function Dh($){return Ej(CU,$)}function Vh($){return Sj(CU,$)}function Bh($){return Zj(CU,$)}var C8=q("ZodBoolean",($,U)=>{j8.init($,U),W$.init($,U)});function HA($){return Ij(C8,$)}var x8=q("ZodBigInt",($,U)=>{kG.init($,U),W$.init($,U),$.gte=(G,J)=>$.check(h6(G,J)),$.min=(G,J)=>$.check(h6(G,J)),$.gt=(G,J)=>$.check(H1(G,J)),$.gte=(G,J)=>$.check(h6(G,J)),$.min=(G,J)=>$.check(h6(G,J)),$.lt=(G,J)=>$.check(j1(G,J)),$.lte=(G,J)=>$.check(X4(G,J)),$.max=(G,J)=>$.check(X4(G,J)),$.positive=(G)=>$.check(H1(BigInt(0),G)),$.negative=(G)=>$.check(j1(BigInt(0),G)),$.nonpositive=(G)=>$.check(X4(BigInt(0),G)),$.nonnegative=(G)=>$.check(h6(BigInt(0),G)),$.multipleOf=(G,J)=>$.check(P0(G,J));let X=$._zod.bag;$.minValue=X.minimum??null,$.maxValue=X.maximum??null,$.format=X.format??null});function _h($){return Tj(x8,$)}var kH=q("ZodBigIntFormat",($,U)=>{ew.init($,U),x8.init($,U)});function Mh($){return Cj(kH,$)}function Fh($){return xj(kH,$)}var WA=q("ZodSymbol",($,U)=>{$N.init($,U),W$.init($,U)});function Lh($){return fj(WA,$)}var KA=q("ZodUndefined",($,U)=>{UN.init($,U),W$.init($,U)});function Ah($){return hj(KA,$)}var OA=q("ZodNull",($,U)=>{JN.init($,U),W$.init($,U)});function zA($){return gj(OA,$)}var DA=q("ZodAny",($,U)=>{XN.init($,U),W$.init($,U)});function qh(){return bj(DA)}var VA=q("ZodUnknown",($,U)=>{SU.init($,U),W$.init($,U)});function jY(){return ZU(VA)}var BA=q("ZodNever",($,U)=>{GN.init($,U),W$.init($,U)});function OY($){return mj(BA,$)}var _A=q("ZodVoid",($,U)=>{YN.init($,U),W$.init($,U)});function vh($){return uj(_A,$)}var zY=q("ZodDate",($,U)=>{QN.init($,U),W$.init($,U),$.min=(G,J)=>$.check(h6(G,J)),$.max=(G,J)=>$.check(X4(G,J));let X=$._zod.bag;$.minDate=X.minimum?new Date(X.minimum):null,$.maxDate=X.maximum?new Date(X.maximum):null});function Ph($){return yj(zY,$)}var MA=q("ZodArray",($,U)=>{H8.init($,U),W$.init($,U),$.element=U.element,$.min=(X,G)=>$.check(C1(X,G)),$.nonempty=(X)=>$.check(C1(1,X)),$.max=(X,G)=>$.check(RU(X,G)),$.length=(X,G)=>$.check(TU(X,G)),$.unwrap=()=>$.element});function CH($,U){return I8(MA,$,U)}function Eh($){let U=$._zod.def.shape;return IA(Object.keys(U))}var DY=q("ZodObject",($,U)=>{wN.init($,U),W$.init($,U),d.defineLazy($,"shape",()=>U.shape),$.keyof=()=>SA(Object.keys($._zod.def.shape)),$.catchall=(X)=>$.clone({...$._zod.def,catchall:X}),$.passthrough=()=>$.clone({...$._zod.def,catchall:jY()}),$.loose=()=>$.clone({...$._zod.def,catchall:jY()}),$.strict=()=>$.clone({...$._zod.def,catchall:OY()}),$.strip=()=>$.clone({...$._zod.def,catchall:void 0}),$.extend=(X)=>{return d.extend($,X)},$.merge=(X)=>d.merge($,X),$.pick=(X)=>d.pick($,X),$.omit=(X)=>d.omit($,X),$.partial=(...X)=>d.partial(bH,$,X[0]),$.required=(...X)=>d.required(mH,$,X[0])});function Sh($,U){let X={type:"object",get shape(){return d.assignProp(this,"shape",{...$}),this.shape},...d.normalizeParams(U)};return new DY(X)}function Zh($,U){return new DY({type:"object",get shape(){return d.assignProp(this,"shape",{...$}),this.shape},catchall:OY(),...d.normalizeParams(U)})}function Ih($,U){return new DY({type:"object",get shape(){return d.assignProp(this,"shape",{...$}),this.shape},catchall:jY(),...d.normalizeParams(U)})}var xH=q("ZodUnion",($,U)=>{CG.init($,U),W$.init($,U),$.options=U.options});function VY($,U){return new xH({type:"union",options:$,...d.normalizeParams(U)})}var FA=q("ZodDiscriminatedUnion",($,U)=>{xH.init($,U),NN.init($,U)});function Rh($,U,X){return new FA({type:"union",options:U,discriminator:$,...d.normalizeParams(X)})}var LA=q("ZodIntersection",($,U)=>{jN.init($,U),W$.init($,U)});function AA($,U){return new LA({type:"intersection",left:$,right:U})}var qA=q("ZodTuple",($,U)=>{v0.init($,U),W$.init($,U),$.rest=(X)=>$.clone({...$._zod.def,rest:X})});function Th($,U,X){let G=U instanceof G$,J=G?X:U;return new qA({type:"tuple",items:$,rest:G?U:null,...d.normalizeParams(J)})}var fH=q("ZodRecord",($,U)=>{HN.init($,U),W$.init($,U),$.keyType=U.keyType,$.valueType=U.valueType});function vA($,U,X){return new fH({type:"record",keyType:$,valueType:U,...d.normalizeParams(X)})}function kh($,U,X){return new fH({type:"record",keyType:VY([$,OY()]),valueType:U,...d.normalizeParams(X)})}var PA=q("ZodMap",($,U)=>{WN.init($,U),W$.init($,U),$.keyType=U.keyType,$.valueType=U.valueType});function Ch($,U,X){return new PA({type:"map",keyType:$,valueType:U,...d.normalizeParams(X)})}var EA=q("ZodSet",($,U)=>{KN.init($,U),W$.init($,U),$.min=(...X)=>$.check(E0(...X)),$.nonempty=(X)=>$.check(E0(1,X)),$.max=(...X)=>$.check(IU(...X)),$.size=(...X)=>$.check(B8(...X))});function xh($,U){return new EA({type:"set",valueType:$,...d.normalizeParams(U)})}var R8=q("ZodEnum",($,U)=>{ON.init($,U),W$.init($,U),$.enum=U.entries,$.options=Object.values(U.entries);let X=new Set(Object.keys(U.entries));$.extract=(G,J)=>{let Y={};for(let Q of G)if(X.has(Q))Y[Q]=U.entries[Q];else throw Error(`Key ${Q} not found in enum`);return new R8({...U,checks:[],...d.normalizeParams(J),entries:Y})},$.exclude=(G,J)=>{let Y={...U.entries};for(let Q of G)if(X.has(Q))delete Y[Q];else throw Error(`Key ${Q} not found in enum`);return new R8({...U,checks:[],...d.normalizeParams(J),entries:Y})}});function SA($,U){let X=Array.isArray($)?Object.fromEntries($.map((G)=>[G,G])):$;return new R8({type:"enum",entries:X,...d.normalizeParams(U)})}function fh($,U){return new R8({type:"enum",entries:$,...d.normalizeParams(U)})}var ZA=q("ZodLiteral",($,U)=>{zN.init($,U),W$.init($,U),$.values=new Set(U.values),Object.defineProperty($,"value",{get(){if(U.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return U.values[0]}})});function IA($,U){return new ZA({type:"literal",values:Array.isArray($)?$:[$],...d.normalizeParams(U)})}var RA=q("ZodFile",($,U)=>{DN.init($,U),W$.init($,U),$.min=(X,G)=>$.check(E0(X,G)),$.max=(X,G)=>$.check(IU(X,G)),$.mime=(X,G)=>$.check(v8(Array.isArray(X)?X:[X],G))});function hh($){return tj(RA,$)}var hH=q("ZodTransform",($,U)=>{W8.init($,U),W$.init($,U),$._zod.parse=(X,G)=>{X.addIssue=(Y)=>{if(typeof Y==="string")X.issues.push(d.issue(Y,X.value,U));else{let Q=Y;if(Q.fatal)Q.continue=!1;Q.code??(Q.code="custom"),Q.input??(Q.input=X.value),Q.inst??(Q.inst=$),Q.continue??(Q.continue=!0),X.issues.push(d.issue(Q))}};let J=U.transform(X.value,X);if(J instanceof Promise)return J.then((Y)=>{return X.value=Y,X});return X.value=J,X}});function gH($){return new hH({type:"transform",transform:$})}var bH=q("ZodOptional",($,U)=>{VN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function HY($){return new bH({type:"optional",innerType:$})}var TA=q("ZodNullable",($,U)=>{BN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function WY($){return new TA({type:"nullable",innerType:$})}function gh($){return HY(WY($))}var kA=q("ZodDefault",($,U)=>{_N.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType,$.removeDefault=$.unwrap});function CA($,U){return new kA({type:"default",innerType:$,get defaultValue(){return typeof U==="function"?U():U}})}var xA=q("ZodPrefault",($,U)=>{MN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function fA($,U){return new xA({type:"prefault",innerType:$,get defaultValue(){return typeof U==="function"?U():U}})}var mH=q("ZodNonOptional",($,U)=>{FN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function hA($,U){return new mH({type:"nonoptional",innerType:$,...d.normalizeParams(U)})}var gA=q("ZodSuccess",($,U)=>{LN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function bh($){return new gA({type:"success",innerType:$})}var bA=q("ZodCatch",($,U)=>{AN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType,$.removeCatch=$.unwrap});function mA($,U){return new bA({type:"catch",innerType:$,catchValue:typeof U==="function"?U:()=>U})}var uA=q("ZodNaN",($,U)=>{qN.init($,U),W$.init($,U)});function mh($){return cj(uA,$)}var uH=q("ZodPipe",($,U)=>{K8.init($,U),W$.init($,U),$.in=U.in,$.out=U.out});function KY($,U){return new uH({type:"pipe",in:$,out:U})}var yA=q("ZodReadonly",($,U)=>{vN.init($,U),W$.init($,U)});function lA($){return new yA({type:"readonly",innerType:$})}var cA=q("ZodTemplateLiteral",($,U)=>{PN.init($,U),W$.init($,U)});function uh($,U){return new cA({type:"template_literal",parts:$,...d.normalizeParams(U)})}var iA=q("ZodLazy",($,U)=>{SN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.getter()});function nA($){return new iA({type:"lazy",getter:$})}var pA=q("ZodPromise",($,U)=>{EN.init($,U),W$.init($,U),$.unwrap=()=>$._zod.def.innerType});function yh($){return new pA({type:"promise",innerType:$})}var BY=q("ZodCustom",($,U)=>{ZN.init($,U),W$.init($,U)});function dA($){let U=new o$({check:"custom"});return U._zod.check=$,U}function lh($,U){return aj(BY,$??(()=>!0),U)}function oA($,U={}){return sj(BY,$,U)}function rA($){let U=dA((X)=>{return X.addIssue=(G)=>{if(typeof G==="string")X.issues.push(d.issue(G,X.value,U._zod.def));else{let J=G;if(J.fatal)J.continue=!1;J.code??(J.code="custom"),J.input??(J.input=X.value),J.inst??(J.inst=U),J.continue??(J.continue=!U._zod.def.abort),X.issues.push(d.issue(J))}},$(X.value,X)});return U}function ch($,U={error:`Input not instance of ${$.name}`}){let X=new BY({type:"custom",check:"custom",fn:(G)=>G instanceof $,abort:!0,...d.normalizeParams(U)});return X._zod.bag.Class=$,X}var ih=(...$)=>ej({Pipe:uH,Boolean:C8,String:T8,Transform:hH},...$);function nh($){let U=nA(()=>{return VY([KH($),jA(),HA(),zA(),CH(U),vA(KH(),U)])});return U}function ph($,U){return KY(gH($),U)}var dh={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function oh($){G6({customError:$})}function rh(){return G6().customError}var yH={};H6(yH,{string:()=>th,number:()=>ah,date:()=>$g,boolean:()=>sh,bigint:()=>eh});function th($){return Vj(T8,$)}function ah($){return qj(k8,$)}function sh($){return Rj(C8,$)}function eh($){return kj(x8,$)}function $g($){return lj(zY,$)}G6(O8());var tA=lH;var S=tA;var aA=128,cH=V.array(V.string().max(aA)),Ug=V.object({name:V.string(),key:cH,input:V.unknown().optional(),region:V.string().optional()}),Jg=V.object({name:V.string(),key:cH}),Xg=V.object({name:V.string(),key:cH,input:V.unknown().optional(),region:V.string().optional()}),iH=V.union([V.object({getForId:V.object({name:V.string(),actorId:V.string()})}),V.object({getForKey:Jg}),V.object({getOrCreateForKey:Xg}),V.object({create:Ug})]),T$$=V.object({query:iH.describe(j5),encoding:Q1.describe(V0),connParams:V.string().optional().describe(T1)}),k$$=V.object({query:iH.describe("query"),encoding:Q1.describe("encoding"),connParams:V.unknown().optional().describe("conn_params")}),C$$=V.object({actorId:V.string().describe(VG),encoding:Q1.describe(V0)}),x$$=V.object({query:iH.describe(j5),connParams:V.string().optional().describe(T1)}),Gg=S.string().brand("ActorId"),sA=(($)=>{return $.Logs="logs",$.Config="config",$.Connections="connections",$.State="state",$.Console="console",$.Runtime="runtime",$.Metrics="metrics",$.EventsMonitoring="events-monitoring",$.Database="database",$})(sA||{}),f$$=S.object({level:S.string(),message:S.string(),timestamp:S.string(),metadata:S.record(S.string(),S.any()).optional()}),h$$=S.object({id:Gg,name:S.string(),key:S.array(S.string()),tags:S.record(S.string(),S.string()).optional(),region:S.string().optional(),createdAt:S.string().optional(),startedAt:S.string().optional(),destroyedAt:S.string().optional(),features:S.array(S.enum(sA)).optional()}),Yg=S.discriminatedUnion("op",[S.object({op:S.literal("remove"),path:S.string()}),S.object({op:S.literal("add"),path:S.string(),value:S.unknown()}),S.object({op:S.literal("replace"),path:S.string(),value:S.unknown()}),S.object({op:S.literal("move"),path:S.string(),from:S.string()}),S.object({op:S.literal("copy"),path:S.string(),from:S.string()}),S.object({op:S.literal("test"),path:S.string(),value:S.unknown()})]),eA=S.array(Yg),g$$=S.object({params:S.record(S.string(),S.any()).optional(),id:S.string(),stateEnabled:S.boolean().optional(),state:S.any().optional(),auth:S.record(S.string(),S.any()).optional()}),Qg=S.discriminatedUnion("type",[S.object({type:S.literal("action"),name:S.string(),args:S.array(S.any()),connId:S.string()}),S.object({type:S.literal("broadcast"),eventName:S.string(),args:S.array(S.any())}),S.object({type:S.literal("subscribe"),eventName:S.string(),connId:S.string()}),S.object({type:S.literal("unsubscribe"),eventName:S.string(),connId:S.string()}),S.object({type:S.literal("event"),eventName:S.string(),args:S.array(S.any()),connId:S.string()})]),b$$=Qg.and(S.object({id:S.string(),timestamp:S.number()})),m$$=S.object({sql:S.string(),args:S.array(S.string().or(S.number()))}),wg=S.object({schema:S.string(),name:S.string(),type:S.enum(["table","view"])}),$3=S.array(wg),Ng=S.object({cid:S.number(),name:S.string(),type:S.string().toLowerCase().transform(($)=>{return S.enum(["integer","text","real","blob","numeric","serial"]).parse($)}),notnull:S.coerce.boolean(),dflt_value:S.string().nullable(),pk:S.coerce.boolean().nullable()}),U3=S.array(Ng),jg=S.object({id:S.number(),table:S.string(),from:S.string(),to:S.string()}),J3=S.array(jg),Hg=S.object({name:S.string(),createdAt:S.string().optional(),tags:S.record(S.string(),S.string()).optional()}),u$$=S.array(Hg),X3=S.object({name:S.string(),key:S.array(S.string().max(aA)),input:S.any()});function s(){return W6("actor-client")}var _Y=null;async function nH(){if(_Y!==null)return _Y;return _Y=(async()=>{let $;if(typeof WebSocket<"u")$=WebSocket;else try{$=(await import("ws")).default,s().debug("using websocket from npm")}catch{$=class{constructor(){throw Error('WebSocket support requires installing the "ws" peer dependency.')}},s().debug("using mock websocket")}return $})(),_Y}var Wg=class extends Error{constructor($){super($);this.name="AssertionError"}};function g6($,U){if(!$){let X=new Wg(U);if(Error.captureStackTrace)Error.captureStackTrace(X,g6);throw X}}var k$=class extends Error{constructor($,U,X){super(`(byte:${$}) ${U}`);this.name="BareError",this.issue=U,this.offset=$,this.cause=X==null?void 0:X.cause}};var pH=10,dH=8,oH="invalid UTF-8 string",rH="must be canonical",tH="too large buffer",i6="too large number";function G3($){return $===BigInt.asIntN(64,$)}function Y3($){return Number.isSafeInteger($)&&$>=0}function Q3($){return $===($&255)}function w3($){return $===($&65535)}function xU($){return $===$>>>0}function aH($){return $===BigInt.asUintN(64,$)}function fU({initialBufferLength:$=1024,maxBufferLength:U=33554432,textDecoderThreshold:X=256,textEncoderThreshold:G=256}){let J={initialBufferLength:$,maxBufferLength:U,textDecoderThreshold:X,textEncoderThreshold:G};return g6(xU(J.initialBufferLength),i6),g6(xU(J.maxBufferLength),i6),g6(xU(J.textDecoderThreshold),i6),g6(xU(J.textEncoderThreshold),i6),g6(J.initialBufferLength<=J.maxBufferLength,"initialBufferLength must be lower than or equal to maxBufferLength"),J}var r$=class{constructor($,U){if($.length>U.maxBufferLength)throw new k$(0,tH);this.bytes=$,this.config=U,this.offset=0,this.view=new DataView($.buffer,$.byteOffset,$.length)}check($){if(this.offset+$>this.bytes.length)throw new k$(this.offset,"missing bytes")}reserve($){let U=this.offset+$|0;if(U>this.bytes.length){if(U>this.config.maxBufferLength)throw new k$(0,tH);let X=Math.min(U<<1,this.config.maxBufferLength),G=new Uint8Array(X);G.set(this.bytes),this.bytes=G,this.view=new DataView(G.buffer)}}read($){this.check($);let U=this.offset;return this.offset+=$,this.bytes.subarray(U,U+$)}};function S0($){let U=z1($);if(U>1)throw $.offset--,new k$($.offset,"a bool must be equal to 0 or 1");return U!==0}function Z0($,U){G4($,U?1:0)}function N3($){$.check(8);let U=$.view.getBigInt64($.offset,!0);return $.offset+=8,U}function j3($,U){g6(G3(U),i6),$.reserve(8),$.view.setBigInt64($.offset,U,!0),$.offset+=8}function z1($){return $.check(1),$.bytes[$.offset++]}function G4($,U){g6(Q3(U),i6),$.reserve(1),$.bytes[$.offset++]=U}function sH($){$.check(2);let U=$.view.getUint16($.offset,!0);return $.offset+=2,U}function eH($,U){g6(w3(U),i6),$.reserve(2),$.view.setUint16($.offset,U,!0),$.offset+=2}function H3($){$.check(8);let U=$.view.getBigUint64($.offset,!0);return $.offset+=8,U}function W3($,U){g6(aH(U),i6),$.reserve(8),$.view.setBigUint64($.offset,U,!0),$.offset+=8}function hU($){let U=z1($);if(U>=128){U&=127;let X=128,G=1,J;do J=z1($),U+=(J&127)*X,X*=128,G++;while(J>=128&&G<7);let Y=0;X=1;while(J>=128&&G<pH)J=z1($),Y+=(J&127)*X,X*=128,G++;if(J===0||G===pH&&J>1)throw $.offset-=G,new k$($.offset,rH);return BigInt(U)+(BigInt(Y)<<BigInt(49))}return BigInt(U)}function gU($,U){g6(aH(U),i6);let X=Number(BigInt.asUintN(49,U)),G=Number(U>>BigInt(49)),J=0;while(X>=128||G!==0)if(G4($,128|X&127),X=Math.floor(X/128),J++,J===7)X=G,G=0;G4($,X)}function P4($){let U=z1($);if(U>=128){U&=127;let X=128,G=1,J;do J=z1($),U+=(J&127)*X,X*=128,G++;while(J>=128&&G<dH);if(J===0)throw $.offset-=G-1,new k$($.offset-G+1,rH);if(G===dH&&J>15)throw $.offset-=G-1,new k$($.offset,i6)}return U}function Y4($,U){g6(Y3(U),i6);while(U>=128)G4($,128|U&127),U=Math.floor(U/128);G4($,U)}function K3($){return $W($,P4($))}function O3($,U){Y4($,U.length),f8($,U)}function $W($,U){return $.read(U).slice()}function f8($,U){let X=U.length;if(X!==0)$.reserve(X),$.bytes.set(U,$.offset),$.offset+=X}function Q4($){return K3($).buffer}function w4($,U){O3($,new Uint8Array(U))}function UW($,U){return $W($,U).buffer}function JW($,U){f8($,new Uint8Array(U))}function h$($){return Kg($,P4($))}function u$($,U){if(U.length<$.config.textEncoderThreshold){let X=Dg(U);Y4($,X),$.reserve(X),zg($,U)}else{let X=Bg.encode(U);Y4($,X.length),f8($,X)}}function Kg($,U){if(U<$.config.textDecoderThreshold)return Og($,U);try{return Vg.decode($.read(U))}catch(X){throw new k$($.offset,oH)}}function Og($,U){$.check(U);let X="",G=$.bytes,J=$.offset,Y=J+U;while(J<Y){let Q=G[J++];if(Q>127){let w=!0,N=Q;if(J<Y&&Q<224){let j=G[J++];Q=(N&31)<<6|j&63,w=Q>>7===0||N>>5!==6||j>>6!==2}else if(J+1<Y&&Q<240){let j=G[J++],H=G[J++];Q=(N&15)<<12|(j&63)<<6|H&63,w=Q>>11===0||Q>>11===27||N>>4!==14||j>>6!==2||H>>6!==2}else if(J+2<Y){let j=G[J++],H=G[J++],K=G[J++];Q=(N&7)<<18|(j&63)<<12|(H&63)<<6|K&63,w=Q>>16===0||Q>1114111||N>>3!==30||j>>6!==2||H>>6!==2||K>>6!==2}if(w)throw new k$($.offset,oH)}X+=String.fromCodePoint(Q)}return $.offset=J,X}function zg($,U){let{bytes:X,offset:G}=$,J=0;while(J<U.length){let Y=U.codePointAt(J++);if(Y<128)X[G++]=Y;else{if(Y<2048)X[G++]=192|Y>>6;else{if(Y<65536)X[G++]=224|Y>>12;else X[G++]=240|Y>>18,X[G++]=128|Y>>12&63,J++;X[G++]=128|Y>>6&63}X[G++]=128|Y&63}}$.offset=G}function Dg($){let U=$.length;for(let X=0;X<$.length;X++){let G=$.codePointAt(X);if(G>127){if(U++,G>2047){if(U++,G>65535)X++}}}return U}var Vg=new TextDecoder("utf-8",{fatal:!0}),Bg=new TextEncoder;var XW=x4.object({endpoint:x4.string().optional().transform(($)=>$??p$("RIVET_ENGINE")??p$("RIVET_ENDPOINT")),token:x4.string().optional().transform(($)=>$??p$("RIVET_TOKEN")),namespace:x4.string().default(()=>p$("RIVET_NAMESPACE")??"default"),runnerName:x4.string().default(()=>p$("RIVET_RUNNER")??"default"),encoding:Q1.default("bare"),headers:x4.record(x4.string()).optional().default({}),getUpgradeWebSocket:x4.custom().optional(),disableMetadataLookup:x4.boolean().optional().default(!1)}),_g=V.object({runnerKey:V.string().optional().transform(($)=>$??p$("RIVET_RUNNER_KEY")),totalSlots:V.number().default(1e5)}).merge(XW).default({}),z3=()=>{let $=p$("RIVETKIT_INSPECTOR_TOKEN");if($)return $;return""},D3=()=>{return p$("NODE_ENV")!=="production"||!p$("RIVETKIT_INSPECTOR_DISABLE")},Mg=V.object({enabled:V.boolean().or(V.object({actor:V.boolean().optional().default(!0),manager:V.boolean().optional().default(!0)})).optional().default(D3),token:V.function().returns(V.string()).optional().default(()=>z3),defaultEndpoint:V.string().optional()}).optional().default(()=>({enabled:D3(),token:z3})),Fg=V.object({name:V.string(),manager:V.custom(),actor:V.custom()}),M3=V.object({driver:Fg.optional(),maxIncomingMessageSize:V.number().optional().default(65536),inspector:Mg,disableDefaultServer:V.boolean().optional().default(!1),defaultServerPort:V.number().default(6420),runEngine:V.boolean().optional().default(()=>p$("RIVET_RUN_ENGINE")==="1"),runEngineVersion:V.string().optional().default(()=>p$("RIVET_RUN_ENGINE_VERSION")??Q0),overrideServerAddress:V.string().optional(),disableActorDriver:V.boolean().optional().default(!1),runnerKind:V.enum(["serverless","normal"]).optional().default(()=>p$("RIVET_RUNNER_KIND")==="serverless"?"serverless":"normal"),totalSlots:V.number().optional(),basePath:V.string().optional().default("/"),noWelcome:V.boolean().optional().default(!1),logging:V.object({baseLogger:V.custom().optional(),level:S9.optional()}).optional().default({}),autoConfigureServerless:V.union([V.boolean(),V.object({url:V.string().optional(),headers:V.record(V.string(),V.string()).optional(),maxRunners:V.number().optional(),minRunners:V.number().optional(),requestLifespan:V.number().optional(),runnersMargin:V.number().optional(),slotsPerRunner:V.number().optional(),metadata:V.record(V.unknown()).optional()})]).optional(),getUpgradeWebSocket:V.custom().optional()}).merge(_g.removeDefault()).default({}),n6={PERSIST_DATA:Uint8Array.from([1]),CONN_PREFIX:Uint8Array.from([2]),INSPECTOR_TOKEN:Uint8Array.from([3])};function GW($){let X=new TextEncoder().encode($),G=new Uint8Array(n6.CONN_PREFIX.length+X.length);return G.set(n6.CONN_PREFIX,0),G.set(X,n6.CONN_PREFIX.length),G}var Lg=class{constructor($){this.config=$}serializeWithEmbeddedVersion($){let U={version:this.config.currentVersion,data:this.config.serializeVersion($)};return this.embedVersion(U)}deserializeWithEmbeddedVersion($){let U=this.extractVersion($);return this.deserialize(U.data,U.version)}serialize($,U){return this.config.serializeVersion($)}deserialize($,U){if(U===this.config.currentVersion)return this.config.deserializeVersion($);if(U>this.config.currentVersion)throw Error(`Cannot decode data from version ${U}, current version is ${this.config.currentVersion}`);let X=this.config.deserializeVersion($),G=U;while(G<this.config.currentVersion){let J=this.config.migrations.get(G);if(!J)throw Error(`No migration found from version ${G} to ${G+1}`);X=J(X),G++}return X}embedVersion($){let U=new Uint8Array(2);new DataView(U.buffer).setUint16(0,$.version,!0);let X=new Uint8Array(U.length+$.data.length);return X.set(U),X.set($.data,U.length),X}extractVersion($){if($.length<2)throw Error("Invalid versioned data: too short");let U=new DataView($.buffer,$.byteOffset).getUint16(0,!0),X=$.slice(2);return{version:U,data:X}}};function p6($){return new Lg($)}var bU=fU({});function Ag($){return UW($,4)}function qg($,U){A3(U.byteLength===4),JW($,U)}function vg($){return UW($,4)}function Pg($,U){A3(U.byteLength===4),JW($,U)}function MY($){return Q4($)}function FY($,U){w4($,U)}function V3($){return{eventName:h$($)}}function Eg($,U){u$($,U.eventName)}function Sg($){let U=P4($);if(U===0)return[];let X=[V3($)];for(let G=1;G<U;G++)X[G]=V3($);return X}function Zg($,U){Y4($,U.length);for(let X=0;X<U.length;X++)Eg($,U[X])}function Ig($){let U=P4($),X=new Map;for(let G=0;G<U;G++){let J=$.offset,Y=h$($);if(X.has(Y))throw $.offset=J,new k$(J,"duplicated key");X.set(Y,h$($))}return X}function Rg($,U){Y4($,U.size);for(let X of U)u$($,X[0]),u$($,X[1])}function Tg($){return{id:h$($),parameters:MY($),state:MY($),subscriptions:Sg($),gatewayId:Ag($),requestId:vg($),serverMessageIndex:sH($),clientMessageIndex:sH($),requestPath:h$($),requestHeaders:Ig($)}}function kg($,U){u$($,U.id),FY($,U.parameters),FY($,U.state),Zg($,U.subscriptions),qg($,U.gatewayId),Pg($,U.requestId),eH($,U.serverMessageIndex),eH($,U.clientMessageIndex),u$($,U.requestPath),Rg($,U.requestHeaders)}function Cg($){let U=new r$(new Uint8Array(bU.initialBufferLength),bU);return kg(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function xg($){let U=new r$($,bU),X=Tg(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function F3($){return S0($)?MY($):null}function L3($,U){if(Z0($,U!==null),U!==null)FY($,U)}function B3($){return{eventId:h$($),timestamp:N3($),action:h$($),args:F3($)}}function fg($,U){u$($,U.eventId),j3($,U.timestamp),u$($,U.action),L3($,U.args)}function hg($){let U=P4($);if(U===0)return[];let X=[B3($)];for(let G=1;G<U;G++)X[G]=B3($);return X}function gg($,U){Y4($,U.length);for(let X=0;X<U.length;X++)fg($,U[X])}function bg($){return{input:F3($),hasInitialized:S0($),state:MY($),scheduledEvents:hg($)}}function mg($,U){L3($,U.input),Z0($,U.hasInitialized),FY($,U.state),gg($,U.scheduledEvents)}function ug($){let U=new r$(new Uint8Array(bU.initialBufferLength),bU);return mg(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function yg($){let U=new r$($,bU),X=bg(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function A3($,U){if(!$)throw Error(U??"Assertion failed")}var q3=3,lg=new Map([[1,($)=>({...$,connections:$.connections.map((U)=>({...U,hibernatableRequestId:null})),hibernatableWebSockets:[]})],[2,($)=>{let U=$.scheduledEvents.map((X)=>{if(X.kind.tag==="GenericPersistedScheduleEvent")return{eventId:X.eventId,timestamp:X.timestamp,action:X.kind.val.action,args:X.kind.val.args};throw Error(`Unknown schedule event kind: ${X.kind.tag}`)});return{input:$.input,hasInitialized:$.hasInitialized,state:$.state,scheduledEvents:U}}]]),h8=p6({currentVersion:q3,migrations:lg,serializeVersion:($)=>ug($),deserializeVersion:($)=>yg($)}),YW=p6({currentVersion:q3,migrations:new Map,serializeVersion:($)=>Cg($),deserializeVersion:($)=>xg($)});function cg($){let U={input:$!==void 0?R$(E$($)):null,hasInitialized:!1,state:R$(E$(void 0)),scheduledEvents:[]};return h8.serializeWithEmbeddedVersion(U)}function LY($){let U=cg($);return[[n6.PERSIST_DATA,U]]}var g0=t$(V6(),1);var v3=($,U,X)=>{let G=$.req.raw.headers.get("Cookie");if(typeof U==="string"){if(!G)return;let Y=U;if(X==="secure")Y="__Secure-"+U;else if(X==="host")Y="__Host-"+U;return T9(G,Y)[Y]}if(!G)return{};return T9(G)};var P3=($,U)=>{return new Response($,{headers:{"Content-Type":U}}).formData()};var ig=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,ng=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,pg=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,g8=($,U)=>{return async(X,G)=>{let J={},Y=X.req.header("Content-Type");switch($){case"json":if(!Y||!ig.test(Y))break;try{J=await X.req.json()}catch{throw new KX(400,{message:"Malformed JSON in request body"})}break;case"form":{if(!Y||!(ng.test(Y)||pg.test(Y)))break;let w;if(X.req.bodyCache.formData)w=await X.req.bodyCache.formData;else try{let j=await X.req.arrayBuffer();w=await P3(j,Y),X.req.bodyCache.formData=w}catch(j){let H="Malformed FormData request.";throw H+=j instanceof Error?` ${j.message}`:` ${String(j)}`,new KX(400,{message:H})}let N={};w.forEach((j,H)=>{if(H.endsWith("[]"))(N[H]??=[]).push(j);else if(Array.isArray(N[H]))N[H].push(j);else if(H in N)N[H]=[N[H],j];else N[H]=j}),J=N;break}case"query":J=Object.fromEntries(Object.entries(X.req.queries()).map(([w,N])=>{return N.length===1?[w,N[0]]:[w,N]}));break;case"param":J=X.req.param();break;case"header":J=X.req.header();break;case"cookie":J=v3(X);break}let Q=await U(J,X);if(Q instanceof Response)return Q;return X.req.addValidatedData($,Q),await G()}};var E3={header:["cookie"]};function dg($,U,X){if(!(X in E3))return $;let G=E3[X]||[];if(U==="arktype")return og($,G);if(U==="valibot")return rg($,G);return $}function og($,U){return $.map((X)=>{if(X&&typeof X==="object"&&"data"in X&&typeof X.data==="object"&&X.data!==null&&!Array.isArray(X.data)){let G={...X.data};for(let Y of U)delete G[Y];let J=Object.create(Object.getPrototypeOf(X));return Object.assign(J,X,{data:G}),J}return X})}function rg($,U){return $.map((X)=>{if(X&&typeof X==="object"&&"path"in X&&Array.isArray(X.path)){for(let G of X.path)if(typeof G==="object"&&"input"in G&&typeof G.input==="object"&&G.input!==null&&!Array.isArray(G.input))for(let J of U)delete G.input[J]}return X})}var mU=($,U,X)=>g8($,async(G,J)=>{let Y=await U["~standard"].validate(G);if(X){let Q=await X(Y.issues?{data:G,error:Y.issues,success:!1,target:$}:{data:G,success:!0,target:$},J);if(Q){if(Q instanceof Response)return Q;if("response"in Q)return Q.response}}if(Y.issues){let Q=dg(Y.issues,U["~standard"].vendor,$);return J.json({data:G,error:Q,success:!1},400)}return Y.value});var QW={};H6(QW,{validator:()=>SY,validate:()=>Z3,getValueByPointer:()=>EY,deepClone:()=>sg,applyReducer:()=>$b,applyPatch:()=>ZY,applyOperation:()=>I0,_areEquals:()=>u8,JsonPatchError:()=>s$});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var tg=function(){var $=function(U,X){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,J){G.__proto__=J}||function(G,J){for(var Y in J)if(J.hasOwnProperty(Y))G[Y]=J[Y]},$(U,X)};return function(U,X){$(U,X);function G(){this.constructor=U}U.prototype=X===null?Object.create(X):(G.prototype=X.prototype,new G)}}(),ag=Object.prototype.hasOwnProperty;function qY($,U){return ag.call($,U)}function vY($){if(Array.isArray($)){var U=Array($.length);for(var X=0;X<U.length;X++)U[X]=""+X;return U}if(Object.keys)return Object.keys($);var G=[];for(var J in $)if(qY($,J))G.push(J);return G}function B6($){switch(typeof $){case"object":return JSON.parse(JSON.stringify($));case"undefined":return null;default:return $}}function PY($){var U=0,X=$.length,G;while(U<X){if(G=$.charCodeAt(U),G>=48&&G<=57){U++;continue}return!1}return!0}function n4($){if($.indexOf("/")===-1&&$.indexOf("~")===-1)return $;return $.replace(/~/g,"~0").replace(/\//g,"~1")}function b8($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}function AY($){if($===void 0)return!0;if($){if(Array.isArray($)){for(var U=0,X=$.length;U<X;U++)if(AY($[U]))return!0}else if(typeof $==="object"){var G=vY($),J=G.length;for(var Y=0;Y<J;Y++)if(AY($[G[Y]]))return!0}}return!1}function S3($,U){var X=[$];for(var G in U){var J=typeof U[G]==="object"?JSON.stringify(U[G],null,2):U[G];if(typeof J<"u")X.push(G+": "+J)}return X.join(`
`)}var m8=function($){tg(U,$);function U(X,G,J,Y,Q){var w=this.constructor,N=$.call(this,S3(X,{name:G,index:J,operation:Y,tree:Q}))||this;return N.name=G,N.index=J,N.operation=Y,N.tree=Q,Object.setPrototypeOf(N,w.prototype),N.message=S3(X,{name:G,index:J,operation:Y,tree:Q}),N}return U}(Error);var s$=m8,sg=B6,uU={add:function($,U,X){return $[U]=this.value,{newDocument:X}},remove:function($,U,X){var G=$[U];return delete $[U],{newDocument:X,removed:G}},replace:function($,U,X){var G=$[U];return $[U]=this.value,{newDocument:X,removed:G}},move:function($,U,X){var G=EY(X,this.path);if(G)G=B6(G);var J=I0(X,{op:"remove",path:this.from}).removed;return I0(X,{op:"add",path:this.path,value:J}),{newDocument:X,removed:G}},copy:function($,U,X){var G=EY(X,this.from);return I0(X,{op:"add",path:this.path,value:B6(G)}),{newDocument:X}},test:function($,U,X){return{newDocument:X,test:u8($[U],this.value)}},_get:function($,U,X){return this.value=$[U],{newDocument:X}}},eg={add:function($,U,X){if(PY(U))$.splice(U,0,this.value);else $[U]=this.value;return{newDocument:X,index:U}},remove:function($,U,X){var G=$.splice(U,1);return{newDocument:X,removed:G[0]}},replace:function($,U,X){var G=$[U];return $[U]=this.value,{newDocument:X,removed:G}},move:uU.move,copy:uU.copy,test:uU.test,_get:uU._get};function EY($,U){if(U=="")return $;var X={op:"_get",path:U};return I0($,X),X.value}function I0($,U,X,G,J,Y){if(X===void 0)X=!1;if(G===void 0)G=!0;if(J===void 0)J=!0;if(Y===void 0)Y=0;if(X)if(typeof X=="function")X(U,0,$,U.path);else SY(U,0);if(U.path===""){var Q={newDocument:$};if(U.op==="add")return Q.newDocument=U.value,Q;else if(U.op==="replace")return Q.newDocument=U.value,Q.removed=$,Q;else if(U.op==="move"||U.op==="copy"){if(Q.newDocument=EY($,U.from),U.op==="move")Q.removed=$;return Q}else if(U.op==="test"){if(Q.test=u8($,U.value),Q.test===!1)throw new s$("Test operation failed","TEST_OPERATION_FAILED",Y,U,$);return Q.newDocument=$,Q}else if(U.op==="remove")return Q.removed=$,Q.newDocument=null,Q;else if(U.op==="_get")return U.value=$,Q;else if(X)throw new s$("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Y,U,$);else return Q}else{if(!G)$=B6($);var w=U.path||"",N=w.split("/"),j=$,H=1,K=N.length,z=void 0,W=void 0,O=void 0;if(typeof X=="function")O=X;else O=SY;while(!0){if(W=N[H],W&&W.indexOf("~")!=-1)W=b8(W);if(J&&(W=="__proto__"||W=="prototype"&&H>0&&N[H-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(X){if(z===void 0){if(j[W]===void 0)z=N.slice(0,H).join("/");else if(H==K-1)z=U.path;if(z!==void 0)O(U,0,$,z)}}if(H++,Array.isArray(j)){if(W==="-")W=j.length;else if(X&&!PY(W))throw new s$("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Y,U,$);else if(PY(W))W=~~W;if(H>=K){if(X&&U.op==="add"&&W>j.length)throw new s$("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Y,U,$);var Q=eg[U.op].call(U,j,W,$);if(Q.test===!1)throw new s$("Test operation failed","TEST_OPERATION_FAILED",Y,U,$);return Q}}else if(H>=K){var Q=uU[U.op].call(U,j,W,$);if(Q.test===!1)throw new s$("Test operation failed","TEST_OPERATION_FAILED",Y,U,$);return Q}if(j=j[W],X&&H<K&&(!j||typeof j!=="object"))throw new s$("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Y,U,$)}}}function ZY($,U,X,G,J){if(G===void 0)G=!0;if(J===void 0)J=!0;if(X){if(!Array.isArray(U))throw new s$("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY")}if(!G)$=B6($);var Y=Array(U.length);for(var Q=0,w=U.length;Q<w;Q++)Y[Q]=I0($,U[Q],X,!0,J,Q),$=Y[Q].newDocument;return Y.newDocument=$,Y}function $b($,U,X){var G=I0($,U);if(G.test===!1)throw new s$("Test operation failed","TEST_OPERATION_FAILED",X,U,$);return G.newDocument}function SY($,U,X,G){if(typeof $!=="object"||$===null||Array.isArray($))throw new s$("Operation is not an object","OPERATION_NOT_AN_OBJECT",U,$,X);else if(!uU[$.op])throw new s$("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",U,$,X);else if(typeof $.path!=="string")throw new s$("Operation `path` property is not a string","OPERATION_PATH_INVALID",U,$,X);else if($.path.indexOf("/")!==0&&$.path.length>0)throw new s$('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",U,$,X);else if(($.op==="move"||$.op==="copy")&&typeof $.from!=="string")throw new s$("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",U,$,X);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&$.value===void 0)throw new s$("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",U,$,X);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&AY($.value))throw new s$("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",U,$,X);else if(X){if($.op=="add"){var J=$.path.split("/").length,Y=G.split("/").length;if(J!==Y+1&&J!==Y)throw new s$("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",U,$,X)}else if($.op==="replace"||$.op==="remove"||$.op==="_get"){if($.path!==G)throw new s$("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",U,$,X)}else if($.op==="move"||$.op==="copy"){var Q={op:"_get",path:$.from,value:void 0},w=Z3([Q],X);if(w&&w.name==="OPERATION_PATH_UNRESOLVABLE")throw new s$("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",U,$,X)}}}function Z3($,U,X){try{if(!Array.isArray($))throw new s$("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(U)ZY(B6(U),B6($),X||!0);else{X=X||SY;for(var G=0;G<$.length;G++)X($[G],G,U,void 0)}}catch(J){if(J instanceof s$)return J;else throw J}}function u8($,U){if($===U)return!0;if($&&U&&typeof $=="object"&&typeof U=="object"){var X=Array.isArray($),G=Array.isArray(U),J,Y,Q;if(X&&G){if(Y=$.length,Y!=U.length)return!1;for(J=Y;J--!==0;)if(!u8($[J],U[J]))return!1;return!0}if(X!=G)return!1;var w=Object.keys($);if(Y=w.length,Y!==Object.keys(U).length)return!1;for(J=Y;J--!==0;)if(!U.hasOwnProperty(w[J]))return!1;for(J=Y;J--!==0;)if(Q=w[J],!u8($[Q],U[Q]))return!1;return!0}return $!==$&&U!==U}var HW={};H6(HW,{unobserve:()=>Qb,observe:()=>wb,generate:()=>wW,compare:()=>Nb});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var NW=new WeakMap,Ub=function(){function $(U){this.observers=new Map,this.obj=U}return $}(),Jb=function(){function $(U,X){this.callback=U,this.observer=X}return $}();function Xb($){return NW.get($)}function Gb($,U){return $.observers.get(U)}function Yb($,U){$.observers.delete(U.callback)}function Qb($,U){U.unobserve()}function wb($,U){var X=[],G,J=Xb($);if(!J)J=new Ub($),NW.set($,J);else{var Y=Gb(J,U);G=Y&&Y.observer}if(G)return G;if(G={},J.value=B6($),U){G.callback=U,G.next=null;var Q=function(){wW(G)},w=function(){clearTimeout(G.next),G.next=setTimeout(Q)};if(typeof window<"u")window.addEventListener("mouseup",w),window.addEventListener("keyup",w),window.addEventListener("mousedown",w),window.addEventListener("keydown",w),window.addEventListener("change",w)}return G.patches=X,G.object=$,G.unobserve=function(){if(wW(G),clearTimeout(G.next),Yb(J,G),typeof window<"u")window.removeEventListener("mouseup",w),window.removeEventListener("keyup",w),window.removeEventListener("mousedown",w),window.removeEventListener("keydown",w),window.removeEventListener("change",w)},J.observers.set(U,new Jb(U,G)),G}function wW($,U){if(U===void 0)U=!1;var X=NW.get($.object);if(jW(X.value,$.object,$.patches,"",U),$.patches.length)ZY(X.value,$.patches);var G=$.patches;if(G.length>0){if($.patches=[],$.callback)$.callback(G)}return G}function jW($,U,X,G,J){if(U===$)return;if(typeof U.toJSON==="function")U=U.toJSON();var Y=vY(U),Q=vY($),w=!1,N=!1;for(var j=Q.length-1;j>=0;j--){var H=Q[j],K=$[H];if(qY(U,H)&&!(U[H]===void 0&&K!==void 0&&Array.isArray(U)===!1)){var z=U[H];if(typeof K=="object"&&K!=null&&typeof z=="object"&&z!=null&&Array.isArray(K)===Array.isArray(z))jW(K,z,X,G+"/"+n4(H),J);else if(K!==z){if(w=!0,J)X.push({op:"test",path:G+"/"+n4(H),value:B6(K)});X.push({op:"replace",path:G+"/"+n4(H),value:B6(z)})}}else if(Array.isArray($)===Array.isArray(U)){if(J)X.push({op:"test",path:G+"/"+n4(H),value:B6(K)});X.push({op:"remove",path:G+"/"+n4(H)}),N=!0}else{if(J)X.push({op:"test",path:G,value:$});X.push({op:"replace",path:G,value:U}),w=!0}}if(!N&&Y.length==Q.length)return;for(var j=0;j<Y.length;j++){var H=Y[j];if(!qY($,H)&&U[H]!==void 0)X.push({op:"add",path:G+"/"+n4(H),value:B6(U[H])})}}function Nb($,U,X){if(X===void 0)X=!1;var G=[];return jW($,U,G,"",X),G}var I3=Object.assign({},QW,HW,{JsonPatchError:m8,deepClone:B6,escapePathComponent:n4,unescapePathComponent:b8});var WW=class{writer;encoder;writable;abortSubscribers=[];responseReadable;aborted=!1;closed=!1;constructor($,U){this.writable=$,this.writer=$.getWriter(),this.encoder=new TextEncoder;let X=U.getReader();this.abortSubscribers.push(async()=>{await X.cancel()}),this.responseReadable=new ReadableStream({async pull(G){let{done:J,value:Y}=await X.read();J?G.close():G.enqueue(Y)},cancel:()=>{this.abort()}})}async write($){try{if(typeof $==="string")$=this.encoder.encode($);await this.writer.write($)}catch{}return this}async writeln($){return await this.write($+`
`),this}sleep($){return new Promise((U)=>setTimeout(U,$))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe($){this.writer.releaseLock(),await $.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort($){this.abortSubscribers.push($)}abort(){if(!this.aborted)this.aborted=!0,this.abortSubscribers.forEach(($)=>$())}};var IY=()=>{let $=typeof Bun<"u"?Bun.version:void 0;if($===void 0)return!1;let U=$.startsWith("1.1")||$.startsWith("1.0")||$.startsWith("0.");return IY=()=>U,U};var R3=class extends WW{constructor($,U){super($,U)}async writeSSE($){let X=(await F2($.data,VX.Stringify,!1,{})).split(`
`).map((J)=>{return`data: ${J}`}).join(`
`),G=[$.event&&`event: ${$.event}`,X,$.id&&`id: ${$.id}`,$.retry&&`retry: ${$.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(G)}},jb=async($,U,X)=>{try{await U($)}catch(G){if(G instanceof Error&&X)await X(G,$),await $.writeSSE({event:"error",data:G.message});else console.error(G)}finally{$.close()}},Hb=new WeakMap,R0=($,U,X)=>{let{readable:G,writable:J}=new TransformStream,Y=new R3(J,G);if(IY())$.req.raw.signal.addEventListener("abort",()=>{if(!Y.closed)Y.abort()});return Hb.set(Y.responseReadable,$),$.header("Transfer-Encoding","chunked"),$.header("Content-Type","text/event-stream"),$.header("Cache-Control","no-cache"),$.header("Connection","keep-alive"),jb(Y,U,X),$.newResponse(Y.responseReadable)};var T3=()=>({emit($,...U){for(let X=this.events[$]||[],G=0,J=X.length;G<J;G++)X[G](...U)},events:{},on($,U){return(this.events[$]||=[]).push(U),()=>{this.events[$]=this.events[$]?.filter((X)=>U!==X)}}});var p4=".",y8=Symbol("target"),KW=Symbol("unsubscribe");function l8($){return $ instanceof Date||$ instanceof Set||$ instanceof Map||$ instanceof WeakSet||$ instanceof WeakMap||ArrayBuffer.isView($)}function k3($){return $===null||typeof $!=="object"&&typeof $!=="function"||$ instanceof RegExp||$ instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&$ instanceof SharedArrayBuffer}function x1($){return typeof $==="symbol"}var Kb={after($,U){if(Array.isArray($))return $.slice(U.length);if(U==="")return $;return $.slice(U.length+1)},concat($,U){if(Array.isArray($)){if($=[...$],U)$.push(U);return $}if(U&&U.toString!==void 0){if($!=="")$+=p4;if(x1(U))return $+U.toString();return $+U}return $},initial($){if(Array.isArray($))return $.slice(0,-1);if($==="")return $;let U=$.lastIndexOf(p4);if(U===-1)return"";return $.slice(0,U)},last($){if(Array.isArray($))return $.at(-1)??"";if($==="")return $;let U=$.lastIndexOf(p4);if(U===-1)return $;return $.slice(U+1)},walk($,U){if(Array.isArray($))for(let X of $)U(X);else if($!==""){let X=0,G=$.indexOf(p4);if(G===-1)U($);else while(X<$.length){if(G===-1)G=$.length;U($.slice(X,G)),X=G+1,G=$.indexOf(p4,X)}}},get($,U){return this.walk(U,(X)=>{$&&=$[X]}),$},isSubPath($,U){if(Array.isArray($)){if($.length<U.length)return!1;for(let X=0;X<U.length;X++)if($[X]!==U[X])return!1;return!0}if($.length<U.length)return!1;if($===U)return!0;if($.startsWith(U))return $[U.length]===p4;return!1},isRootPath($){if(Array.isArray($))return $.length===0;return $===""}},O6=Kb;function f1($){return Object.prototype.toString.call($)==="[object Object]"}function OW($){return $!==null&&typeof $==="object"&&typeof $.next==="function"}function zW($,U,X,G,J){let Y=$?.next;if(typeof Y!=="function")return $;if(U.name==="entries")$.next=function(){let Q=Y.call(this);if(Q&&Q.done===!1)Q.value[0]=J(Q.value[0],U,Q.value[0],G),Q.value[1]=J(Q.value[1],U,Q.value[0],G);return Q};else if(U.name==="values"){let Q=X[y8].keys();$.next=function(){let w=Y.call(this);if(w&&w.done===!1)w.value=J(w.value,U,Q.next().value,G);return w}}else $.next=function(){let Q=Y.call(this);if(Q&&Q.done===!1)Q.value=J(Q.value,U,Q.value,G);return Q};return $}function RY($,U,X){if($.isUnsubscribed)return!0;if(U.ignoreSymbols&&x1(X))return!0;if(U.ignoreUnderscores&&typeof X==="string"&&X.charAt(0)==="_")return!0;let G=U.ignoreKeys;if(G)return Array.isArray(G)?G.includes(X):G instanceof Set?G.has(X):!1;return!1}class TY{constructor($){this._equals=$,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this._allPathsCache=new WeakMap,this.isUnsubscribed=!1}_pathsEqual($,U){if(!Array.isArray($)||!Array.isArray(U))return $===U;return $.length===U.length&&$.every((X,G)=>X===U[G])}_getDescriptorCache(){if(this._descriptorCache===void 0)this._descriptorCache=new WeakMap;return this._descriptorCache}_getProperties($){let U=this._getDescriptorCache(),X=U.get($);if(X===void 0)X={},U.set($,X);return X}_getOwnPropertyDescriptor($,U){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor($,U);let X=this._getProperties($),G=X[U];if(G===void 0)G=Reflect.getOwnPropertyDescriptor($,U),X[U]=G;return G}getProxy($,U,X,G){if(this.isUnsubscribed)return $;let J=G===void 0?void 0:$[G],Y=J??$;this._pathCache.set(Y,U);let Q=this._allPathsCache.get(Y);if(!Q)Q=[],this._allPathsCache.set(Y,Q);if(!Q.some((j)=>this._pathsEqual(j,U)))Q.push(U);let N=this._proxyCache.get(Y);if(N===void 0)N=J===void 0?new Proxy($,X):$,this._proxyCache.set(Y,N);return N}getPath($){return this.isUnsubscribed?void 0:this._pathCache.get($)}getAllPaths($){if(this.isUnsubscribed)return;return this._allPathsCache.get($)}isDetached($,U){return!Object.is($,O6.get(U,this.getPath($)))}defineProperty($,U,X){if(!Reflect.defineProperty($,U,X))return!1;if(!this.isUnsubscribed)this._getProperties($)[U]=X;return!0}setProperty($,U,X,G,J){if(!this._equals(J,X)||!(U in $)){let Y=!1,Q=$;while(Q){let w=Reflect.getOwnPropertyDescriptor(Q,U);if(w&&"set"in w){Y=!0;break}Q=Object.getPrototypeOf(Q)}if(Y)return Reflect.set($,U,X,G);return Reflect.set($,U,X)}return!0}deleteProperty($,U,X){if(Reflect.deleteProperty($,U)){if(!this.isUnsubscribed){let G=this._getDescriptorCache().get($);if(G)delete G[U],this._pathCache.delete(X)}return!0}return!1}isSameDescriptor($,U,X){let G=this._getOwnPropertyDescriptor(U,X);return $!==void 0&&G!==void 0&&Object.is($.value,G.value)&&($.writable||!1)===(G.writable||!1)&&($.enumerable||!1)===(G.enumerable||!1)&&($.configurable||!1)===(G.configurable||!1)&&$.get===G.get&&$.set===G.set}isGetInvariant($,U){let X=this._getOwnPropertyDescriptor($,U);return X!==void 0&&X.configurable!==!0&&X.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this._allPathsCache=null,this.isUnsubscribed=!0}}var T0=Array.isArray;function yU(){return!0}function h1($,U){if($===U)return!1;return $.length!==U.length||$.some((X,G)=>U[G]!==X)}var kY=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]);var Ob=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),DW={push:yU,pop:yU,shift:yU,unshift:yU,copyWithin:h1,reverse:h1,sort:h1,splice:h1,flat:h1,fill:h1},C3=new Set([...kY,...Ob,...Object.keys(DW)]);function lU($,U){if($===U)return!1;if($.size!==U.size)return!0;for(let X of $)if(!U.has(X))return!0;return!1}var VW=["keys","values","entries"],BW=new Set(["has","toString"]),_W={add:lU,clear:lU,delete:lU,forEach:lU},x3=new Set([...BW,...Object.keys(_W),...VW]);function cU($,U){if($===U)return!1;if($.size!==U.size)return!0;for(let[X,G]of $){let J=U.get(X);if(J!==G||J===void 0&&!U.has(X))return!0}return!1}var zb=new Set([...BW,"get"]),MW={set:cU,clear:cU,delete:cU,forEach:cU},f3=new Set([...zb,...Object.keys(MW),...VW]);class _6{constructor($,U,X,G){this._path=U,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=G,this._changes=G?[]:null,this.clone=U===void 0?$:this._shallowClone($)}static isHandledMethod($){return kY.has($)}_shallowClone($){let U=$;if(f1($))U={...$};else if(T0($)||ArrayBuffer.isView($))U=[...$];else if($ instanceof Date)U=new Date($);else if($ instanceof Set)U=new Set([...$].map((X)=>this._shallowClone(X)));else if($ instanceof Map){U=new Map;for(let[X,G]of $.entries())U.set(X,this._shallowClone(G))}return this._clonedCache.add(U),U}preferredThisArg($,U,X,G){if($){if(T0(G))this._onIsChanged=DW[U];else if(G instanceof Set)this._onIsChanged=_W[U];else if(G instanceof Map)this._onIsChanged=MW[U];return G}return X}update($,U,X){let G=O6.after($,this._path);if(U!=="length"){let J=this.clone;if(O6.walk(G,(Y)=>{if(J?.[Y]){if(!this._clonedCache.has(J[Y]))J[Y]=this._shallowClone(J[Y]);J=J[Y]}}),this._hasOnValidate)this._changes.push({path:G,property:U,previous:X});if(J?.[U])J[U]=X}this._isChanged=!0}undo($){let U;for(let X=this._changes.length-1;X!==-1;X--)U=this._changes[X],O6.get($,U.path)[U.property]=U.previous}isChanged($,U){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,$)}isPathApplicable($){return O6.isRootPath(this._path)||O6.isSubPath($,this._path)}}class c8 extends _6{static isHandledMethod($){return C3.has($)}}class CY extends _6{undo($){$.setTime(this.clone.getTime())}isChanged($,U){return!U(this.clone.valueOf(),$.valueOf())}}class i8 extends _6{static isHandledMethod($){return x3.has($)}undo($){for(let U of this.clone)$.add(U);for(let U of $)if(!this.clone.has(U))$.delete(U)}}class n8 extends _6{static isHandledMethod($){return f3.has($)}undo($){for(let[U,X]of this.clone.entries())$.set(U,X);for(let U of $.keys())if(!this.clone.has(U))$.delete(U)}}class xY extends _6{constructor($,U,X,G){super(void 0,U,X,G);this._argument1=X[0],this._weakValue=$.has(this._argument1)}isChanged($,U){return this._weakValue!==$.has(this._argument1)}undo($){if(this._weakValue&&!$.has(this._argument1))$.add(this._argument1);else $.delete(this._argument1)}}class fY extends _6{constructor($,U,X,G){super(void 0,U,X,G);this._weakKey=X[0],this._weakHas=$.has(this._weakKey),this._weakValue=$.get(this._weakKey)}isChanged($,U){return this._weakValue!==$.get(this._weakKey)}undo($){let U=$.has(this._weakKey);if(this._weakHas&&!U)$.set(this._weakKey,this._weakValue);else if(!this._weakHas&&U)$.delete(this._weakKey);else if(this._weakValue!==$.get(this._weakKey))$.set(this._weakKey,this._weakValue)}}class E4{constructor($){this._stack=[],this._hasOnValidate=$}static isHandledType($){return f1($)||T0($)||l8($)}static isHandledMethod($,U){if(f1($))return _6.isHandledMethod(U);if(T0($))return c8.isHandledMethod(U);if($ instanceof Set)return i8.isHandledMethod(U);if($ instanceof Map)return n8.isHandledMethod(U);return l8($)}get isCloning(){return this._stack.length>0}start($,U,X){let G=_6;if(T0($))G=c8;else if($ instanceof Date)G=CY;else if($ instanceof Set)G=i8;else if($ instanceof Map)G=n8;else if($ instanceof WeakSet)G=xY;else if($ instanceof WeakMap)G=fY;this._stack.push(new G($,U,X,this._hasOnValidate))}update($,U,X){this._stack.at(-1).update($,U,X)}preferredThisArg($,U,X){let{name:G}=$,J=E4.isHandledMethod(X,G);return this._stack.at(-1).preferredThisArg(J,G,U,X)}isChanged($,U){return this._stack.at(-1).isChanged($,U)}isPartOfClone($){return this._stack.at(-1).isPathApplicable($)}undo($){if(this._previousClone!==void 0)this._previousClone.undo($)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}}var Db=new Set(["values","keys","entries"]),Vb=new Set(["indexOf","lastIndexOf","includes"]),Bb={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},h3=($,U)=>$===!1||$===!0||Array.isArray($)&&$.includes(U),FW=($,U,X={})=>{X={...Bb,...X};let G=Symbol("ProxyTarget"),{equals:J,isShallow:Y,ignoreDetached:Q,details:w}=X,N=new TY(J),j=typeof X.onValidate==="function",H=new E4(j),K=(M,I,x,g,h)=>!j||H.isCloning||X.onValidate(O6.concat(N.getPath(M),I),x,g,h)===!0,z=(M,I,x,g,h)=>{if(RY(N,X,I)||Q&&N.isDetached(M,$))return;let r=N.getAllPaths(M),e=!H.isCloning&&r&&r.length>1?r:[N.getPath(M)];for(let q$ of e)W(q$,I,x,g,h)},W=(M,I,x,g,h)=>{if(H.isCloning&&H.isPartOfClone(M))H.update(M,I,g);else U(O6.concat(M,I),x,g,h)},O=(M)=>M!==null&&(typeof M==="object"||typeof M==="function")?M[G]??M:M,D=(M,I,x,g)=>{if(k3(M)||x==="constructor"||Y&&!E4.isHandledMethod(I,x)||RY(N,X,x)||N.isGetInvariant(I,x)||Q&&N.isDetached(I,$))return M;if(g===void 0)g=N.getPath(I);let h=O6.concat(g,x),r=N.getPath(M);if(r&&B(h,r))return N.getProxy(M,r,E,G);return N.getProxy(M,h,E,G)},B=(M,I)=>{if(x1(M)||M.length<=I.length)return!1;if(Array.isArray(I)&&I.length===0)return!1;let x=Array.isArray(M)?M:M.split(p4),g=Array.isArray(I)?I:I.split(p4);if(x.length<=g.length)return!1;return!g.some((h,r)=>h!==x[r])},v=(M,I,x,g)=>{let h=O6.initial(N.getPath(M)),r=E4.isHandledMethod(x,M.name);H.start(x,h,g);let e;if(Array.isArray(x)&&Vb.has(M.name))e=_b({proxyArray:x,methodName:M.name,searchElement:g[0],fromIndex:g[1],getProxyTarget:O});else e=Reflect.apply(M,H.preferredThisArg(M,I,x),r?g.map((F)=>O(F)):g);let q$=H.isChanged(x,J),v$=H.stop();if(E4.isHandledType(e)&&r){if(I instanceof Map&&M.name==="get")h=O6.concat(h,g[0]);e=N.getProxy(e,h,E)}if(q$){let F=h3(w,M.name)?{name:M.name,args:g,result:e}:void 0,n=H.isCloning?O6.initial(h):h,C=H.isCloning?O6.last(h):"";if(K(O6.get($,n),C,x,v$,F))W(n,C,x,v$,F);else H.undo(x)}if((I instanceof Map||I instanceof Set)&&OW(e))return zW(e,M,I,h,D);return e},E={get(M,I,x){if(x1(I)){if(I===G||I===y8)return M;if(I===KW&&!N.isUnsubscribed&&N.getPath(M).length===0)return N.unsubscribe(),M}let g=l8(M)?Reflect.get(M,I):Reflect.get(M,I,x);return D(g,M,I)},set(M,I,x,g){x=O(x);let h=M[G]??M,r=h[I];if(J(r,x)&&I in M)return!0;let e=K(M,I,x,r);if(e&&N.setProperty(h,I,x,g,r))return z(M,I,M[I],r),!0;return!e},defineProperty(M,I,x){if(!N.isSameDescriptor(x,M,I)){let g=M[I];if(K(M,I,x.value,g)&&N.defineProperty(M,I,x)){let r=Object.hasOwn(x,"value")?x.value:(()=>{try{return M[I]}catch{return}})();z(M,I,r,g)}}return!0},deleteProperty(M,I){if(!Reflect.has(M,I))return!0;let x=Reflect.get(M,I),g=K(M,I,void 0,x);if(g&&N.deleteProperty(M,I,x))return z(M,I,void 0,x),!0;return!g},apply(M,I,x){let g=I?.[G]??I;if(N.isUnsubscribed)return Reflect.apply(M,g,x);if(E4.isHandledType(g)){if(!(f1(g)&&!E4.isHandledMethod(g,M.name))){if(typeof M.name==="symbol"||Db.has(M.name)||w===!1||Array.isArray(w)&&!w.includes(M.name))return v(M,I,g,x)}}if(g instanceof Date&&E4.isHandledMethod(g,M.name)){let h=g.getTime(),r=Reflect.apply(M,g,x),e=g.getTime();if(!J(h,e)){let q$=N.getPath(g);if(h3(w,M.name)){let v$={name:M.name,args:x,result:r},F=new Date(h);if(K(O6.get($,q$),"",g,F,v$))W(q$,"",g,F,v$);else g.setTime(h)}}return r}return Reflect.apply(M,I,x)}},L=N.getProxy($,X.pathAsArray?[]:"",E);if(U=U.bind(L),j)X.onValidate=X.onValidate.bind(L);return L},_b=($)=>{let{proxyArray:U,methodName:X,searchElement:G,fromIndex:J,getProxyTarget:Y}=$,{length:Q}=U;if(Q===0)return X==="includes"?!1:-1;let w=X==="lastIndexOf",N=J===void 0?w?Q-1:0:Math.trunc(Number(J))||0;if(N<0)N=Math.max(0,Q+N);else if(w)N=Math.min(N,Q-1);let j=Y(G),H=X==="lastIndexOf",K=H?-1:Q,z=H?-1:1;for(let W=N;H?W>K:W<K;W+=z){let O=U[W];if(O===G||Y(O)===j)return X==="includes"?!0:W}return X==="includes"?!1:-1};FW.target=($)=>$?.[y8]??$;FW.unsubscribe=($)=>$?.[KW]??$;var p8=FW;var yq=t$(V6(),1);var b1=t$(V6(),1);import $q from"assert";var Y6=!0;class b3 extends Error{constructor(){super(...arguments);this.name="AssertionError"}}var g3=Error;function e$($,U=""){if(!$){let X=new b3(U);if(g3.captureStackTrace)g3.captureStackTrace(X,e$);throw X}}function m3($){return $===BigInt.asIntN(64,$)}function u3($){return $===($&255)}function y3($){return $===($&65535)}function Z6($){return $===$>>>0}function l3($){return $===BigInt.asUintN(64,$)}function c3($){return Number.isSafeInteger($)&&$>=0}var i3=256,n3=256,d8=8;var LW=5,AW="invalid UTF-8 string",qW="must be canonical",vW="too large buffer",d6="too large number";class U6 extends Error{constructor($,U,X){super(`(byte:${$}) ${U}`);this.name="BareError",this.issue=U,this.offset=$,this.cause=X?.cause}}class o8{constructor($,U){if(this.offset=0,$.length>U.maxBufferLength)throw new U6(0,vW);this.bytes=$,this.config=U,this.view=new DataView($.buffer,$.byteOffset,$.length)}}function D1($,U){if(Y6)e$(Z6(U));if($.offset+U>$.bytes.length)throw new U6($.offset,"missing bytes")}function d4($,U){if(Y6)e$(Z6(U));let X=$.offset+U|0;if(X>$.bytes.length){if(X>$.config.maxBufferLength)throw new U6(0,vW);let G=Math.min(X<<1,$.config.maxBufferLength),J=new Uint8Array(G);J.set($.bytes),$.bytes=J,$.view=new DataView(J.buffer)}}function k0($){let U=o4($);if(U>1)throw $.offset--,new U6($.offset,"a bool must be equal to 0 or 1");return U!==0}function v6($,U){K$($,U?1:0)}function C0($){D1($,8);let U=$.view.getBigInt64($.offset,!0);return $.offset+=8,U}function r8($,U){if(Y6)e$(m3(U),d6);d4($,8),$.view.setBigInt64($.offset,U,!0),$.offset+=8}function o4($){return D1($,1),$.bytes[$.offset++]}function K$($,U){if(Y6)e$(u3(U),d6);d4($,1),$.bytes[$.offset++]=U}function PW($){D1($,2);let U=$.view.getUint16($.offset,!0);return $.offset+=2,U}function hY($,U){if(Y6)e$(y3(U),d6);d4($,2),$.view.setUint16($.offset,U,!0),$.offset+=2}function gY($){D1($,4);let U=$.view.getUint32($.offset,!0);return $.offset+=4,U}function x0($,U){if(Y6)e$(Z6(U),d6);d4($,4),$.view.setUint32($.offset,U,!0),$.offset+=4}function p3($,U){if(Y6)e$(l3(U),d6);d4($,8),$.view.setBigUint64($.offset,U,!0),$.offset+=8}function bY($){let U=o4($);if(U>=128){U&=127;let X=7,G=1,J;do J=o4($),U+=(J&127)<<X>>>0,X+=7,G++;while(J>=128&&G<LW);if(J===0)throw $.offset-=G-1,new U6($.offset-G+1,qW);if(G===LW&&J>15)throw $.offset-=G-1,new U6($.offset,d6)}return U}function t8($,U){if(Y6)e$(Z6(U),d6);let X=U>>>0;while(X>=128)K$($,128|U&127),X>>>=7;K$($,X)}function f0($){let U=o4($);if(U>=128){U&=127;let X=128,G=1,J;do J=o4($),U+=(J&127)*X,X*=128,G++;while(J>=128&&G<d8);if(J===0)throw $.offset-=G-1,new U6($.offset-G+1,qW);if(G===d8&&J>15)throw $.offset-=G-1,new U6($.offset,d6)}return U}function iU($,U){if(Y6)e$(c3(U),d6);let X=1,G=U;while(G>=128&&X<d8)K$($,128|G&127),G=Math.floor(G/128),X++;if(X===d8)G&=15;K$($,G)}function d3($){return EW($,bY($))}function o3($,U){t8($,U.length),a8($,U)}function EW($,U){return SW($,U).slice()}function a8($,U){let X=U.length;if(X!==0)d4($,X),$.bytes.set(U,$.offset),$.offset+=X}function SW($,U){if(Y6)e$(Z6(U));D1($,U);let X=$.offset;return $.offset+=U,$.bytes.subarray(X,X+U)}function h0($){return d3($).buffer}function nU($,U){o3($,new Uint8Array(U))}function ZW($,U){if(Y6)e$(Z6(U));return EW($,U).buffer}function IW($,U){a8($,new Uint8Array(U))}function r4($){return Mb($,bY($))}function g1($,U){if(U.length<n3){let X=Ab(U);t8($,X),d4($,X),Lb($,U)}else{let X=vb.encode(U);t8($,X.length),a8($,X)}}function Mb($,U){if(Y6)e$(Z6(U));if(U<i3)return Fb($,U);try{return qb.decode(SW($,U))}catch(X){throw new U6($.offset,AW)}}function Fb($,U){D1($,U);let X="",G=$.bytes,J=$.offset,Y=J+U;while(J<Y){let Q=G[J++];if(Q>127){let w=!0,N=Q;if(J<Y&&Q<224){let j=G[J++];Q=(N&31)<<6|j&63,w=Q>>7===0||N>>5!==6||j>>6!==2}else if(J+1<Y&&Q<240){let j=G[J++],H=G[J++];Q=(N&15)<<12|(j&63)<<6|H&63,w=Q>>11===0||Q>>11===27||N>>4!==14||j>>6!==2||H>>6!==2}else if(J+2<Y){let j=G[J++],H=G[J++],K=G[J++];Q=(N&7)<<18|(j&63)<<12|(H&63)<<6|K&63,w=Q>>16===0||Q>1114111||N>>3!==30||j>>6!==2||H>>6!==2||K>>6!==2}if(w)throw new U6($.offset,AW)}X+=String.fromCodePoint(Q)}return $.offset=J,X}function Lb($,U){let{bytes:X,offset:G}=$,J=0;while(J<U.length){let Y=U.codePointAt(J++);if(Y<128)X[G++]=Y;else{if(Y<2048)X[G++]=192|Y>>6;else{if(Y<65536)X[G++]=224|Y>>12;else X[G++]=240|Y>>18,X[G++]=128|Y>>12&63,J++;X[G++]=128|Y>>6&63}X[G++]=128|Y&63}}$.offset=G}function Ab($){let U=$.length;for(let X=0;X<$.length;X++){let G=$.codePointAt(X);if(G>127){if(U++,G>2047){if(U++,G>65535)X++}}}return U}var qb=new TextDecoder("utf-8",{fatal:!0}),vb=new TextEncoder;function mY({initialBufferLength:$=1024,maxBufferLength:U=33554432}){if(Y6)e$(Z6($),d6),e$(Z6(U),d6),e$($<=U,"initialBufferLength must be lower than or equal to maxBufferLength");return{initialBufferLength:$,maxBufferLength:U}}var RW=mY({});function s8($){return r4($)}function e8($,U){g1($,U)}function Uq($,U){g1($,U)}function Jq($){return ZW($,4)}function Pb($,U){$q(U.byteLength===4),IW($,U)}function Xq($){return ZW($,4)}function Eb($,U){$q(U.byteLength===4),IW($,U)}function Sb($){return PW($)}function Gq($,U){hY($,U)}function r3($){return h0($)}function uY($,U){nU($,U)}function t3($){return h0($)}function Zb($,U){nU($,U)}function a3($){return{version:h0($),createTs:C0($)}}function Ib($,U){uY($,U.start),uY($,U.end),v6($,U.exclusive)}function Rb($,U){uY($,U.key)}function Tb($,U){switch(U.tag){case"KvListAllQuery":{K$($,0);break}case"KvListRangeQuery":{K$($,1),Ib($,U.val);break}case"KvListPrefixQuery":{K$($,2),Rb($,U.val);break}}}function Yq($){let U=f0($);if(U===0)return[];let X=[r3($)];for(let G=1;G<U;G++)X[G]=r3($);return X}function TW($,U){iU($,U.length);for(let X=0;X<U.length;X++)uY($,U[X])}function kb($,U){TW($,U.keys)}function Cb($,U){if(v6($,U!=null),U!=null)v6($,U)}function xb($,U){if(v6($,U!=null),U!=null)p3($,U)}function fb($,U){Tb($,U.query),Cb($,U.reverse),xb($,U.limit)}function Qq($){let U=f0($);if(U===0)return[];let X=[t3($)];for(let G=1;G<U;G++)X[G]=t3($);return X}function hb($,U){iU($,U.length);for(let X=0;X<U.length;X++)Zb($,U[X])}function gb($,U){TW($,U.keys),hb($,U.values)}function bb($,U){TW($,U.keys)}function mb($){return{message:r4($)}}function wq($){let U=f0($);if(U===0)return[];let X=[a3($)];for(let G=1;G<U;G++)X[G]=a3($);return X}function ub($){return{keys:Yq($),values:Qq($),metadata:wq($)}}function yb($){return{keys:Yq($),values:Qq($),metadata:wq($)}}function lb($,U){switch(U.tag){case"KvGetRequest":{K$($,0),kb($,U.val);break}case"KvListRequest":{K$($,1),fb($,U.val);break}case"KvPutRequest":{K$($,2),gb($,U.val);break}case"KvDeleteRequest":{K$($,3),bb($,U.val);break}case"KvDropRequest":{K$($,4);break}}}function cb($){let U=$.offset;switch(o4($)){case 0:return{tag:"KvErrorResponse",val:mb($)};case 1:return{tag:"KvGetResponse",val:ub($)};case 2:return{tag:"KvListResponse",val:yb($)};case 3:return{tag:"KvPutResponse",val:null};case 4:return{tag:"KvDeleteResponse",val:null};case 5:return{tag:"KvDropResponse",val:null};default:throw $.offset=U,new U6(U,"invalid tag")}}var kW=(($)=>{return $.Ok="Ok",$.Error="Error",$})(kW||{});function ib($,U){switch(U){case"Ok":{K$($,0);break}case"Error":{K$($,1);break}}}function nb($,U){Uq($,U.metadata)}function Nq($){return k0($)?r4($):null}function jq($,U){if(v6($,U!=null),U!=null)g1($,U)}function Hq($){return k0($)?h0($):null}function pb($,U){if(v6($,U!=null),U!=null)nU($,U)}function db($){return{name:r4($),key:Nq($),createTs:C0($),input:Hq($)}}function ob($,U){switch(U.tag){case"ActorIntentSleep":{K$($,0);break}case"ActorIntentStop":{K$($,1);break}}}function rb($,U){ib($,U.code),jq($,U.message)}function tb($,U){switch(U.tag){case"ActorStateRunning":{K$($,0);break}case"ActorStateStopped":{K$($,1),rb($,U.val);break}}}function ab($,U){e8($,U.actorId),x0($,U.generation),ob($,U.intent)}function sb($,U){e8($,U.actorId),x0($,U.generation),tb($,U.state)}function Wq($,U){if(v6($,U!=null),U!=null)r8($,U)}function eb($,U){e8($,U.actorId),x0($,U.generation),Wq($,U.alarmTs)}function $m($,U){switch(U.tag){case"EventActorIntent":{K$($,0),ab($,U.val);break}case"EventActorStateUpdate":{K$($,1),sb($,U.val);break}case"EventActorSetAlarm":{K$($,2),eb($,U.val);break}}}function Um($,U){r8($,U.index),$m($,U.inner)}function s3($){return{gatewayId:Jq($),requestId:Xq($)}}function Jm($){let U=f0($);if(U===0)return[];let X=[s3($)];for(let G=1;G<U;G++)X[G]=s3($);return X}function Xm($){return{actorId:s8($),generation:gY($),config:db($),hibernatingRequests:Jm($)}}function Gm($){return{actorId:s8($),generation:gY($)}}function Ym($){let U=$.offset;switch(o4($)){case 0:return{tag:"CommandStartActor",val:Xm($)};case 1:return{tag:"CommandStopActor",val:Gm($)};default:throw $.offset=U,new U6(U,"invalid tag")}}function e3($){return{index:C0($),inner:Ym($)}}function Qm($){return{gatewayId:Jq($),requestId:Xq($),messageIndex:Sb($)}}function wm($,U){Pb($,U.gatewayId),Eb($,U.requestId),Gq($,U.messageIndex)}function Kq($){let U=f0($),X=new Map;for(let G=0;G<U;G++){let J=$.offset,Y=r4($);if(X.has(Y))throw $.offset=J,new U6(J,"duplicated key");X.set(Y,r4($))}return X}function Nm($,U){iU($,U.size);for(let X of U)g1($,X[0]),g1($,X[1])}function jm($){return{actorId:s8($),method:r4($),path:r4($),headers:Kq($),body:Hq($),stream:k0($)}}function Hm($){return{body:h0($),finish:k0($)}}function Wm($,U){hY($,U.status),Nm($,U.headers),pb($,U.body),v6($,U.stream)}function Km($,U){nU($,U.body),v6($,U.finish)}function Om($){return{actorId:s8($),path:r4($),headers:Kq($)}}function zm($){return{data:h0($),binary:k0($)}}function Dm($){return k0($)?PW($):null}function Vm($,U){if(v6($,U!=null),U!=null)hY($,U)}function Bm($){return{code:Dm($),reason:Nq($)}}function _m($,U){v6($,U.canHibernate)}function Mm($,U){nU($,U.data),v6($,U.binary)}function Fm($,U){Gq($,U.index)}function Lm($,U){Vm($,U.code),jq($,U.reason),v6($,U.hibernate)}function Am($,U){switch(U.tag){case"DeprecatedTunnelAck":{K$($,0);break}case"ToServerResponseStart":{K$($,1),Wm($,U.val);break}case"ToServerResponseChunk":{K$($,2),Km($,U.val);break}case"ToServerResponseAbort":{K$($,3);break}case"ToServerWebSocketOpen":{K$($,4),_m($,U.val);break}case"ToServerWebSocketMessage":{K$($,5),Mm($,U.val);break}case"ToServerWebSocketMessageAck":{K$($,6),Fm($,U.val);break}case"ToServerWebSocketClose":{K$($,7),Lm($,U.val);break}}}function qm($,U){wm($,U.messageId),Am($,U.messageKind)}function vm($){let U=$.offset;switch(o4($)){case 0:return{tag:"DeprecatedTunnelAck",val:null};case 1:return{tag:"ToClientRequestStart",val:jm($)};case 2:return{tag:"ToClientRequestChunk",val:Hm($)};case 3:return{tag:"ToClientRequestAbort",val:null};case 4:return{tag:"ToClientWebSocketOpen",val:Om($)};case 5:return{tag:"ToClientWebSocketMessage",val:zm($)};case 6:return{tag:"ToClientWebSocketClose",val:Bm($)};default:throw $.offset=U,new U6(U,"invalid tag")}}function Pm($){return{messageId:Qm($),messageKind:vm($)}}function Em($,U){iU($,U.size);for(let X of U)g1($,X[0]),nb($,X[1])}function Sm($,U){if(v6($,U!=null),U!=null)Em($,U)}function Zm($,U){if(v6($,U!=null),U!=null)Uq($,U)}function Im($,U){g1($,U.name),x0($,U.version),x0($,U.totalSlots),Wq($,U.lastCommandIdx),Sm($,U.prepopulateActorNames),Zm($,U.metadata)}function Rm($,U){iU($,U.length);for(let X=0;X<U.length;X++)Um($,U[X])}function Tm($,U){r8($,U.lastCommandIdx)}function km($,U){r8($,U.ts)}function Cm($,U){e8($,U.actorId),x0($,U.requestId),lb($,U.data)}function xm($,U){switch(U.tag){case"ToServerInit":{K$($,0),Im($,U.val);break}case"ToServerEvents":{K$($,1),Rm($,U.val);break}case"ToServerAckCommands":{K$($,2),Tm($,U.val);break}case"ToServerStopping":{K$($,3);break}case"ToServerPing":{K$($,4),km($,U.val);break}case"ToServerKvRequest":{K$($,5),Cm($,U.val);break}case"ToServerTunnelMessage":{K$($,6),qm($,U.val);break}}}function Oq($,U){let X=U!=null?mY(U):RW,G=new o8(new Uint8Array(X.initialBufferLength),X);return xm(G,$),new Uint8Array(G.view.buffer,G.view.byteOffset,G.offset)}function fm($){return{runnerLostThreshold:C0($)}}function hm($){return{runnerId:s8($),lastEventIdx:C0($),metadata:fm($)}}function gm($){let U=f0($);if(U===0)return[];let X=[e3($)];for(let G=1;G<U;G++)X[G]=e3($);return X}function bm($){return{lastEventIdx:C0($)}}function mm($){return{requestId:gY($),data:cb($)}}function um($){let U=$.offset;switch(o4($)){case 0:return{tag:"ToClientInit",val:hm($)};case 1:return{tag:"ToClientClose",val:null};case 2:return{tag:"ToClientCommands",val:gm($)};case 3:return{tag:"ToClientAckEvents",val:bm($)};case 4:return{tag:"ToClientKvResponse",val:mm($)};case 5:return{tag:"ToClientTunnelMessage",val:Pm($)};default:throw $.offset=U,new U6(U,"invalid tag")}}function zq($){let U=new o8($,RW),X=um(U);if(U.offset<U.view.byteLength)throw new U6(U.offset,"remaining bytes");return X}function ym($,U){e8($,U.runnerId)}function lm($,U){switch(U.tag){case"ToServerlessServerInit":{K$($,0),ym($,U.val);break}}}function Dq($,U){let X=U!=null?mY(U):RW,G=new o8(new Uint8Array(X.initialBufferLength),X);return lm(G,$),new Uint8Array(G.view.buffer,G.view.byteOffset,G.offset)}var Fq;function im($){Fq=$}function E6(){return Fq}function $J($){throw`Unreachable: ${$}`}function nm($,U={}){let{initialDelay:X=1000,maxDelay:G=30000,multiplier:J=2,jitter:Y=!0}=U,Q=Math.min(X*J**$,G);if(Y)Q=Q*(1+Math.random()*0.25);return Math.floor(Q)}function pm($){var U;let[X,G]=$.split("#"),[J,Y]=X.split(".");if(!J||!Y){(U=E6())==null||U.warn({msg:"failed to parse close reason",reason:$});return}return{group:J,error:Y,rayId:G}}var cY=65535;function dm($,U){return $!==U&&Lq(U,$,cY)<cY/2}function om($,U){return $===U||dm($,U)}function Vq($,U){return($+U)%(cY+1)}function Bq($,U){return Lq($,U,cY)}function Lq($,U,X){let G=$-U;if(G<0)return G+X+1;return G}function P6($,U){let X=new Uint8Array($),G=new Uint8Array(U);if(X.length!==G.length)return!1;for(let J=0;J<X.length;J++)if(X[J]!==G[J])return!1;return!0}function rm(){let $,U;return{promise:new Promise((G,J)=>{$=G,U=J}),resolve:$,reject:U}}function M$($){let U=new Uint8Array($);return Array.from(U).map((X)=>X.toString(16).padStart(2,"0")).join("")}var tm=class{constructor($,U,X,G){this.hibernatingRequests=G,this.actorId=$,this.generation=U,this.config=X,this.actorStartPromise=rm()}actorId;generation;config;pendingRequests=[];webSockets=[];actorStartPromise;hibernationRestored=!1;getPendingRequest($,U){var X;return(X=this.pendingRequests.find((G)=>P6(G.gatewayId,$)&&P6(G.requestId,U)))==null?void 0:X.request}createPendingRequest($,U,X){var G,J;if(this.getPendingRequest($,U)!==void 0)(G=E6())==null||G.warn({msg:"attempting to set pending request twice, replacing existing",gatewayId:M$($),requestId:M$(U)}),this.deletePendingRequest($,U);this.pendingRequests.push({gatewayId:$,requestId:U,request:{resolve:()=>{},reject:()=>{},actorId:this.actorId,gatewayId:$,requestId:U,clientMessageIndex:X}}),(J=E6())==null||J.debug({msg:"added pending request",gatewayId:M$($),requestId:M$(U),length:this.pendingRequests.length})}createPendingRequestWithStreamController($,U,X,G){var J,Y;if(this.getPendingRequest($,U)!==void 0)(J=E6())==null||J.warn({msg:"attempting to set pending request twice, replacing existing",gatewayId:M$($),requestId:M$(U)}),this.deletePendingRequest($,U);this.pendingRequests.push({gatewayId:$,requestId:U,request:{resolve:()=>{},reject:()=>{},actorId:this.actorId,gatewayId:$,requestId:U,clientMessageIndex:X,streamController:G}}),(Y=E6())==null||Y.debug({msg:"added pending request with stream controller",gatewayId:M$($),requestId:M$(U),length:this.pendingRequests.length})}deletePendingRequest($,U){var X;let G=this.pendingRequests.findIndex((J)=>P6(J.gatewayId,$)&&P6(J.requestId,U));if(G!==-1)this.pendingRequests.splice(G,1),(X=E6())==null||X.debug({msg:"removed pending request",gatewayId:M$($),requestId:M$(U),length:this.pendingRequests.length})}getWebSocket($,U){var X;return(X=this.webSockets.find((G)=>P6(G.gatewayId,$)&&P6(G.requestId,U)))==null?void 0:X.ws}setWebSocket($,U,X){var G;if(this.getWebSocket($,U)!==void 0){(G=E6())==null||G.warn({msg:"attempting to set websocket twice"});return}this.webSockets.push({gatewayId:$,requestId:U,ws:X})}deleteWebSocket($,U){let X=this.webSockets.findIndex((G)=>P6(G.gatewayId,$)&&P6(G.requestId,U));if(X!==-1)this.webSockets.splice(X,1)}};function t4($){return`ArrayBuffer(${$.byteLength})`}function S4($){return`${$}n`}function fW($){let U=Array.from($.entries()).map(([X,G])=>`"${X}": "${G}"`).join(", ");return`Map(${$.size}){${U}}`}function Aq($){return`MessageId{gatewayId: ${M$($.gatewayId)}, requestId: ${M$($.requestId)}, messageIndex: ${$.messageIndex}}`}function hW($){switch($.tag){case"DeprecatedTunnelAck":return"DeprecatedTunnelAck";case"ToServerResponseStart":{let{status:U,headers:X,body:G,stream:J}=$.val,Y=G===null?"null":t4(G);return`ToServerResponseStart{status: ${U}, headers: ${fW(X)}, body: ${Y}, stream: ${J}}`}case"ToServerResponseChunk":{let{body:U,finish:X}=$.val;return`ToServerResponseChunk{body: ${t4(U)}, finish: ${X}}`}case"ToServerResponseAbort":return"ToServerResponseAbort";case"ToServerWebSocketOpen":{let{canHibernate:U}=$.val;return`ToServerWebSocketOpen{canHibernate: ${U}}`}case"ToServerWebSocketMessage":{let{data:U,binary:X}=$.val;return`ToServerWebSocketMessage{data: ${t4(U)}, binary: ${X}}`}case"ToServerWebSocketMessageAck":{let{index:U}=$.val;return`ToServerWebSocketMessageAck{index: ${U}}`}case"ToServerWebSocketClose":{let{code:U,reason:X,hibernate:G}=$.val,J=U===null?"null":U.toString(),Y=X===null?"null":`"${X}"`;return`ToServerWebSocketClose{code: ${J}, reason: ${Y}, hibernate: ${G}}`}}}function qq($){switch($.tag){case"DeprecatedTunnelAck":return"DeprecatedTunnelAck";case"ToClientRequestStart":{let{actorId:U,method:X,path:G,headers:J,body:Y,stream:Q}=$.val,w=Y===null?"null":t4(Y);return`ToClientRequestStart{actorId: "${U}", method: "${X}", path: "${G}", headers: ${fW(J)}, body: ${w}, stream: ${Q}}`}case"ToClientRequestChunk":{let{body:U,finish:X}=$.val;return`ToClientRequestChunk{body: ${t4(U)}, finish: ${X}}`}case"ToClientRequestAbort":return"ToClientRequestAbort";case"ToClientWebSocketOpen":{let{actorId:U,path:X,headers:G}=$.val;return`ToClientWebSocketOpen{actorId: "${U}", path: "${X}", headers: ${fW(G)}}`}case"ToClientWebSocketMessage":{let{data:U,binary:X}=$.val;return`ToClientWebSocketMessage{data: ${t4(U)}, binary: ${X}}`}case"ToClientWebSocketClose":{let{code:U,reason:X}=$.val,G=U===null?"null":U.toString(),J=X===null?"null":`"${X}"`;return`ToClientWebSocketClose{code: ${G}, reason: ${J}}`}}}function am($){switch($.tag){case"CommandStartActor":{let{actorId:U,generation:X,config:G,hibernatingRequests:J}=$.val,Y=G.key===null?"null":`"${G.key}"`,Q=G.input===null?"null":t4(G.input),w=J.length>0?`[${J.map((N)=>`{gatewayId: ${M$(N.gatewayId)}, requestId: ${M$(N.requestId)}}`).join(", ")}]`:"[]";return`CommandStartActor{actorId: "${U}", generation: ${X}, config: {name: "${G.name}", key: ${Y}, createTs: ${S4(G.createTs)}, input: ${Q}}, hibernatingRequests: ${w}}`}case"CommandStopActor":{let{actorId:U,generation:X}=$.val;return`CommandStopActor{actorId: "${U}", generation: ${X}}`}}}function sm($){return`CommandWrapper{index: ${S4($.index)}, inner: ${am($.inner)}}`}function em($){switch($.tag){case"EventActorIntent":{let{actorId:U,generation:X,intent:G}=$.val,J=G.tag==="ActorIntentSleep"?"Sleep":G.tag==="ActorIntentStop"?"Stop":"Unknown";return`EventActorIntent{actorId: "${U}", generation: ${X}, intent: ${J}}`}case"EventActorStateUpdate":{let{actorId:U,generation:X,state:G}=$.val,J;if(G.tag==="ActorStateRunning")J="Running";else if(G.tag==="ActorStateStopped"){let{code:Y,message:Q}=G.val,w=Q===null?"null":`"${Q}"`;J=`Stopped{code: ${Y}, message: ${w}}`}else J="Unknown";return`EventActorStateUpdate{actorId: "${U}", generation: ${X}, state: ${J}}`}case"EventActorSetAlarm":{let{actorId:U,generation:X,alarmTs:G}=$.val,J=G===null?"null":S4(G);return`EventActorSetAlarm{actorId: "${U}", generation: ${X}, alarmTs: ${J}}`}}}function $u($){return`EventWrapper{index: ${S4($.index)}, inner: ${em($.inner)}}`}function Uu($){switch($.tag){case"ToServerInit":{let{name:U,version:X,totalSlots:G,lastCommandIdx:J,prepopulateActorNames:Y,metadata:Q}=$.val,w=J===null?"null":S4(J),N=Y===null?"null":`Map(${Y.size})`,j=Q===null?"null":`"${Q}"`;return`ToServerInit{name: "${U}", version: ${X}, totalSlots: ${G}, lastCommandIdx: ${w}, prepopulateActorNames: ${N}, metadata: ${j}}`}case"ToServerEvents":{let U=$.val;return`ToServerEvents{count: ${U.length}, events: [${U.map((X)=>$u(X)).join(", ")}]}`}case"ToServerAckCommands":{let{lastCommandIdx:U}=$.val;return`ToServerAckCommands{lastCommandIdx: ${S4(U)}}`}case"ToServerStopping":return"ToServerStopping";case"ToServerPing":{let{ts:U}=$.val;return`ToServerPing{ts: ${S4(U)}}`}case"ToServerKvRequest":{let{actorId:U,requestId:X,data:G}=$.val,J=Xu(G);return`ToServerKvRequest{actorId: "${U}", requestId: ${X}, data: ${J}}`}case"ToServerTunnelMessage":{let{messageId:U,messageKind:X}=$.val;return`ToServerTunnelMessage{messageId: ${Aq(U)}, messageKind: ${hW(X)}}`}}}function Ju($){switch($.tag){case"ToClientInit":{let{runnerId:U,lastEventIdx:X,metadata:G}=$.val,J=`{runnerLostThreshold: ${S4(G.runnerLostThreshold)}}`;return`ToClientInit{runnerId: "${U}", lastEventIdx: ${S4(X)}, metadata: ${J}}`}case"ToClientClose":return"ToClientClose";case"ToClientCommands":{let U=$.val;return`ToClientCommands{count: ${U.length}, commands: [${U.map((X)=>sm(X)).join(", ")}]}`}case"ToClientAckEvents":{let{lastEventIdx:U}=$.val;return`ToClientAckEvents{lastEventIdx: ${S4(U)}}`}case"ToClientKvResponse":{let{requestId:U,data:X}=$.val,G=Yu(X);return`ToClientKvResponse{requestId: ${U}, data: ${G}}`}case"ToClientTunnelMessage":{let{messageId:U,messageKind:X}=$.val;return`ToClientTunnelMessage{messageId: ${Aq(U)}, messageKind: ${qq(X)}}`}}}function Xu($){switch($.tag){case"KvGetRequest":{let{keys:U}=$.val;return`KvGetRequest{keys: ${U.length}}`}case"KvListRequest":{let{query:U,reverse:X,limit:G}=$.val,J=X===null?"null":X.toString(),Y=G===null?"null":S4(G);return`KvListRequest{query: ${Gu(U)}, reverse: ${J}, limit: ${Y}}`}case"KvPutRequest":{let{keys:U,values:X}=$.val;return`KvPutRequest{keys: ${U.length}, values: ${X.length}}`}case"KvDeleteRequest":{let{keys:U}=$.val;return`KvDeleteRequest{keys: ${U.length}}`}case"KvDropRequest":return"KvDropRequest"}}function Gu($){switch($.tag){case"KvListAllQuery":return"KvListAllQuery";case"KvListRangeQuery":{let{start:U,end:X,exclusive:G}=$.val;return`KvListRangeQuery{start: ${t4(U)}, end: ${t4(X)}, exclusive: ${G}}`}case"KvListPrefixQuery":{let{key:U}=$.val;return`KvListPrefixQuery{key: ${t4(U)}}`}}}function Yu($){switch($.tag){case"KvErrorResponse":{let{message:U}=$.val;return`KvErrorResponse{message: "${U}"}`}case"KvGetResponse":{let{keys:U,values:X,metadata:G}=$.val;return`KvGetResponse{keys: ${U.length}, values: ${X.length}, metadata: ${G.length}}`}case"KvListResponse":{let{keys:U,values:X,metadata:G}=$.val;return`KvListResponse{keys: ${U.length}, values: ${X.length}, metadata: ${G.length}}`}case"KvPutResponse":return"KvPutResponse";case"KvDeleteResponse":return"KvDeleteResponse";case"KvDropResponse":return"KvDropResponse"}}var gW=Symbol("hibernatable"),Qu=class{constructor($,U,X,G,J,Y,Q,w,N){this.request=Q;var j;if(this.#j=$,this.#N=U,this.#z=X,this.#O=J,this.#B=G,this.#V=w,this.#M=N,Y)(j=this.#D)==null||j.debug({msg:"setting WebSocket to OPEN state for restored connection",actorId:this.#N,requestId:this.#z,hibernatable:this.#O}),this.#$=1}#$=0;#U=new Map;#X=null;#G=null;#J=null;#Q=null;#w=0;#H="nodebuffer";#Y="";#W="";#K="";#j;#N;#z;#O;#B;get[gW](){return this.#O}#V;#M;get#D(){return this.#j.log}get bufferedAmount(){return this.#w}_handleOpen($){if(this.#$!==0)return;this.#$=1;let U={type:"open",rivetRequestId:$,target:this};this.#_("open",U)}_handleMessage($,U,X,G){var J,Y,Q;if(this.#$!==1)return(J=this.#D)==null||J.warn({msg:"WebSocket message ignored - not in OPEN state",requestId:this.#z,actorId:this.#N,currentReadyState:this.#$,expectedReadyState:1,serverMessageIndex:X,hibernatable:this.#O}),!0;if(this.#O){let j=this.#B;if(om(X,j))return(Y=this.#D)==null||Y.info({msg:"received duplicate hibernating websocket message, this indicates the actor failed to ack the message index before restarting",requestId:$,actorId:this.#N,previousIndex:j,expectedIndex:Vq(j,1),receivedIndex:X}),!0;let H=Vq(j,1);if(X!==H)return(Q=this.#D)==null||Q.warn({msg:"hibernatable websocket message index out of sequence, closing connection",requestId:$,actorId:this.#N,previousIndex:j,expectedIndex:H,receivedIndex:X,closeReason:"ws.message_index_skip",gap:Bq(Bq(X,j),1)}),this.close(1008,"ws.message_index_skip"),!0;this.#B=X}let w;if(G)if(this.#H==="nodebuffer")w=Buffer.from(U);else if(this.#H==="arraybuffer")if(U instanceof Uint8Array)w=U.buffer.slice(U.byteOffset,U.byteOffset+U.byteLength);else w=U;else throw Error("Blob binaryType not supported in tunnel adapter");else w=U;let N={type:"message",data:w,rivetRequestId:$,rivetMessageIndex:X,target:this};return this.#_("message",N),!1}_handleClose($,U,X){this.#F(U,X,!0)}_handleError($){let U={type:"error",target:this,error:$};this.#_("error",U)}_closeWithoutCallback($,U){this.#F($,U,!1)}#_($,U){var X,G,J,Y,Q;let w=this.#U.get($);if(w&&w.size>0)for(let N of w)try{N.call(this,U)}catch(j){(X=E6())==null||X.error({msg:"error in websocket event listener",error:j,type:$})}switch($){case"open":if(this.#X)try{this.#X.call(this,U)}catch(N){(G=E6())==null||G.error({msg:"error in onopen handler",error:N})}break;case"close":if(this.#G)try{this.#G.call(this,U)}catch(N){(J=E6())==null||J.error({msg:"error in onclose handler",error:N})}break;case"error":if(this.#J)try{this.#J.call(this,U)}catch(N){(Y=E6())==null||Y.error({msg:"error in onerror handler",error:N})}break;case"message":if(this.#Q)try{this.#Q.call(this,U)}catch(N){(Q=E6())==null||Q.error({msg:"error in onmessage handler",error:N})}break}}#F($,U,X){if(this.#$===2||this.#$===3)return;if(this.#$=2,X)this.#M($,U);this.#$=3;let G={wasClean:!0,code:$||1000,reason:U||"",type:"close",target:this};this.#_("close",G)}get readyState(){return this.#$}get binaryType(){return this.#H}set binaryType($){if($==="nodebuffer"||$==="arraybuffer"||$==="blob")this.#H=$}get extensions(){return this.#Y}get protocol(){return this.#W}get url(){return this.#K}get onopen(){return this.#X}set onopen($){this.#X=$}get onclose(){return this.#G}set onclose($){this.#G=$}get onerror(){return this.#J}set onerror($){this.#J=$}get onmessage(){return this.#Q}set onmessage($){this.#Q=$}send($){if(this.#$===0)throw new DOMException("WebSocket is still in CONNECTING state","InvalidStateError");if(this.#$===2||this.#$===3)return;let U=!1,X;if(typeof $==="string")X=$;else if($ instanceof ArrayBuffer)U=!0,X=$;else if(ArrayBuffer.isView($)){U=!0;let G=$;if(G.buffer instanceof SharedArrayBuffer){let J=new Uint8Array(G.buffer,G.byteOffset,G.byteLength);X=J.buffer.slice(J.byteOffset,J.byteOffset+J.byteLength)}else X=G.buffer.slice(G.byteOffset,G.byteOffset+G.byteLength)}else if($ instanceof Blob)throw Error("Blob sending not implemented in tunnel adapter");else if(typeof Buffer<"u"&&Buffer.isBuffer($)){U=!0;let G=$;if(G.buffer instanceof SharedArrayBuffer){let J=new Uint8Array(G.buffer,G.byteOffset,G.byteLength);X=J.buffer.slice(J.byteOffset,J.byteOffset+J.byteLength)}else X=G.buffer.slice(G.byteOffset,G.byteOffset+G.byteLength)}else throw Error("Invalid data type");this.#V(X,U)}close($,U){this.#F($,U,!0)}addEventListener($,U,X){if(typeof U==="function"){let G=this.#U.get($);if(!G)G=new Set,this.#U.set($,G);G.add(U)}}removeEventListener($,U,X){if(typeof U==="function"){let G=this.#U.get($);if(G)G.delete(U)}}dispatchEvent($){return!0}static CONNECTING=0;static OPEN=1;static CLOSING=2;static CLOSED=3;CONNECTING=0;OPEN=1;CLOSING=2;CLOSED=3;ping($,U,X){if(X)X(Error("Ping not supported in tunnel adapter"))}pong($,U,X){if(X)X(Error("Pong not supported in tunnel adapter"))}terminate(){this.#$=3,this.#M(1006,"Abnormal Closure");let $={wasClean:!1,code:1006,reason:"Abnormal Closure",type:"close",target:this};this.#_("close",$)}},_q=class extends Error{constructor(){super("Runner shut down")}},wu=class{#$;#U=[];#X=[];get log(){return this.#$.log}constructor($){this.#$=$}start(){}resendBufferedEvents(){var $;if(this.#X.length===0)return;($=this.log)==null||$.info({msg:"resending buffered tunnel messages",count:this.#X.length});let U=this.#X;this.#X=[];for(let{gatewayId:X,requestId:G,messageKind:J}of U)this.#Q(X,G,J)}shutdown(){for(let[$,U]of this.#$.actors){for(let X of U.pendingRequests)X.request.reject(new _q);U.pendingRequests=[];for(let X of U.webSockets)if(!X.ws[gW])X.ws._closeWithoutCallback(1000,"ws.tunnel_shutdown");U.webSockets=[]}this.#U=[]}async restoreHibernatingRequests($,U){var X,G,J,Y;let Q=this.#$.getActor($);if(!Q)throw Error(`Actor ${$} not found for restoring hibernating requests`);if(Q.hibernationRestored)throw Error(`Actor ${$} already restored hibernating requests`);(X=this.log)==null||X.debug({msg:"restoring hibernating requests",actorId:$,requests:Q.hibernatingRequests.length});let w=[],N=0,j=0;for(let{gatewayId:K,requestId:z}of Q.hibernatingRequests){let W=M$(z),O=U.find((D)=>P6(D.gatewayId,K)&&P6(D.requestId,z));if(!O)(G=this.log)==null||G.warn({msg:"closing websocket that is not persisted",requestId:W}),this.#Q(K,z,{tag:"ToServerWebSocketClose",val:{code:1000,reason:"ws.meta_not_found_during_restore",hibernate:!1}}),N++;else{let D=CW(O.path,O.headers),B=this.#G($,K,z,W,O.serverMessageIndex,!0,!0,D,O.path,O.headers,!1).then(()=>{var v;let E=this.#$.getActor($);if(E)E.createPendingRequest(K,z,O.clientMessageIndex);(v=this.log)==null||v.info({msg:"connection successfully restored",actorId:$,requestId:W})}).catch((v)=>{var E;(E=this.log)==null||E.error({msg:"error creating websocket during restore",requestId:W,err:v}),this.#Q(K,z,{tag:"ToServerWebSocketClose",val:{code:1011,reason:"ws.restore_error",hibernate:!1}})});w.push(B),j++}}let H=0;for(let K of U){let z=M$(K.requestId);if(!Q.hibernatingRequests.some((O)=>P6(O.gatewayId,K.gatewayId)&&P6(O.requestId,K.requestId))){(J=this.log)==null||J.warn({msg:"removing stale persisted websocket",requestId:z});let O=CW(K.path,K.headers),D=this.#G($,K.gatewayId,K.requestId,z,K.serverMessageIndex,!0,!0,O,K.path,K.headers,!0).then((B)=>{B.close(1000,"ws.stale_metadata")}).catch((B)=>{var v;(v=this.log)==null||v.error({msg:"error creating stale websocket during restore",requestId:z,err:B})});w.push(D),H++}}await Promise.allSettled(w),Q.hibernationRestored=!0,(Y=this.log)==null||Y.info({msg:"restored hibernatable websockets",actorId:$,restoredCount:j,connectedButNotLoadedCount:N,loadedButNotConnectedCount:H})}async#G($,U,X,G,J,Y,Q,w,N,j,H){var K;(K=this.log)==null||K.debug({msg:"createWebSocket creating adapter",actorId:$,requestIdStr:G,isHibernatable:Y,path:N});let z=new Qu(this,$,G,J,Y,Q,w,(O,D)=>{let B=typeof O==="string"?new TextEncoder().encode(O).buffer:O;this.#Q(U,X,{tag:"ToServerWebSocketMessage",val:{data:B,binary:D}})},(O,D)=>{if(!H)this.#Q(U,X,{tag:"ToServerWebSocketClose",val:{code:O||null,reason:D||null,hibernate:!1}});let B=this.#$.getActor($);if(B)B.deleteWebSocket(U,X),B.deletePendingRequest(U,X);this.#J(U,X)}),W=this.#$.getActor($);if(!W)throw Error(`Actor ${$} not found`);return W.setWebSocket(U,X,z),this.addRequestToActor(U,X,$),await this.#$.config.websocket(this.#$,$,z,U,X,w,N,j,Y,Q),z}addRequestToActor($,U,X){this.#U.push({gatewayId:$,requestId:U,actorId:X})}#J($,U){let X=this.#U.findIndex((G)=>P6(G.gatewayId,$)&&P6(G.requestId,U));if(X!==-1)this.#U.splice(X,1)}getRequestActor($,U){var X,G;let J=this.#U.find((Q)=>P6(Q.gatewayId,$)&&P6(Q.requestId,U));if(!J){(X=this.log)==null||X.warn({msg:"missing requestToActor entry",requestId:M$(U)});return}let Y=this.#$.getActor(J.actorId);if(!Y){(G=this.log)==null||G.warn({msg:"missing actor for requestToActor lookup",requestId:M$(U),actorId:J.actorId});return}return Y}async getAndWaitForRequestActor($,U){let X=this.getRequestActor($,U);if(!X)return;return await X.actorStartPromise.promise,X}#Q($,U,X){var G,J,Y,Q;if(!this.#$.__webSocketReady()){(G=this.log)==null||G.debug({msg:"buffering tunnel message, socket not connected to engine",requestId:M$(U),message:hW(X)}),this.#X.push({gatewayId:$,requestId:U,messageKind:X});return}let w=M$($),N=M$(U),j=this.getRequestActor($,U);if(!j){(J=this.log)==null||J.warn({msg:"cannot send tunnel message, actor not found",gatewayId:w,requestId:N});return}let H,K=j.getPendingRequest($,U);if(K)H=K.clientMessageIndex,K.clientMessageIndex++;else(Y=this.log)==null||Y.warn({msg:"missing pending request for send message, defaulting to message index 0",gatewayId:w,requestId:N}),H=0;let z={gatewayId:$,requestId:U,messageIndex:H},W=`${M$(z.gatewayId)}-${M$(z.requestId)}-${z.messageIndex}`;(Q=this.log)==null||Q.debug({msg:"sending tunnel msg",messageId:W,gatewayId:w,requestId:N,messageIndex:H,message:hW(X)});let O={tag:"ToServerTunnelMessage",val:{messageId:z,messageKind:X}};this.#$.__sendToServer(O)}closeActiveRequests($){let U=$.actorId;for(let X of $.pendingRequests)if(X.request.reject(Error(`Actor ${U} stopped`)),X.gatewayId&&X.requestId)this.#J(X.gatewayId,X.requestId);for(let X of $.webSockets)if(!X.ws[gW])X.ws._closeWithoutCallback(1000,"actor.stopped")}async#w($,U,X,G){var J;if(!this.#$.hasActor($))return(J=this.log)==null||J.warn({msg:"ignoring request for unknown actor",actorId:$}),new Response("Actor not found",{status:503,headers:{"x-rivet-error":"runner.actor_not_found"}});let Y=this.#$.config.fetch(this.#$,$,U,X,G);if(!Y)return new Response("Not Implemented",{status:501});return Y}async handleTunnelMessage($){var U;let{gatewayId:X,requestId:G,messageIndex:J}=$.messageId,Y=M$(X),Q=M$(G);switch((U=this.log)==null||U.debug({msg:"receive tunnel msg",gatewayId:Y,requestId:Q,messageIndex:$.messageId.messageIndex,message:qq($.messageKind)}),$.messageKind.tag){case"ToClientRequestStart":await this.#H(X,G,$.messageKind.val);break;case"ToClientRequestChunk":await this.#Y(X,G,$.messageKind.val);break;case"ToClientRequestAbort":await this.#W(X,G);break;case"ToClientWebSocketOpen":await this.#N(X,G,$.messageKind.val);break;case"ToClientWebSocketMessage":{await this.#z(X,G,J,$.messageKind.val);break}case"ToClientWebSocketClose":await this.#O(X,G,$.messageKind.val);break;case"DeprecatedTunnelAck":break;default:$J($.messageKind)}}async#H($,U,X){var G,J,Y;let Q=M$(U),w=await this.#$.getAndWaitForActor(X.actorId);if(!w){(G=this.log)==null||G.warn({msg:"actor does not exist in handleRequestStart, request will leak",actorId:X.actorId,requestId:Q});return}this.addRequestToActor($,U,X.actorId);try{let N=new Headers;for(let[H,K]of X.headers)N.append(H,K);let j=new Request(`http://localhost${X.path}`,{method:X.method,headers:N,body:X.body?new Uint8Array(X.body):void 0});if(X.stream){let H=new ReadableStream({start:(W)=>{let O=w.getPendingRequest($,U);if(O)O.streamController=W,O.actorId=X.actorId,O.gatewayId=$,O.requestId=U;else w.createPendingRequestWithStreamController($,U,0,W)}}),K=new Request(j,{body:H,duplex:"half"}),z=await this.#w(X.actorId,$,U,K);await this.#K(w.actorId,w.generation,$,U,z)}else{w.createPendingRequest($,U,0);let H=await this.#w(X.actorId,$,U,j);await this.#K(w.actorId,w.generation,$,U,H)}}catch(N){if(N instanceof _q)(J=this.log)==null||J.debug({msg:"catught runner shutdown error"});else(Y=this.log)==null||Y.error({msg:"error handling request",error:N}),this.#j(w.actorId,w.generation,$,U,500,"Internal Server Error")}finally{if(this.#$.hasActor(X.actorId,w.generation))w.deletePendingRequest($,U),this.#J($,U)}}async#Y($,U,X){let G=await this.getAndWaitForRequestActor($,U);if(G){let J=G.getPendingRequest($,U);if(J==null?void 0:J.streamController){if(J.streamController.enqueue(new Uint8Array(X.body)),X.finish)J.streamController.close(),G.deletePendingRequest($,U),this.#J($,U)}}}async#W($,U){let X=await this.getAndWaitForRequestActor($,U);if(X){let G=X.getPendingRequest($,U);if(G==null?void 0:G.streamController)G.streamController.error(Error("Request aborted"));X.deletePendingRequest($,U),this.#J($,U)}}async#K($,U,X,G,J){var Y;if(!this.#$.hasActor($,U)){(Y=this.log)==null||Y.warn({msg:"actor not loaded to send response, assuming gateway has closed request",actorId:$,generation:U,requestId:G});return}let Q=J.body?await J.arrayBuffer():null,w=new Map;if(J.headers.forEach((N,j)=>{w.set(j,N)}),Q&&!w.has("content-length"))w.set("content-length",String(Q.byteLength));this.#Q(X,G,{tag:"ToServerResponseStart",val:{status:J.status,headers:w,body:Q||null,stream:!1}})}#j($,U,X,G,J,Y){var Q;if(!this.#$.hasActor($,U)){(Q=this.log)==null||Q.warn({msg:"actor not loaded to send response, assuming gateway has closed request",actorId:$,generation:U,requestId:G});return}let w=new Map;w.set("content-type","text/plain"),this.#Q(X,G,{tag:"ToServerResponseStart",val:{status:J,headers:w,body:new TextEncoder().encode(Y).buffer,stream:!1}})}async#N($,U,X){var G,J,Y;let Q=M$(U),w=await this.#$.getAndWaitForActor(X.actorId);if(!w){(G=this.log)==null||G.warn({msg:"ignoring websocket for unknown actor",actorId:X.actorId}),this.#Q($,U,{tag:"ToServerWebSocketClose",val:{code:1011,reason:"Actor not found",hibernate:!1}});return}let N=w.getWebSocket($,U);if(N)(J=this.log)==null||J.warn({msg:"closing existing websocket for duplicate open event for the same request id",requestId:Q}),N._closeWithoutCallback(1000,"ws.duplicate_open");try{let j=CW(X.path,Object.fromEntries(X.headers)),H=this.#$.config.hibernatableWebSocket.canHibernate(w.actorId,$,U,j),K=await this.#G(w.actorId,$,U,Q,0,H,!1,j,X.path,Object.fromEntries(X.headers),!1);w.createPendingRequest($,U,0),this.#Q($,U,{tag:"ToServerWebSocketOpen",val:{canHibernate:H}}),K._handleOpen(U)}catch(j){(Y=this.log)==null||Y.error({msg:"error handling websocket open",error:j}),this.#Q($,U,{tag:"ToServerWebSocketClose",val:{code:1011,reason:"Server Error",hibernate:!1}}),w.deleteWebSocket($,U),w.deletePendingRequest($,U),this.#J($,U)}}async#z($,U,X,G){var J;let Y=await this.getAndWaitForRequestActor($,U);if(Y){let Q=Y.getWebSocket($,U);if(Q){let w=G.binary?new Uint8Array(G.data):new TextDecoder().decode(new Uint8Array(G.data));Q._handleMessage(U,w,X,G.binary);return}}(J=this.log)==null||J.warn({msg:"missing websocket for incoming websocket message, this may indicate the actor stopped before processing a message",requestId:U})}sendHibernatableWebSocketMessageAck($,U,X){var G,J,Y;let Q=M$(U);if((G=this.log)==null||G.debug({msg:"ack ws msg",requestId:Q,index:X}),X<0||X>65535)throw Error("invalid websocket ack index");let w=this.getRequestActor($,U);if(!w){(J=this.log)==null||J.warn({msg:"cannot send websocket ack, actor not found",requestId:Q});return}let N=w.getPendingRequest($,U);if(!(N==null?void 0:N.gatewayId)){(Y=this.log)==null||Y.warn({msg:"cannot send websocket ack, gatewayId not found in pending request",requestId:Q});return}this.#Q(N.gatewayId,U,{tag:"ToServerWebSocketMessageAck",val:{index:X}})}async#O($,U,X){let G=await this.getAndWaitForRequestActor($,U);if(G){let J=G.getWebSocket($,U);if(J)J._handleClose(U,X.code||void 0,X.reason||void 0),G.deleteWebSocket($,U),G.deletePendingRequest($,U),this.#J($,U)}}};function CW($,U){let X={...U,Upgrade:"websocket",Connection:"Upgrade"};if(!$.startsWith("/"))throw Error("path must start with leading slash");return new Request(`http://actor${$}`,{method:"GET",headers:X})}var yY=null;async function Nu(){if(yY!==null)return yY;return yY=(async()=>{var $,U,X;let G;if(typeof WebSocket<"u")G=WebSocket,($=E6())==null||$.debug({msg:"using native websocket"});else try{G=(await import("ws")).default,(U=E6())==null||U.debug({msg:"using websocket from npm"})}catch{G=class{constructor(){throw Error('WebSocket support requires installing the "ws" peer dependency.')}},(X=E6())==null||X.debug({msg:"using mock websocket"})}return G})(),yY}var ju=30000,Mq=3,Hu=3000,xW=1e4,lY=[],vq=class{#$;get config(){return this.#$}#U=new Map;__pegboardWebSocket;runnerId;#X=-1;#G;#J=0n;#Q=!1;#w=!1;#H=!1;#Y=0;#W;#K;#j;#N=[];#z=!1;#O;#B=0;#V=new Map;#M;#D;#_;get log(){if(this.#_)return this.#_;let $=E6();if($)if(this.runnerId)return this.#_=$.child({runnerId:this.runnerId}),this.#_;else return $;return}constructor($){if(this.#$=$,this.#$.logger)im(this.#$.logger);this.#M=setInterval(()=>{this.#y()},15000)}sleepActor($,U){let X=this.getActor($,U);if(!X)return;this.#q($,X.generation,"sleep")}async stopActor($,U){let X=this.getActor($,U);if(!X)return;this.#q($,X.generation,"stop")}async forceStopActor($,U){var X;let G=this.getActor($,U);if(!G)return;try{await this.#$.onActorStop($,G.generation)}catch(J){console.error(`Error in onActorStop for actor ${$}:`,J)}(X=this.#D)==null||X.closeActiveRequests(G),this.#A($,U),this.#I($,G.generation,"stopped")}#F(){var $;($=this.log)==null||$.info({msg:"stopping all actors due to runner lost threshold exceeded"});let U=Array.from(this.#U.keys());for(let X of U)this.forceStopActor(X)}getActor($,U){var X,G;let J=this.#U.get($);if(!J){(X=this.log)==null||X.warn({msg:"actor not found",actorId:$});return}if(U!==void 0&&J.generation!==U){(G=this.log)==null||G.warn({msg:"actor generation mismatch",actorId:$,generation:U});return}return J}async getAndWaitForActor($,U){let X=this.getActor($,U);if(!X)return;return await X.actorStartPromise.promise,X}hasActor($,U){let X=this.#U.get($);return!!X&&(U===void 0||X.generation===U)}get actors(){return this.#U}#A($,U){var X,G,J;let Y=this.#U.get($);if(!Y){(X=this.log)==null||X.error({msg:"actor not found for removal",actorId:$});return}if(U!==void 0&&Y.generation!==U){(G=this.log)==null||G.error({msg:"actor generation mismatch",actorId:$,generation:U});return}return this.#U.delete($),(J=this.log)==null||J.info({msg:"removed actor",actorId:$,actors:this.#U.size}),Y}async start(){var $,U;if(this.#Q)throw Error("Cannot call runner.start twice");this.#Q=!0,($=this.log)==null||$.info({msg:"starting runner"}),this.#D=new wu(this),this.#D.start();try{await this.#E()}catch(X){throw this.#Q=!1,X}if(!this.#$.noAutoShutdown){if(!lY.length)process.on("SIGTERM",async()=>{var X;(X=this.log)==null||X.debug("received SIGTERM");for(let G of lY)await G()}),process.on("SIGINT",async()=>{var X;(X=this.log)==null||X.debug("received SIGINT");for(let G of lY)await G()}),(U=this.log)==null||U.debug({msg:"added SIGTERM listeners"});lY.push(async()=>{var X;await((X=new WeakRef(this).deref())==null?void 0:X.shutdown(!1,!1))})}}async shutdown($,U=!1){var X,G,J,Y,Q,w,N,j;if(this.#H){(X=this.log)==null||X.debug({msg:"shutdown already in progress, ignoring"});return}if(this.#H=!0,(G=this.log)==null||G.info({msg:"starting shutdown",immediate:$,exit:U}),this.#w=!0,this.#W)clearTimeout(this.#W),this.#W=void 0;if(this.#j)clearTimeout(this.#j),this.#j=void 0;if(this.#G)clearInterval(this.#G),this.#G=void 0;if(this.#O)clearInterval(this.#O),this.#O=void 0;if(this.#M)clearInterval(this.#M),this.#M=void 0;for(let H of this.#V.values())H.reject(Error("WebSocket connection closed during shutdown"));if(this.#V.clear(),this.__webSocketReady()){let H=this.__pegboardWebSocket;if($)H.close(1000,"pegboard.runner_shutdown");else try{(J=this.log)==null||J.info({msg:"sending stopping message",readyState:H.readyState}),this.__sendToServer({tag:"ToServerStopping",val:null});let K=new Promise((z)=>{if(!H)throw Error("missing pegboardWebSocket");H.addEventListener("close",(W)=>{var O;(O=this.log)==null||O.info({msg:"connection closed",code:W.code,reason:W.reason.toString()}),z()})});await this.#R(H),(Y=this.log)==null||Y.info({msg:"closing WebSocket"}),H.close(1000,"pegboard.runner_shutdown"),await K,(Q=this.log)==null||Q.info({msg:"websocket shutdown completed"})}catch(K){(w=this.log)==null||w.error({msg:"error during websocket shutdown:",error:K}),H.close()}}else(j=this.log)==null||j.debug({msg:"no runner WebSocket to shutdown or already closed",readyState:(N=this.__pegboardWebSocket)==null?void 0:N.readyState});if(this.#D)this.#D.shutdown(),this.#D=void 0;if(this.#$.onShutdown(),U)process.exit(0)}async#R($){let J=Date.now(),Y=0;return new Promise((Q)=>{var w,N;let j=()=>{var K,z,W,O;let D=Date.now(),B=D-J,v=$.readyState===2||$.readyState===3;if(this.#U.size===0)return(K=this.log)==null||K.info({msg:"all actors stopped",elapsed:B}),!0;else if(v)return(z=this.log)==null||z.warn({msg:"websocket closed before all actors stopped",remainingActors:this.#U.size,elapsed:B}),!0;else if(B>=120000)return(W=this.log)==null||W.warn({msg:"shutdown timeout reached, forcing close",remainingActors:this.#U.size,elapsed:B}),!0;else{if(D-Y>=5000)(O=this.log)==null||O.info({msg:"waiting for actors to stop",remainingActors:this.#U.size,elapsed:B}),Y=D;return!1}};if(j()){(w=this.log)==null||w.debug({msg:"actors check completed immediately"}),Q();return}(N=this.log)==null||N.debug({msg:"starting actor wait interval",checkInterval:100});let H=setInterval(()=>{var K,z;if((K=this.log)==null||K.debug({msg:"actor wait interval tick",actorCount:this.#U.size}),j())(z=this.log)==null||z.debug({msg:"actors check completed, clearing interval"}),clearInterval(H),Q()},100)})}get pegboardEndpoint(){return this.#$.pegboardEndpoint||this.#$.endpoint}get pegboardUrl(){let $=this.pegboardEndpoint.replace("http://","ws://").replace("https://","wss://");return`${$.endsWith("/")?$.slice(0,-1):$}/runners/connect?protocol_version=${Mq}&namespace=${encodeURIComponent(this.#$.namespace)}&runner_key=${encodeURIComponent(this.#$.runnerKey)}`}async#E(){var $;let U=["rivet"];if(this.config.token)U.push(`rivet_token.${this.config.token}`);let G=new(await Nu())(this.pegboardUrl,U);this.__pegboardWebSocket=G,($=this.log)==null||$.info({msg:"connecting",endpoint:this.pegboardEndpoint,namespace:this.#$.namespace,runnerKey:this.#$.runnerKey,hasToken:!!this.config.token}),G.addEventListener("open",()=>{var J,Y;if(this.#Y>0)(J=this.log)==null||J.info({msg:"runner reconnected",namespace:this.#$.namespace,runnerName:this.#$.runnerName,reconnectAttempt:this.#Y});else(Y=this.log)==null||Y.debug({msg:"runner connected",namespace:this.#$.namespace,runnerName:this.#$.runnerName});if(this.#Y=0,this.#W)clearTimeout(this.#W),this.#W=void 0;if(this.#j)clearTimeout(this.#j),this.#j=void 0;let Q={name:this.#$.runnerName,version:this.#$.version,totalSlots:this.#$.totalSlots,lastCommandIdx:this.#X>=0?BigInt(this.#X):null,prepopulateActorNames:new Map(Object.entries(this.#$.prepopulateActorNames).map(([H,K])=>[H,{metadata:JSON.stringify(K.metadata)}])),metadata:JSON.stringify(this.#$.metadata)};this.__sendToServer({tag:"ToServerInit",val:Q});let w=setInterval(()=>{var H;if(G.readyState===1)this.__sendToServer({tag:"ToServerPing",val:{ts:BigInt(Date.now())}});else clearInterval(w),(H=this.log)==null||H.info({msg:"WebSocket not open, stopping ping loop"})},Hu);this.#G=w;let j=setInterval(()=>{var H;if(G.readyState===1)this.#P();else clearInterval(j),(H=this.log)==null||H.info({msg:"WebSocket not open, stopping ack loop"})},300000);this.#O=j}),G.addEventListener("message",async(J)=>{var Y,Q,w,N,j,H;let K;if(J.data instanceof Blob)K=new Uint8Array(await J.data.arrayBuffer());else if(Buffer.isBuffer(J.data))K=new Uint8Array(J.data);else throw Error(`expected binary data, got ${typeof J.data}`);let z=zq(K);if((Y=this.log)==null||Y.debug({msg:"received runner message",data:Ju(z)}),z.tag==="ToClientInit"){let W=z.val;if(this.runnerId!==W.runnerId)this.runnerId=W.runnerId,this.#N.length=0;this.#K=((Q=W.metadata)==null?void 0:Q.runnerLostThreshold)?Number(W.metadata.runnerLostThreshold):void 0,(w=this.log)==null||w.info({msg:"received init",lastEventIdx:W.lastEventIdx,runnerLostThreshold:this.#K}),this.#b(),this.#u(W.lastEventIdx),(N=this.#D)==null||N.resendBufferedEvents(),this.#$.onConnected()}else if(z.tag==="ToClientCommands"){let W=z.val;this.#T(W)}else if(z.tag==="ToClientAckEvents")this.#S(z.val);else if(z.tag==="ToClientKvResponse"){let W=z.val;this.#f(W)}else if(z.tag==="ToClientTunnelMessage")(j=this.#D)==null||j.handleTunnelMessage(z.val);else if(z.tag==="ToClientClose")(H=this.#D)==null||H.shutdown(),G.close(1000,"manual closure");else $J(z)}),G.addEventListener("error",(J)=>{var Y,Q;if((Y=this.log)==null||Y.error({msg:`WebSocket error: ${J.error}`}),!this.#w){if(!this.#j&&this.#K&&this.#K>0)(Q=this.log)==null||Q.info({msg:"starting runner lost timeout",seconds:this.#K/1000}),this.#j=setTimeout(()=>{this.#F()},this.#K);this.#m()}}),G.addEventListener("close",async(J)=>{var Y,Q,w,N;let j=pm(J.reason);if((j==null?void 0:j.group)==="ws"&&(j==null?void 0:j.error)==="eviction")(Y=this.log)==null||Y.info("runner websocket evicted"),this.#$.onDisconnected(J.code,J.reason),await this.shutdown(!0);else{if((j==null?void 0:j.group)==="pegboard"&&(j==null?void 0:j.error)==="runner_shutdown")(Q=this.log)==null||Q.info("runner shutdown");else(w=this.log)==null||w.warn({msg:"runner disconnected",code:J.code,reason:J.reason.toString(),closeError:j});this.#$.onDisconnected(J.code,J.reason)}if(this.#G)clearInterval(this.#G),this.#G=void 0;if(this.#O)clearInterval(this.#O),this.#O=void 0;if(!this.#w){if(!this.#j&&this.#K&&this.#K>0)(N=this.log)==null||N.info({msg:"starting runner lost timeout",seconds:this.#K/1000}),this.#j=setTimeout(()=>{this.#F()},this.#K);this.#m()}})}#T($){var U;(U=this.log)==null||U.info({msg:"received commands",commandCount:$.length});for(let X of $){if(X.inner.tag==="CommandStartActor")this.#k(X);else if(X.inner.tag==="CommandStopActor")this.#Z(X);else $J(X.inner);this.#X=Number(X.index)}}#S($){var U;let X=$.lastEventIdx,G=this.#N.length;this.#N=this.#N.filter((Y)=>Y.index>X);let J=G-this.#N.length;if(J>0)(U=this.log)==null||U.info({msg:"pruned acknowledged events",lastAckedIdx:X.toString(),prunedCount:J});if(this.#N.length<=xW)this.#z=!1}#v($){var U;if(this.#N.push($),this.#N.length>xW&&!this.#z)this.#z=!0,(U=this.log)==null||U.warn({msg:"unacknowledged event backlog exceeds threshold",backlogSize:this.#N.length,threshold:xW})}async#k($){var U,X,G,J;if(!this.#D)throw Error("missing tunnel on actor start");let Y=$.inner.val,Q=Y.actorId,w=Y.generation,N=Y.config,j={name:N.name,key:N.key,createTs:N.createTs,input:N.input?new Uint8Array(N.input):null},H=new tm(Q,w,j,Y.hibernatingRequests),K=this.#U.get(Q);if(K)(U=this.log)==null||U.warn({msg:"replacing existing actor in actors map",actorId:Q,existingGeneration:K.generation,newGeneration:w,existingPendingRequests:K.pendingRequests.length});this.#U.set(Q,H);for(let z of Y.hibernatingRequests)this.#D.addRequestToActor(z.gatewayId,z.requestId,Q);(X=this.log)==null||X.info({msg:"created actor",actors:this.#U.size,actorId:Q,name:N.name,key:N.key,generation:w,hibernatingRequests:Y.hibernatingRequests.length}),this.#I(Q,w,"running");try{(G=this.log)==null||G.debug({msg:"calling onActorStart",actorId:Q,generation:w}),await this.#$.onActorStart(Q,w,j),H.actorStartPromise.resolve()}catch(z){(J=this.log)==null||J.error({msg:"error starting runner actor",actorId:Q,err:z}),H.actorStartPromise.reject(z),await this.forceStopActor(Q,w)}}async#Z($){let U=$.inner.val,X=U.actorId,G=U.generation;await this.forceStopActor(X,G)}#q($,U,X){let G;if(X==="sleep")G={tag:"ActorIntentSleep",val:null};else if(X==="stop")G={tag:"ActorIntentStop",val:null};else $J(X);let J={actorId:$,generation:U,intent:G},Q={index:this.#J++,inner:{tag:"EventActorIntent",val:J}};this.#v(Q),this.__sendToServer({tag:"ToServerEvents",val:[Q]})}#I($,U,X){let G;if(X==="running")G={tag:"ActorStateRunning",val:null};else if(X==="stopped")G={tag:"ActorStateStopped",val:{code:kW.Ok,message:null}};else $J(X);let J={actorId:$,generation:U,state:G},Q={index:this.#J++,inner:{tag:"EventActorStateUpdate",val:J}};this.#v(Q),this.__sendToServer({tag:"ToServerEvents",val:[Q]})}#P(){if(this.#X<0)return;this.__sendToServer({tag:"ToServerAckCommands",val:{lastCommandIdx:BigInt(this.#X)}})}#f($){var U;let X=$.requestId,G=this.#V.get(X);if(!G){(U=this.log)==null||U.error({msg:"received kv response for unknown request id",requestId:X});return}if(this.#V.delete(X),$.data.tag==="KvErrorResponse")G.reject(Error($.data.val.message||"Unknown KV error"));else G.resolve($.data.val)}#h($,U){let X=[],G=[];for(let Y of $.keys)X.push(new Uint8Array(Y));for(let Y of $.values)G.push(new Uint8Array(Y));let J=[];for(let Y of U){let Q=!1;for(let w=0;w<X.length;w++)if(this.#g(Y,X[w])){J.push(G[w]),Q=!0;break}if(!Q)J.push(null)}return J}#g($,U){if($.length!==U.length)return!1;for(let X=0;X<$.length;X++)if($[X]!==U[X])return!1;return!0}#C($){let U=[];for(let X=0;X<$.keys.length;X++){let G=$.keys[X],J=$.values[X];if(G&&J){let Y=new Uint8Array(G),Q=new Uint8Array(J);U.push([Y,Q])}}return U}async kvGet($,U){let G={tag:"KvGetRequest",val:{keys:U.map((Y)=>Y.buffer.slice(Y.byteOffset,Y.byteOffset+Y.byteLength))}},J=await this.#L($,G);return this.#h(J,U)}async kvListAll($,U){let X={tag:"KvListRequest",val:{query:{tag:"KvListAllQuery",val:null},reverse:(U==null?void 0:U.reverse)||null,limit:(U==null?void 0:U.limit)!==void 0?BigInt(U.limit):null}},G=await this.#L($,X);return this.#C(G)}async kvListRange($,U,X,G,J){let Y=U.buffer.slice(U.byteOffset,U.byteOffset+U.byteLength),Q=X.buffer.slice(X.byteOffset,X.byteOffset+X.byteLength),w={tag:"KvListRequest",val:{query:{tag:"KvListRangeQuery",val:{start:Y,end:Q,exclusive:G||!1}},reverse:(J==null?void 0:J.reverse)||null,limit:(J==null?void 0:J.limit)!==void 0?BigInt(J.limit):null}},N=await this.#L($,w);return this.#C(N)}async kvListPrefix($,U,X){let J={tag:"KvListRequest",val:{query:{tag:"KvListPrefixQuery",val:{key:U.buffer.slice(U.byteOffset,U.byteOffset+U.byteLength)}},reverse:(X==null?void 0:X.reverse)||null,limit:(X==null?void 0:X.limit)!==void 0?BigInt(X.limit):null}},Y=await this.#L($,J);return this.#C(Y)}async kvPut($,U){let X=U.map(([Y,Q])=>Y.buffer.slice(Y.byteOffset,Y.byteOffset+Y.byteLength)),G=U.map(([Y,Q])=>Q.buffer.slice(Q.byteOffset,Q.byteOffset+Q.byteLength)),J={tag:"KvPutRequest",val:{keys:X,values:G}};await this.#L($,J)}async kvDelete($,U){let G={tag:"KvDeleteRequest",val:{keys:U.map((J)=>J.buffer.slice(J.byteOffset,J.byteOffset+J.byteLength))}};await this.#L($,G)}async kvDrop($){let U={tag:"KvDropRequest",val:null};await this.#L($,U)}setAlarm($,U,X){let G=this.getActor($,X);if(!G)return;let J={actorId:$,generation:G.generation,alarmTs:U!==null?BigInt(U):null},Q={index:this.#J++,inner:{tag:"EventActorSetAlarm",val:J}};this.#v(Q),this.__sendToServer({tag:"ToServerEvents",val:[Q]})}clearAlarm($,U){this.setAlarm($,null,U)}#L($,U){return new Promise((X,G)=>{let J=this.#B++,Y={actorId:$,data:U,resolve:X,reject:G,sent:!1,timestamp:Date.now()};if(this.#V.set(J,Y),this.__webSocketReady())this.#x(J)})}#x($){let U=this.#V.get($);if(!U||U.sent)return;try{let X={actorId:U.actorId,requestId:$,data:U.data};this.__sendToServer({tag:"ToServerKvRequest",val:X}),U.sent=!0,U.timestamp=Date.now()}catch(X){this.#V.delete($),U.reject(X)}}#b(){if(!this.__webSocketReady())return;let $=0;for(let[U,X]of this.#V.entries())if(!X.sent)this.#x(U),$++;if($>0);}__webSocketReady(){return!!this.__pegboardWebSocket&&this.__pegboardWebSocket.readyState===1}__sendToServer($){var U,X;(U=this.log)==null||U.debug({msg:"sending runner message",data:Uu($)});let G=Oq($);if(this.__webSocketReady())this.__pegboardWebSocket.send(G);else(X=this.log)==null||X.error({msg:"WebSocket not available or not open for sending data"})}sendHibernatableWebSocketMessageAck($,U,X){if(!this.#D)throw Error("missing tunnel to send message ack");this.#D.sendHibernatableWebSocketMessageAck($,U,X)}async restoreHibernatingRequests($,U){if(!this.#D)throw Error("missing tunnel to restore hibernating requests");await this.#D.restoreHibernatingRequests($,U)}getServerlessInitPacket(){if(!this.runnerId)return;let $=Dq({tag:"ToServerlessServerInit",val:{runnerId:this.runnerId}}),U=Buffer.alloc($.length+2);return U.writeUInt16LE(Mq,0),Buffer.from($).copy(U,2),U.toString("base64")}#m(){var $,U;if(this.#w){($=this.log)==null||$.debug({msg:"Runner is shut down, not attempting reconnect"});return}let X=nm(this.#Y,{initialDelay:1000,maxDelay:30000,multiplier:2,jitter:!0});(U=this.log)==null||U.debug({msg:`Scheduling reconnect attempt ${this.#Y+1} in ${X}ms`}),this.#W=setTimeout(async()=>{var G;if(!this.#w)this.#Y++,(G=this.log)==null||G.debug({msg:`Attempting to reconnect (attempt ${this.#Y})...`}),await this.#E()},X)}#u($){var U;let X=this.#N.filter((G)=>G.index>$);if(X.length===0)return;(U=this.log)==null||U.info({msg:"resending unacknowledged events",fromIndex:$+1n}),this.__sendToServer({tag:"ToServerEvents",val:X})}#y(){let $=Date.now()-ju,U=[];for(let[X,G]of this.#V.entries())if(G.timestamp<$)G.reject(Error("KV request timed out waiting for WebSocket connection")),U.push(X);for(let X of U)this.#V.delete(X);if(U.length>0);}};var oq=t$(V6(),1);var Rq=t$(Zq(),1);var Vu=Object.prototype.toString,Bu=($)=>Vu.call($)==="[object Error]",_u=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function bW($){if(!($&&Bu($)&&$.name==="TypeError"&&typeof $.message==="string"))return!1;let{message:X,stack:G}=$;if(X==="Load failed")return G===void 0||"__sentry_captured__"in $;if(X.startsWith("error sending request for url"))return!0;return _u.has(X)}class Tq extends Error{constructor($){super();if($ instanceof Error)this.originalError=$,{message:$}=$;else this.originalError=Error($),this.originalError.stack=this.stack;this.name="AbortError",this.message=$}}var Iq=($,U,X)=>{let G=X.retries-(U-1);return $.attemptNumber=U,$.retriesLeft=G,$};async function UJ($,U){return new Promise((X,G)=>{U={...U},U.onFailedAttempt??=()=>{},U.shouldRetry??=()=>!0,U.retries??=10;let J=Rq.default.operation(U),Y=()=>{J.stop(),G(U.signal?.reason)};if(U.signal&&!U.signal.aborted)U.signal.addEventListener("abort",Y,{once:!0});let Q=()=>{U.signal?.removeEventListener("abort",Y),J.stop()};J.attempt(async(w)=>{try{let N=await $(w);Q(),X(N)}catch(N){try{if(!(N instanceof Error))throw TypeError(`Non-error was thrown: "${N}". You should only throw errors.`);if(N instanceof Tq)throw N.originalError;if(N instanceof TypeError&&!bW(N))throw N;if(Iq(N,w,U),!await U.shouldRetry(N))J.stop(),G(N);if(await U.onFailedAttempt(N),!J.retry(N))throw J.mainError()}catch(j){Iq(j,w,U),Q(),G(j)}}})})}var yW=t$(V6(),1),eW=t$(V6(),1);var rq=t$(V6(),1);var lW=t$(V6(),1);function hq(){return new F6().get("/ping",($)=>{return $.json({message:"pong"},200)}).get("/state",async($)=>{if(await $.var.inspector.accessors.isStateEnabled())return $.json({enabled:!0,state:await $.var.inspector.accessors.getState()},200);return $.json({enabled:!1,state:null},200)}).patch("/state",mU("json",S.object({patch:eA}).or(S.object({replace:S.any()}))),async($)=>{if(!await $.var.inspector.accessors.isStateEnabled())return $.json({enabled:!1},200);let U=$.req.valid("json");if("replace"in U)return await $.var.inspector.accessors.setState(U.replace),$.json({enabled:!0,state:await $.var.inspector.accessors.getState()},200);let X=await $.var.inspector.accessors.getState(),{newDocument:G}=I3.applyPatch(X,U.patch);return await $.var.inspector.accessors.setState(G),$.json({enabled:!0,state:await $.var.inspector.accessors.getState()},200)}).get("/state/stream",async($)=>{if(!await $.var.inspector.accessors.isStateEnabled())return $.json({enabled:!1},200);let U=0,X;return R0($,async(G)=>{X=$.var.inspector.emitter.on("stateUpdated",async(Y)=>{G.writeSSE({data:JSON.stringify(Y)||"",event:"state-update",id:String(U++)})});let{promise:J}=A6();return J},async()=>{X==null||X()})}).get("/connections",async($)=>{let U=await $.var.inspector.accessors.getConnections();return $.json({connections:U},200)}).get("/connections/stream",async($)=>{let U=0,X;return R0($,async(G)=>{X=$.var.inspector.emitter.on("connectionUpdated",async()=>{G.writeSSE({data:JSON.stringify(await $.var.inspector.accessors.getConnections()),event:"connection-update",id:String(U++)})});let{promise:J}=A6();return J},async()=>{X==null||X()})}).get("/events",async($)=>{let U=$.var.inspector.lastRealtimeEvents;return $.json({events:U},200)}).post("/events/clear",async($)=>{return $.var.inspector.lastRealtimeEvents.length=0,$.json({message:"Events cleared"},200)}).get("/events/stream",async($)=>{let U=0,X;return R0($,async(G)=>{X=$.var.inspector.emitter.on("eventFired",()=>{G.writeSSE({data:JSON.stringify($.var.inspector.lastRealtimeEvents),event:"realtime-event",id:String(U++)})});let{promise:J}=A6();return J},async()=>{X==null||X()})}).get("/rpcs",async($)=>{let U=await $.var.inspector.accessors.getRpcs();return $.json({rpcs:U},200)}).get("/db",async($)=>{if(!await $.var.inspector.accessors.isDbEnabled())return $.json({enabled:!1,db:null},200);let U=await $.var.inspector.accessors.getDb(),X=await U.execute("PRAGMA table_list"),G=$3.parse(X).filter((H)=>H.schema!=="temp"&&!H.name.startsWith("sqlite_")),J=await Promise.all(G.map((H)=>U.execute(`PRAGMA table_info(${H.name})`))),Y=J.map((H)=>U3.parse(H)),w=(await Promise.all(G.map((H)=>U.execute(`PRAGMA foreign_key_list(${H.name})`)))).map((H)=>J3.parse(H)),j=(await Promise.all(G.map((H)=>U.execute(`SELECT COUNT(*) as count FROM ${H.name}`)))).map((H)=>{return H[0].count||0});return $.json({enabled:!0,db:J.map((H,K)=>{return{table:G[K],columns:Y[K],foreignKeys:w[K],records:j[K]}})},200)}).post("/db",mU("json",S.object({query:S.string(),params:S.array(S.any()).optional()})),async($)=>{if(!await $.var.inspector.accessors.isDbEnabled())return $.json({enabled:!1},200);let U=await $.var.inspector.accessors.getDb();try{let X=await U.execute($.req.valid("json").query,...$.req.valid("json").params||[]);return $.json({result:X},200)}catch(X){return $.json({error:X.message},500)}}).post("/action",mU("json",S.object({name:S.string(),params:S.array(S.any()).optional()})),async($)=>{let{name:U,params:X}=$.req.valid("json"),G=await $.var.inspector.accessors.executeAction(U,X);return $.json({result:G},200)})}var Mu=class{accessors;emitter=T3();#$=[];get lastRealtimeEvents(){return this.#$}constructor($){this.accessors=$(),this.emitter.on("eventFired",(U)=>{if(this.#$.push({id:crypto.randomUUID(),timestamp:Date.now(),...U}),this.#$.length>100)this.#$=this.#$.slice(-100)})}};function cW(){return{type:"http",getConnectionReadyState($,U){return 1},disconnect:async()=>{}}}var z6=fU({});function Fu($){return{actorId:h$($),connectionId:h$($)}}function Lu($,U){u$($,U.actorId),u$($,U.connectionId)}function gq($){return S0($)?Q4($):null}function bq($,U){if(Z0($,U!==null),U!==null)w4($,U)}function Au($){return S0($)?hU($):null}function qu($,U){if(Z0($,U!==null),U!==null)gU($,U)}function vu($){return{group:h$($),code:h$($),message:h$($),metadata:gq($),actionId:Au($)}}function Pu($,U){u$($,U.group),u$($,U.code),u$($,U.message),bq($,U.metadata),qu($,U.actionId)}function Eu($){return{id:hU($),output:Q4($)}}function Su($,U){gU($,U.id),w4($,U.output)}function Zu($){return{name:h$($),args:Q4($)}}function Iu($,U){u$($,U.name),w4($,U.args)}function Ru($){let U=$.offset;switch(z1($)){case 0:return{tag:"Init",val:Fu($)};case 1:return{tag:"Error",val:vu($)};case 2:return{tag:"ActionResponse",val:Eu($)};case 3:return{tag:"Event",val:Zu($)};default:throw $.offset=U,new k$(U,"invalid tag")}}function Tu($,U){switch(U.tag){case"Init":{G4($,0),Lu($,U.val);break}case"Error":{G4($,1),Pu($,U.val);break}case"ActionResponse":{G4($,2),Su($,U.val);break}case"Event":{G4($,3),Iu($,U.val);break}}}function ku($){return{body:Ru($)}}function Cu($,U){Tu($,U.body)}function xu($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return Cu(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function fu($){let U=new r$($,z6),X=ku(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function hu($){return{id:hU($),name:h$($),args:Q4($)}}function gu($,U){gU($,U.id),u$($,U.name),w4($,U.args)}function bu($){return{eventName:h$($),subscribe:S0($)}}function mu($,U){u$($,U.eventName),Z0($,U.subscribe)}function uu($){let U=$.offset;switch(z1($)){case 0:return{tag:"ActionRequest",val:hu($)};case 1:return{tag:"SubscriptionRequest",val:bu($)};default:throw $.offset=U,new k$(U,"invalid tag")}}function yu($,U){switch(U.tag){case"ActionRequest":{G4($,0),gu($,U.val);break}case"SubscriptionRequest":{G4($,1),mu($,U.val);break}}}function lu($){return{body:uu($)}}function cu($,U){yu($,U.body)}function iu($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return cu(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function nu($){let U=new r$($,z6),X=lu(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function pu($){return{args:Q4($)}}function du($,U){w4($,U.args)}function ou($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return du(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function ru($){let U=new r$($,z6),X=pu(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function tu($){return{output:Q4($)}}function au($,U){w4($,U.output)}function su($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return au(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function eu($){let U=new r$($,z6),X=tu(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function $y($){return{group:h$($),code:h$($),message:h$($),metadata:gq($)}}function Uy($,U){u$($,U.group),u$($,U.code),u$($,U.message),bq($,U.metadata)}function Jy($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return Uy(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function Xy($){let U=new r$($,z6),X=$y(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function Gy($){return{actorId:h$($)}}function Yy($,U){u$($,U.actorId)}function Qy($){let U=new r$(new Uint8Array(z6.initialBufferLength),z6);return Yy(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function wy($){let U=new r$($,z6),X=Gy(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}var b0=2,m1=new Map;m1.set(1,($)=>{if($.body.tag==="Init"){let{actorId:U,connectionId:X}=$.body.val;return{body:{tag:"Init",val:{actorId:U,connectionId:X}}}}return $});var mq=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>iu($),deserializeVersion:($)=>nu($)}),pU=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>xu($),deserializeVersion:($)=>fu($)}),iW=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>ou($),deserializeVersion:($)=>ru($)}),nW=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>su($),deserializeVersion:($)=>eu($)}),pW=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>Jy($),deserializeVersion:($)=>Xy($)}),UU$=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>new Uint8Array,deserializeVersion:($)=>null}),JU$=p6({currentVersion:b0,migrations:m1,serializeVersion:($)=>Qy($),deserializeVersion:($)=>wy($)}),dW=V.bigint(),Ny=dW.nullable(),jy=V.object({actorId:V.string(),connectionId:V.string()}),Hy=V.object({group:V.string(),code:V.string(),message:V.string(),metadata:V.unknown().optional(),actionId:Ny}),Wy=V.object({id:dW,output:V.unknown()}),Ky=V.object({name:V.string(),args:V.unknown()}),Oy=V.discriminatedUnion("tag",[V.object({tag:V.literal("Init"),val:jy}),V.object({tag:V.literal("Error"),val:Hy}),V.object({tag:V.literal("ActionResponse"),val:Wy}),V.object({tag:V.literal("Event"),val:Ky})]),dU=V.object({body:Oy}),zy=V.object({id:dW,name:V.string(),args:V.unknown()}),Dy=V.object({eventName:V.string(),subscribe:V.boolean()}),Vy=V.discriminatedUnion("tag",[V.object({tag:V.literal("ActionRequest"),val:zy}),V.object({tag:V.literal("SubscriptionRequest"),val:Dy})]),uq=V.object({body:Vy}),oW=V.object({args:V.unknown()}),rW=V.object({output:V.unknown()}),tW=V.object({group:V.string(),code:V.string(),message:V.string(),metadata:V.unknown().optional()}),GU$=V.null(),YU$=V.object({actorId:V.string()}),By=class{#$;#U;constructor($,U){if(this.#$=$,"ephemeral"in U)this.#U={ephemeral:{data:U.ephemeral}};else if("hibernatable"in U){let X=U.hibernatable,G=p8(X,(J,Y,Q,w)=>{this.#G(J,Y)},{ignoreDetached:!0});this.#U={hibernatable:{data:G,dataRaw:X}}}else LU(U)}get ephemeralData(){if("hibernatable"in this.#U)return this.#U.hibernatable.data;else if("ephemeral"in this.#U)return this.#U.ephemeral.data;else return LU(this.#U)}get hibernatableData(){if("hibernatable"in this.#U)return this.#U.hibernatable.data;else return}hibernatableDataOrError(){let $=this.hibernatableData;return yq.default($,"missing hibernatable data"),$}get hibernatableDataRaw(){if("hibernatable"in this.#U)return this.#U.hibernatable.dataRaw;else return}get stateEnabled(){return this.#$[XJ].connStateEnabled}get state(){this.#X();let $=this.ephemeralData.state;if(!$)throw Error("state should exists");return $}set state($){this.#X(),this.ephemeralData.state=$}#X(){if(!this.#$[XJ].connStateEnabled)throw new oB}#G($,U){if($.startsWith("state")){let X="";if(!J1(U,(G)=>{X=G},""))throw new vX({path:$+(X?`.${X}`:"")})}this.#$[XJ].rLog.debug({msg:"conn onChange triggered",connId:this.#$.id,path:$}),this.#$[XJ].connectionManager.markConnWithPersistChanged(this.#$)}addSubscription({eventName:$}){let U=this.hibernatableData;if(!U)return;U.subscriptions.push({eventName:$})}removeSubscription({eventName:$}){let U=this.hibernatableData;if(!U)return;let X=U.subscriptions.findIndex((G)=>G.eventName===$);if(X!==-1)U.subscriptions.splice(X,1);return X!==-1}},pY=Symbol("connected"),dY=Symbol("speaksRivetKit"),M6=Symbol("driver"),XJ=Symbol("actor"),j4=Symbol("stateManager"),oU=Symbol("sendMessage"),kq=class{#$;get[XJ](){return this.#$}#U;get[j4](){return this.#U}[pY]=!1;[M6];get[dY](){var $;return(($=this[M6])==null?void 0:$.rivetKitProtocol)!==void 0}subscriptions=new Set;#X(){if(!this[pY])throw new t0("Connection not connected yet. This happens when trying to use the connection in onBeforeConnect or createConnState.")}get params(){return this.#U.ephemeralData.parameters}get state(){return this.#U.state}set state($){this.#U.state=$}get id(){return this.#U.ephemeralData.id}get isHibernatable(){var $;return(($=this[M6])==null?void 0:$.hibernatable)!==void 0}constructor($,U){this.#$=$,this.#U=new By(this,U)}[oU]($){if(this[M6]){let U=this[M6];if(U.rivetKitProtocol)U.rivetKitProtocol.sendMessage(this.#$,this,$);else this.#$.rLog.warn({msg:"attempting to send RivetKit protocol message to connection that does not support it",conn:this.id})}else this.#$.rLog.warn({msg:"missing connection driver state for send message",conn:this.id})}send($,...U){var X;if(this.#X(),!this[dY])this.#$.rLog.warn({msg:"cannot send messages to this connection type",connId:this.id,connType:(X=this[M6])==null?void 0:X.type});this.#$.inspector.emitter.emit("eventFired",{type:"event",eventName:$,args:U,connId:this.id});let G={name:$,args:U};this[oU](new AU(G,pU,dU,(J)=>({body:{tag:"Event",val:{name:J.name,args:J.args}}}),(J)=>({body:{tag:"Event",val:{name:J.name,args:R$(E$(J.args))}}})))}async disconnect($){if(this[M6]){let U=this[M6];if(U.disconnect)U.disconnect(this.#$,this,$);else this.#$.rLog.debug({msg:"no disconnect handler for conn driver",conn:this.id});this.#$.connectionManager.connDisconnected(this)}else this.#$.rLog.warn({msg:"missing connection driver state for disconnect",conn:this.id});this[M6]=void 0}};function _y($){return{id:$.id,parameters:R$(E$($.parameters)),state:R$(E$($.state)),subscriptions:$.subscriptions.map((U)=>({eventName:U.eventName})),gatewayId:$.gatewayId,requestId:$.requestId,serverMessageIndex:$.serverMessageIndex,clientMessageIndex:$.clientMessageIndex,requestPath:$.requestPath,requestHeaders:new Map(Object.entries($.requestHeaders))}}function My($){return{id:$.id,parameters:T$(new Uint8Array($.parameters)),state:T$(new Uint8Array($.state)),subscriptions:$.subscriptions.map((U)=>({eventName:U.eventName})),gatewayId:$.gatewayId,requestId:$.requestId,serverMessageIndex:$.serverMessageIndex,clientMessageIndex:$.clientMessageIndex,requestPath:$.requestPath,requestHeaders:Object.fromEntries($.requestHeaders)}}var aW=class{#$;constructor($){this.#$=$}get state(){return this.#$.state}get vars(){return this.#$.vars}broadcast($,...U){this.#$.eventManager.broadcast($,...U);return}get log(){return this.#$.log}get actorId(){return this.#$.id}get name(){return this.#$.name}get key(){return this.#$.key}get region(){return this.#$.region}get schedule(){return this.#$.schedule}get conns(){return this.#$.conns}client(){return this.#$.inlineClient}get db(){return this.#$.db}async saveState($){return this.#$.stateManager.saveState($)}waitUntil($){this.#$.waitUntil($)}get abortSignal(){return this.#$.abortSignal}sleep(){this.#$.startSleep()}destroy(){this.#$.startDestroy()}},rY=class extends aW{constructor($,U){super($);this.conn=U}},tY=class extends rY{},Fy=class extends rY{request;constructor($,U,X){super($,U);this.request=X}},Ly=class extends rY{request;constructor($,U,X){super($,U);this.request=X}},lq="/",uW="/";function rU($){if($.length===0)return lq;return $.map((X)=>{if(X==="")return"\\0";let G=X.replace(/\\/g,"\\\\");return G=G.replace(/\//g,`\\${uW}`),G}).join(uW)}function oY($){if($===void 0||$===null||$===lq)return[];let U=[],X="",G=!1,J=!1;for(let Y=0;Y<$.length;Y++){let Q=$[Y];if(G){if(Q==="0")J=!0;else X+=Q;G=!1}else if(Q==="\\")G=!0;else if(Q===uW){if(J)U.push(""),J=!1;else U.push(X);X=""}else X+=Q}if(G)U.push(X+"\\");else if(J)U.push("");else if(X!==""||U.length>0)U.push(X);return U}function sW($){if(typeof $==="string")return $.length;else if($ instanceof Blob)return $.size;else if($ instanceof ArrayBuffer||$ instanceof SharedArrayBuffer||$ instanceof Uint8Array)return $.byteLength;else A4($)}async function cq($){if(typeof $==="string")return $;else if($ instanceof Blob){let U=await $.arrayBuffer();return new Uint8Array(U)}else if($ instanceof Uint8Array)return $;else if($ instanceof ArrayBuffer||$ instanceof SharedArrayBuffer)return new Uint8Array($);else throw new eB}async function iq($,U){if(sW($)>U.maxIncomingMessageSize)throw new sB;let G=await cq($);if(G instanceof Buffer)G=new Uint8Array(G);return _0(U.encoding,G,mq,uq,(J)=>J,(J)=>{if(J.body.tag==="ActionRequest")return{body:{tag:"ActionRequest",val:{id:J.body.val.id,name:J.body.val.name,args:T$(new Uint8Array(J.body.val.args))}}};else return J})}async function Ay($,U,X,G){let J,Y;try{if($.body.tag==="ActionRequest"){if(G.onExecuteAction===void 0)throw new P2("Action");let{id:Q,name:w,args:N}=$.body.val;J=Q,Y=w,U.rLog.debug({msg:"processing action request",actionId:Q,actionName:w});let j=new tY(U,X),H=await G.onExecuteAction(j,w,N);U.rLog.debug({msg:"sending action response",actionId:Q,actionName:w,outputType:typeof H,isPromise:H instanceof Promise}),X[oU](new AU(H,pU,dU,(K)=>({body:{tag:"ActionResponse",val:{id:Q,output:K}}}),(K)=>({body:{tag:"ActionResponse",val:{id:Q,output:R$(E$(K))}}}))),U.rLog.debug({msg:"action response sent",id:Q,name:w})}else if($.body.tag==="SubscriptionRequest"){if(G.onSubscribe===void 0||G.onUnsubscribe===void 0)throw new P2("Subscriptions");let{eventName:Q,subscribe:w}=$.body.val;if(U.rLog.debug({msg:"processing subscription request",eventName:Q,subscribe:w}),w)await G.onSubscribe(Q,X);else await G.onUnsubscribe(Q,X);U.rLog.debug({msg:"subscription request completed",eventName:Q,subscribe:w})}else A4($.body)}catch(Q){let{group:w,code:N,message:j,metadata:H}=e6(Q,U.rLog,{connectionId:X.id,actionId:J,actionName:Y});U.rLog.debug({msg:"sending error response",actionId:J,actionName:Y,code:N,message:j});let K={group:w,code:N,message:j,metadata:H,actionId:J};X[oU](new AU(K,pU,dU,(z)=>{let W={group:z.group,code:z.code,message:z.message,actionId:z.actionId!==void 0?z.actionId:null};if(z.metadata!==void 0)W.metadata=z.metadata;return{body:{tag:"Error",val:W}}},(z)=>({body:{tag:"Error",val:{group:z.group,code:z.code,message:z.message,metadata:z.metadata?R$(E$(z.metadata)):null,actionId:z.actionId!==void 0?z.actionId:null}}}))),U.rLog.debug({msg:"error response sent",actionId:J,actionName:Y})}}var qy=class{#$;constructor($){this.#$=$}async after($,U,...X){await this.#$.scheduleEvent(Date.now()+$,U,X)}async at($,U,...X){await this.#$.scheduleEvent($,U,X)}},nq=class extends aW{request;constructor($,U){super($);this.request=U}},vy=class extends nq{},Py=class extends nq{},Ey=class extends rY{},Sy=class{#$;#U=new Map;#X=new Set;constructor($){this.#$=$}get connections(){return this.#U}getConnForId($){return this.#U.get($)}get connsWithPersistChanged(){return this.#X}clearConnWithPersistChanged(){this.#X.clear()}markConnWithPersistChanged($){b1.default($.isHibernatable,"cannot mark non-hibernatable conn for persist"),this.#$.rLog.debug({msg:"marked connection as changed",connId:$.id,totalChanged:this.#X.size}),this.#X.add($.id),this.#$.stateManager.savePersistThrottled()}async prepareConn($,U,X,G,J,Y,Q){if(this.#$.assertReady(),Q)return this.#G($);if(this.#$.config.onBeforeConnect){let H=new Py(this.#$,X);await this.#$.config.onBeforeConnect(H,U)}let w;if(this.#$.connStateEnabled)w=await this.#Q(U,X);let N;if(Y){let H=$.hibernatable;b1.default(H,"must have hibernatable"),b1.default(G,"missing requestPath for hibernatable ws"),b1.default(J,"missing requestHeaders for hibernatable ws"),N={hibernatable:{id:crypto.randomUUID(),parameters:U,state:w,subscriptions:[],gatewayId:H.gatewayId,requestId:H.requestId,clientMessageIndex:0,serverMessageIndex:0,requestPath:G,requestHeaders:J}}}else N={ephemeral:{id:crypto.randomUUID(),parameters:U,state:w}};let j=new kq(this.#$,N);return j[M6]=$,j}connectConn($){if(b1.default(!this.#U.has($.id),"conn already connected"),this.#U.set($.id,$),this.#$.driver.onCreateConn)this.#$.driver.onCreateConn($);if($.isHibernatable)this.markConnWithPersistChanged($);if(this.#w($),this.#$.inspector.emitter.emit("connectionUpdated"),this.#$.resetSleepTimer(),$[pY]=!0,$[dY]){let U={actorId:this.#$.id,connectionId:$.id};$[oU](new AU(U,pU,dU,(X)=>({body:{tag:"Init",val:X}}),(X)=>({body:{tag:"Init",val:X}})))}}#G($){b1.default($.hibernatable,"missing requestIdBuf");let U=this.findHibernatableConn($.hibernatable.gatewayId,$.hibernatable.requestId);if(b1.default(U,"cannot find connection for restoring connection"),this.#$.rLog.debug({msg:"reconnecting hibernatable websocket connection",connectionId:U.id}),U[M6])this.#J(U);return U[M6]=$,this.#$.resetSleepTimer(),U[pY]=!0,this.#$.inspector.emitter.emit("connectionUpdated"),U}#J($){let U=$[M6];if(U==null?void 0:U.disconnect)U.disconnect(this.#$,$,"Reconnecting hibernatable websocket with new driver state")}async connDisconnected($){if(this.#U.delete($.id),this.#$.rLog.debug({msg:"removed conn",connId:$.id}),this.#$.driver.onDestroyConn)this.#$.driver.onDestroyConn($);for(let U of[...$.subscriptions.values()])this.#$.eventManager.removeSubscription(U,$,!0);if(this.#$.resetSleepTimer(),this.#$.inspector.emitter.emit("connectionUpdated"),this.#$.config.onDisconnect)try{let U=this.#$.config.onDisconnect(this.#$.actorContext,$);if(U instanceof Promise)U.catch((X)=>{this.#$.rLog.error({msg:"error in `onDisconnect`",error:B$(X)})})}catch(U){this.#$.rLog.error({msg:"error in `onDisconnect`",error:B$(U)})}if(this.#X.delete($.id),$.isHibernatable){let U=GW($.id);try{await this.#$.driver.kvBatchDelete(this.#$.id,[U]),this.#$.rLog.debug({msg:"removed connection from KV",connId:$.id})}catch(X){this.#$.rLog.error({msg:"kvBatchDelete failed for conn",err:B$(X)})}}}async prepareAndConnectConn($,U,X,G,J){let Y=await this.prepareConn($,U,X,G,J,!1,!1);return this.connectConn(Y),Y}restoreConnections($){for(let U of $){let X=new kq(this.#$,{hibernatable:U});if(this.#U.set(X.id,X),this.#$.driver.onCreateConn)this.#$.driver.onCreateConn(X);for(let G of U.subscriptions)this.#$.eventManager.addSubscription(G.eventName,X,!0)}}findHibernatableConn($,U){return Array.from(this.#U.values()).find((X)=>{let J=X[j4].hibernatableDataRaw;return J&&w0(J.gatewayId,$)&&w0(J.requestId,U)})}async#Q($,U){if("createConnState"in this.#$.config){let X=new vy(this.#$,U),G=this.#$.config.createConnState(X,$);if(G instanceof Promise)return await O0(G,this.#$.config.options.createConnStateTimeout);return G}else if("connState"in this.#$.config)return structuredClone(this.#$.config.connState);throw Error("Could not create connection state from 'createConnState' or 'connState'")}#w($){if(this.#$.config.onConnect)try{let U=new Ey(this.#$,$),X=this.#$.config.onConnect(U,$);if(X instanceof Promise)O0(X,this.#$.config.options.onConnectTimeout).catch((G)=>{this.#$.rLog.error({msg:"error in `onConnect`, closing socket",error:G}),$==null||$.disconnect("`onConnect` failed")})}catch(U){this.#$.rLog.error({msg:"error in `onConnect`",error:B$(U)}),$==null||$.disconnect("`onConnect` failed")}}},Zy=class{#$;#U=new Map;constructor($){this.#$=$}addSubscription($,U,X){if(U.subscriptions.has($)){this.#$.rLog.debug({msg:"connection already has subscription",eventName:$,connId:U.id});return}U.subscriptions.add($);let G=this.#U.get($);if(!G)G=new Set,this.#U.set($,G);if(G.add(U),!X)U[j4].addSubscription({eventName:$}),this.#$.stateManager.saveState({immediate:!0});this.#$.rLog.debug({msg:"subscription added",eventName:$,connId:U.id,totalSubscribers:G.size})}removeSubscription($,U,X){if(!U.subscriptions.has($)){this.#$.rLog.warn({msg:"connection does not have subscription",eventName:$,connId:U.id});return}U.subscriptions.delete($);let G=this.#U.get($);if(G){if(G.delete(U),G.size===0)this.#U.delete($)}if(!X){if(!U[j4].removeSubscription({eventName:$}))this.#$.rLog.warn({msg:"subscription does not exist in persist",eventName:$,connId:U.id});this.#$.stateManager.saveState({immediate:!0})}this.#$.rLog.debug({msg:"subscription removed",eventName:$,connId:U.id,remainingSubscribers:(G==null?void 0:G.size)||0})}broadcast($,...U){this.#$.assertReady(),this.#$.inspector.emitter.emit("eventFired",{type:"broadcast",eventName:$,args:U});let X=this.#U.get($);if(!X||X.size===0){this.#$.rLog.debug({msg:"no subscribers for event",eventName:$});return}let J=new AU({name:$,args:U},pU,dU,(Q)=>({body:{tag:"Event",val:{name:Q.name,args:Q.args}}}),(Q)=>({body:{tag:"Event",val:{name:Q.name,args:R$(E$(Q.args))}}})),Y=0;for(let Q of X)if(Q[dY])try{Q[oU](J),Y++}catch(w){this.#$.rLog.error({msg:"failed to send event to connection",eventName:$,connId:Q.id,error:w instanceof Error?w.message:String(w)})}this.#$.rLog.debug({msg:"event broadcasted",eventName:$,subscriberCount:X.size,sentCount:Y})}getSubscribers($){return this.#U.get($)}getEventStats(){let $=new Map;for(let[U,X]of this.#U)$.set(U,X.size);return $}clearConnectionSubscriptions($){for(let U of[...$.subscriptions.values()])this.removeSubscription(U,$,!0)}get eventCount(){return this.#U.size}get totalSubscriptionCount(){let $=0;for(let U of this.#U.values())$+=U.size;return $}hasSubscribers($){let U=this.#U.get($);return U!==void 0&&U.size>0}};function Cq($){return{input:$.input!==void 0?R$(E$($.input)):null,hasInitialized:$.hasInitialized,state:R$(E$($.state)),scheduledEvents:$.scheduledEvents.map((U)=>({eventId:U.eventId,timestamp:BigInt(U.timestamp),action:U.action,args:U.args??null}))}}function Iy($){return{input:$.input?T$(new Uint8Array($.input)):void 0,hasInitialized:$.hasInitialized,state:T$(new Uint8Array($.state)),scheduledEvents:$.scheduledEvents.map((U)=>({eventId:U.eventId,timestamp:Number(U.timestamp),action:U.action,args:U.args??void 0}))}}var Ry=class{#$;#U;#X=new R9;#G;#J;constructor($,U,X){this.#$=$,this.#U=U,this.#G=X}setPersist($){this.#J=$}async scheduleEvent($,U,X){let G={eventId:crypto.randomUUID(),timestamp:$,action:U,args:R$(E$(X))};await this.#Q(G)}async onAlarm(){var $,U,X;let G=Date.now();if(this.#$.log.debug({msg:"alarm triggered",now:G,events:((U=($=this.#J)==null?void 0:$.scheduledEvents)==null?void 0:U.length)||0}),!((X=this.#J)==null?void 0:X.scheduledEvents)){this.#$.rLog.debug({msg:"no scheduled events"});return}let J=this.#J.scheduledEvents.findIndex((Q)=>Q.timestamp<=G);if(J===-1){if(this.#$.rLog.debug({msg:"no events are due yet"}),this.#J.scheduledEvents.length>0){let Q=this.#J.scheduledEvents[0].timestamp;this.#$.log.debug({msg:"alarm fired early, rescheduling for next event",now:G,nextTs:Q,delta:Q-G}),await this.#H(Q)}return}let Y=this.#J.scheduledEvents.splice(0,J+1);if(this.#$.log.debug({msg:"running events",count:Y.length}),this.#J.scheduledEvents.length>0){let Q=this.#J.scheduledEvents[0].timestamp;this.#$.log.info({msg:"setting next alarm",nextTs:Q,remainingEvents:this.#J.scheduledEvents.length}),await this.#H(Q)}await this.#w(Y)}async initializeAlarms(){var $,U;if(((U=($=this.#J)==null?void 0:$.scheduledEvents)==null?void 0:U.length)>0)await this.#H(this.#J.scheduledEvents[0].timestamp)}async waitForPendingAlarmWrites(){if(this.#X.runningDrainLoop)await this.#X.runningDrainLoop}getScheduleStats(){var $;if(!(($=this.#J)==null?void 0:$.scheduledEvents))return{totalEvents:0,nextEventTime:null,overdueCount:0};let U=Date.now(),X=this.#J.scheduledEvents;return{totalEvents:X.length,nextEventTime:X.length>0?X[0].timestamp:null,overdueCount:X.filter((G)=>G.timestamp<=U).length}}async cancelEvent($){var U;if(!((U=this.#J)==null?void 0:U.scheduledEvents))return!1;let X=this.#J.scheduledEvents.findIndex((J)=>J.eventId===$);if(X===-1)return!1;let G=X===0;if(this.#J.scheduledEvents.splice(X,1),G&&this.#J.scheduledEvents.length>0)await this.#H(this.#J.scheduledEvents[0].timestamp);return this.#$.log.info({msg:"cancelled scheduled event",eventId:$,remainingEvents:this.#J.scheduledEvents.length}),!0}async#Q($){var U;if(this.#$.log.info({msg:"scheduling event",eventId:$.eventId,timestamp:$.timestamp,action:$.action}),!((U=this.#J)==null?void 0:U.scheduledEvents))throw Error("Persist not initialized");let X=this.#J.scheduledEvents.findIndex((G)=>G.timestamp>$.timestamp);if(X===-1)this.#J.scheduledEvents.push($);else this.#J.scheduledEvents.splice(X,0,$);if(X===0||this.#J.scheduledEvents.length===1)this.#$.log.info({msg:"setting alarm for new event",timestamp:$.timestamp,eventCount:this.#J.scheduledEvents.length}),await this.#H($.timestamp)}async#w($){for(let U of $)try{this.#$.log.info({msg:"executing scheduled event",eventId:U.eventId,timestamp:U.timestamp,action:U.action});let X=this.#G.actions[U.action];if(!X)throw Error(`Missing action for scheduled event: ${U.action}`);if(typeof X!=="function")throw Error(`Scheduled event action ${U.action} is not a function (got ${typeof X})`);let G=U.args?T$(new Uint8Array(U.args)):[],J=X.call(void 0,this.#$.actorContext,...G);if(J instanceof Promise)await J;this.#$.log.debug({msg:"scheduled event completed",eventId:U.eventId,action:U.action})}catch(X){this.#$.log.error({msg:"error executing scheduled event",error:B$(X),eventId:U.eventId,timestamp:U.timestamp,action:U.action})}}async#H($){await this.#X.enqueue(async()=>{await this.#U.setAlarm(this.#$,$)})}getNextEvent(){var $;if(!(($=this.#J)==null?void 0:$.scheduledEvents)||this.#J.scheduledEvents.length===0)return null;return this.#J.scheduledEvents[0]}getAllEvents(){var $;return(($=this.#J)==null?void 0:$.scheduledEvents)||[]}clearAllEvents(){var $;if(($=this.#J)==null?void 0:$.scheduledEvents)this.#J.scheduledEvents=[],this.#$.log.warn({msg:"cleared all scheduled events"})}},Ty=class{#$;#U;#X;#G;#J=!1;#Q=!1;#w=new R9;#H=0;#Y;#W;#K;#j;#N;constructor($,U,X){this.#$=$,this.#U=U,this.#j=X,this.#N=X.options.stateSaveInterval||100}get persist(){return this.#X}get persistRaw(){return this.#G}get persistChanged(){return this.#J}get state(){return this.#z(),this.#X.state}set state($){this.#z(),this.#X.state=$}get stateEnabled(){return"createState"in this.#j||"state"in this.#j}async initializeState($){if(!$.hasInitialized){let U;if(this.stateEnabled)if(this.#$.rLog.info({msg:"actor state initializing"}),"createState"in this.#j)U=await this.#j.createState(this.#$.actorContext,$.input);else if("state"in this.#j)U=structuredClone(this.#j.state);else throw Error("Both 'createState' or 'state' were not defined");else this.#$.rLog.debug({msg:"state not enabled"});$.state=U,$.hasInitialized=!0;let X=Cq($);await this.#U.kvBatchPut(this.#$.id,[[n6.PERSIST_DATA,h8.serializeWithEmbeddedVersion(X)]])}this.initPersistProxy($)}initPersistProxy($){if(this.#G=$,$===null||typeof $!=="object"){let U="";if(!J1($,(X)=>{U=X},""))throw new vX({path:U});return $}if(this.#X)p8.unsubscribe(this.#X);this.#X=p8($,(U,X,G,J)=>{this.#O(U,X)},{ignoreDetached:!0})}async saveState($){var U;if(this.#$.assertReady($.allowStoppingState),this.#J)if($.immediate)await this.#B();else{if(!this.#K)this.#K=A6();this.savePersistThrottled($.maxWait),await((U=this.#K)==null?void 0:U.promise)}}savePersistThrottled($){let U=Date.now(),X=U-this.#H,G=Math.max(0,this.#N-X);if($!==void 0)G=Math.min(G,$);if(this.#Y!==void 0&&this.#W!==void 0)if(U+G<this.#W)clearTimeout(this.#Y),this.#Y=void 0,this.#W=void 0;else return;if(G>0)this.#W=U+G,this.#Y=setTimeout(()=>{this.#Y=void 0,this.#W=void 0,this.#B()},G);else this.#B()}clearPendingSaveTimeout(){if(this.#Y)clearTimeout(this.#Y),this.#Y=void 0,this.#W=void 0}async waitForPendingWrites(){if(this.#w.runningDrainLoop)await this.#w.runningDrainLoop}#z(){if(!this.stateEnabled)throw new qX}#O($,U){let X=IL($),G=RL($);if(X||G){let J="";if(!J1(U,(Y)=>{J=Y},""))throw new vX({path:$+(J?`.${J}`:"")})}if(this.#$.rLog.debug({msg:"onChange triggered, setting persistChanged=true",path:$}),this.#J=!0,X)this.#$.inspector.emitter.emit("stateUpdated",this.#X.state);if(X&&this.#j.onStateChange&&this.#$.isReady()&&!this.#Q)try{this.#Q=!0,this.#j.onStateChange(this.#$.actorContext,this.#G.state)}catch(J){this.#$.rLog.error({msg:"error in `_onStateChange`",error:B$(J)})}finally{this.#Q=!1}}async#B(){var $,U;this.#$.rLog.info({msg:"savePersistInner called",persistChanged:this.#J,connsWithPersistChangedSize:this.#$.connectionManager.connsWithPersistChanged.size,connsWithPersistChangedIds:Array.from(this.#$.connectionManager.connsWithPersistChanged)});try{if(this.#H=Date.now(),this.#J||this.#$.connectionManager.connsWithPersistChanged.size>0)await this.#w.enqueue(async()=>{this.#$.rLog.debug({msg:"saving persist",actorChanged:this.#J,connectionsChanged:this.#$.connectionManager.connsWithPersistChanged.size});let G=[];if(this.#J){this.#J=!1;let Y=Cq(this.#G);G.push([n6.PERSIST_DATA,h8.serializeWithEmbeddedVersion(Y)])}let J=[];for(let Y of this.#$.connectionManager.connsWithPersistChanged){let Q=this.#$.conns.get(Y);if(!Q){this.#$.rLog.warn({msg:"connection not found in conns map",connId:Y});continue}let N=Q[j4].hibernatableDataRaw;if(!N){this.#$.log.warn({msg:"missing raw hibernatable data for conn in getChangedConnectionsData",connId:Q.id});continue}this.#$.rLog.info({msg:"persisting connection",connId:Y,gatewayId:M$(N.requestId),requestId:M$(N.requestId),serverMessageIndex:N.serverMessageIndex,clientMessageIndex:N.clientMessageIndex,hasState:N.state!==void 0});let j=_y(N),H=YW.serializeWithEmbeddedVersion(j);G.push([GW(Y),H]),J.push(Q)}if(this.#$.rLog.info({msg:"prepared entries for kvBatchPut",totalEntries:G.length,connectionEntries:J.length,connectionIds:J.map((Y)=>Y.id)}),this.#U.onBeforePersistConn)for(let Y of J)this.#U.onBeforePersistConn(Y);if(this.#$.connectionManager.clearConnWithPersistChanged(),this.#$.rLog.info({msg:"calling kvBatchPut",actorId:this.#$.id,entriesCount:G.length}),await this.#U.kvBatchPut(this.#$.id,G),this.#$.rLog.info({msg:"kvBatchPut completed successfully"}),this.#U.onAfterPersistConn)for(let Y of J)this.#U.onAfterPersistConn(Y);this.#$.rLog.debug({msg:"persist saved"})});else this.#$.rLog.info({msg:"savePersistInner skipped - no changes"});($=this.#K)==null||$.resolve()}catch(X){throw this.#$.rLog.error({msg:"error saving persist",error:B$(X)}),(U=this.#K)==null||U.reject(X),X}}},pq=(($)=>{return $[$.Yes=0]="Yes",$[$.NotReady=1]="NotReady",$[$.NotStarted=2]="NotStarted",$[$.ActiveConns=3]="ActiveConns",$[$.ActiveHonoHttpRequests=4]="ActiveHonoHttpRequests",$})(pq||{}),ky=class{actorContext;#$;driver;#U;#X;#G;#J;#Q;connectionManager;stateManager;eventManager;#w;#H;#Y;#W=!1;#K=!1;#j=!1;#N=!1;#z=!1;#O;#B=new AbortController;#V;#M;#D=[];#_=0;#F;#A;#R=new Mu(()=>{return{isDbEnabled:async()=>{return this.#M!==void 0},getDb:async()=>{return this.db},isStateEnabled:async()=>{return this.stateEnabled},getState:async()=>{if(!this.stateEnabled)throw new qX;return this.stateManager.persistRaw.state},getRpcs:async()=>{return Object.keys(this.#$.actions)},getConnections:async()=>{return Array.from(this.connectionManager.connections.entries()).map(([$,U])=>{var X;let G=U[j4];return{type:(X=U[M6])==null?void 0:X.type,id:$,params:U.params,stateEnabled:G.stateEnabled,state:G.stateEnabled?G.state:void 0,subscriptions:U.subscriptions.size,isHibernatable:U.isHibernatable}})},setState:async($)=>{if(!this.stateEnabled)throw new qX;this.stateManager.state={...$},await this.stateManager.saveState({immediate:!0})},executeAction:async($,U)=>{let X=await this.connectionManager.prepareAndConnectConn(cW(),void 0,void 0,void 0,void 0);try{return await this.executeAction(new tY(this,X),$,U||[])}finally{X.disconnect()}}}});constructor($){this.#$=$,this.actorContext=new aW(this)}get log(){return g0.default(this.#H,"log not configured"),this.#H}get rLog(){return g0.default(this.#Y,"log not configured"),this.#Y}get isStopping(){return this.#z}get id(){return this.#X}get name(){return this.#G}get key(){return this.#J}get region(){return this.#Q}get inlineClient(){return this.#U}get inspector(){return this.#R}get inspectorToken(){return this.#A}get conns(){return this.connectionManager.connections}get schedule(){return this.#F}get abortSignal(){return this.#B.signal}get actions(){return Object.keys(this.#$.actions)}get config(){return this.#$}get persist(){return this.stateManager.persist}get state(){return this.stateManager.state}set state($){this.stateManager.state=$}get stateEnabled(){return this.stateManager.stateEnabled}get connStateEnabled(){return"createConnState"in this.#$||"connState"in this.#$}get vars(){return this.#b(),g0.default(this.#V!==void 0,"vars not enabled"),this.#V}get db(){if(!this.#M)throw new X_;return this.#M}async start($,U,X,G,J,Y){var Q,w;if(this.driver=$,this.#U=U,this.#X=X,this.#G=G,this.#J=J,this.#Q=Y,this.#E(),this.connectionManager=new Sy(this),this.stateManager=new Ty(this,$,this.#$),this.eventManager=new Zy(this),this.#w=new Ry(this,$,this.#$),this.#F=new qy(this),await this.#T(),await this.#k(),this.#x)await this.#Z();await this.#q(),await this.#f(),await this.#w.initializeAlarms(),this.#W=!0,await((w=(Q=this.driver).onBeforeActorStart)==null?void 0:w.call(Q,this)),this.#K=!0,this.#Y.info({msg:"actor started"}),this.resetSleepTimer(),await this.onAlarm()}isReady(){return this.#W}assertReady($=!1){if(!this.#W)throw new t0("Actor not ready");if(!$&&this.#z)throw new t0("Actor is stopping")}async onStop($){if(this.#z){this.#Y.warn({msg:"already stopping actor"});return}if(this.#z=!0,this.#Y.info({msg:"setting stopCalled=true",mode:$}),this.#O)clearTimeout(this.#O),this.#O=void 0;try{this.#B.abort()}catch{}if($==="sleep")await this.#I();else if($==="destroy")await this.#P();else LU($);await this.#h(),await this.#g(this.#$.options.waitUntilTimeout),this.#Y.info({msg:"clearing pending save timeouts"}),this.stateManager.clearPendingSaveTimeout(),this.#Y.info({msg:"saving state immediately"}),await this.stateManager.saveState({immediate:!0,allowStoppingState:!0}),await this.stateManager.waitForPendingWrites(),await this.#w.waitForPendingAlarmWrites()}startSleep(){var $;if(this.#z||this.#N){this.#Y.debug({msg:"cannot call startSleep if actor already stopping"});return}if(this.#j){this.#Y.warn({msg:"cannot call startSleep twice, actor already sleeping"});return}this.#j=!0;let U=($=this.driver.startSleep)==null?void 0:$.bind(this.driver,this.#X);g0.default(this.#L,"sleeping not supported"),g0.default(U,"no sleep on driver"),this.#Y.info({msg:"actor sleeping"}),setImmediate(()=>{U()})}startDestroy(){if(this.#z||this.#j){this.#Y.debug({msg:"cannot call startDestroy if actor already stopping or sleeping"});return}if(this.#N){this.#Y.warn({msg:"cannot call startDestroy twice, actor already destroying"});return}this.#N=!0;let $=this.driver.startDestroy.bind(this.driver,this.#X);this.#Y.info({msg:"actor destroying"}),setImmediate(()=>{$()})}beginHonoHttpRequest(){this.#_++,this.resetSleepTimer()}endHonoHttpRequest(){if(this.#_--,this.#_<0)this.#_=0,this.#Y.warn({msg:"active hono requests went below 0, this is a RivetKit bug",...DU});this.resetSleepTimer()}async processMessage($,U){await Ay($,this,U,{onExecuteAction:async(X,G,J)=>{return this.inspector.emitter.emit("eventFired",{type:"action",name:G,args:J,connId:U.id}),await this.executeAction(X,G,J)},onSubscribe:async(X,G)=>{this.inspector.emitter.emit("eventFired",{type:"subscribe",eventName:X,connId:G.id}),this.eventManager.addSubscription(X,G,!1)},onUnsubscribe:async(X,G)=>{this.inspector.emitter.emit("eventFired",{type:"unsubscribe",eventName:X,connId:G.id}),this.eventManager.removeSubscription(X,G,!1)}})}async executeAction($,U,X){if(this.assertReady(),!(U in this.#$.actions))throw this.#Y.warn({msg:"action does not exist",actionName:U}),new PQ(U);let G=this.#$.actions[U];if(typeof G!=="function")throw this.#Y.warn({msg:"action is not a function",actionName:U,type:typeof G}),new PQ(U);try{this.#Y.debug({msg:"executing action",actionName:U,args:X});let J=G.call(void 0,$,...X),Y;if(J instanceof Promise)Y=await O0(J,this.#$.options.actionTimeout);else Y=J;if(this.#$.onBeforeActionResponse)try{let Q=this.#$.onBeforeActionResponse(this.actorContext,U,X,Y);if(Q instanceof Promise)Y=await Q;else Y=Q}catch(Q){this.#Y.error({msg:"error in `onBeforeActionResponse`",error:B$(Q)})}return Y}catch(J){if(J instanceof t2)throw new tB;throw this.#Y.error({msg:"action error",actionName:U,error:B$(J)}),J}finally{this.stateManager.savePersistThrottled()}}async handleRawRequest($,U){if(this.assertReady(),!this.#$.onRequest)throw new G_;try{let X=new Fy(this,$,U),G=await this.#$.onRequest(X,U);if(!G)throw new Y_;return G}catch(X){throw this.#Y.error({msg:"onRequest error",error:B$(X)}),X}finally{this.stateManager.savePersistThrottled()}}handleRawWebSocket($,U,X){if(this.assertReady(),!this.#$.onWebSocket)throw new t0("onWebSocket handler not defined");try{this.resetSleepTimer();let G=new Ly(this,$,X),J=this.#$.onWebSocket(G,U);if(J instanceof Promise)J.then(()=>{this.stateManager.savePersistThrottled()});else this.stateManager.savePersistThrottled()}catch(G){throw this.#Y.error({msg:"onWebSocket error",error:B$(G)}),G}}async scheduleEvent($,U,X){await this.#w.scheduleEvent($,U,X)}async onAlarm(){this.resetSleepTimer(),await this.#w.onAlarm()}waitUntil($){this.assertReady();let U=$.then(()=>{this.#Y.debug({msg:"wait until promise complete"})}).catch((X)=>{this.#Y.error({msg:"wait until promise failed",error:B$(X)})});this.#D.push(U)}#E(){var $,U;let X={actor:this.#G,key:rU(this.#J),actorId:this.#X},G=(U=($=this.driver).getExtraActorLogParams)==null?void 0:U.call($);if(G)Object.assign(X,G);this.#H=$G().child(Object.assign(eX()?{target:"actor"}:{},X)),this.#Y=$G().child(Object.assign(eX()?{target:"actor-runtime"}:{},X))}async#T(){let[$]=await this.driver.kvBatchGet(this.#X,[n6.PERSIST_DATA]);g0.default($!==null,"persist data has not been set, it should be set when initialized");let U=h8.deserializeWithEmbeddedVersion($),X=Iy(U);if(X.hasInitialized)await this.#v(X);else await this.#S(X);this.#w.setPersist(this.stateManager.persist)}async#S($){if(this.#Y.info({msg:"actor creating"}),await this.stateManager.initializeState($),this.#$.onCreate)await this.#$.onCreate(this.actorContext,$.input)}async#v($){let U=await this.driver.kvListPrefix(this.#X,n6.CONN_PREFIX),X=[];for(let[G,J]of U)try{let Y=YW.deserializeWithEmbeddedVersion(new Uint8Array(J)),Q=My(Y);X.push(Q)}catch(Y){this.#Y.error({msg:"failed to decode connection",error:B$(Y)})}this.#Y.info({msg:"actor restoring",connections:X.length}),this.stateManager.initPersistProxy($),this.connectionManager.restoreConnections(X)}async#k(){let[$]=await this.driver.kvBatchGet(this.#X,[n6.INSPECTOR_TOKEN]);if($!==null){let U=new TextDecoder;this.#A=U.decode($),this.#Y.debug({msg:"loaded existing inspector token"})}else{this.#A=ZL();let U=new TextEncoder().encode(this.#A);await this.driver.kvBatchPut(this.#X,[[n6.INSPECTOR_TOKEN,U]]),this.#Y.debug({msg:"generated new inspector token"})}}async#Z(){let $;if("createVars"in this.#$){let U=this.#$.createVars(this.actorContext,this.driver.getContext(this.#X));if(U instanceof Promise)$=await O0(U,this.#$.options.createVarsTimeout);else $=U}else if("vars"in this.#$)$=structuredClone(this.#$.vars);else throw Error("Could not create variables from 'createVars' or 'vars'");this.#V=$}async#q(){if(this.#Y.info({msg:"actor starting"}),this.#$.onWake){let $=this.#$.onWake(this.actorContext);if($ instanceof Promise)await $}}async#I(){if(this.#$.onSleep)try{this.#Y.debug({msg:"calling onSleep"});let $=this.#$.onSleep(this.actorContext);if($ instanceof Promise)await O0($,this.#$.options.onSleepTimeout);this.#Y.debug({msg:"onSleep completed"})}catch($){if($ instanceof t2)this.#Y.error({msg:"onSleep timed out"});else this.#Y.error({msg:"error in onSleep",error:B$($)})}}async#P(){if(this.#$.onDestroy)try{this.#Y.debug({msg:"calling onDestroy"});let $=this.#$.onDestroy(this.actorContext);if($ instanceof Promise)await O0($,this.#$.options.onDestroyTimeout);this.#Y.debug({msg:"onDestroy completed"})}catch($){if($ instanceof t2)this.#Y.error({msg:"onDestroy timed out"});else this.#Y.error({msg:"error in onDestroy",error:B$($)})}}async#f(){var $,U;if("db"in this.#$&&this.#$.db){let X=await this.#$.db.createClient({getDatabase:()=>this.driver.getDatabase(this.#X)});this.#Y.info({msg:"database migration starting"}),await((U=($=this.#$.db).onMigrate)==null?void 0:U.call($,X)),this.#Y.info({msg:"database migration complete"}),this.#M=X}}async#h(){let $=[];this.#Y.debug({msg:"disconnecting connections on actor stop",totalConns:this.connectionManager.connections.size});for(let X of this.connectionManager.connections.values())if(this.#Y.debug({msg:"checking connection for disconnect",connId:X.id,isHibernatable:X.isHibernatable}),!X.isHibernatable)this.#Y.debug({msg:"disconnecting non-hibernatable connection on actor stop",connId:X.id}),$.push(X.disconnect());else this.#Y.debug({msg:"preserving hibernatable connection on actor stop",connId:X.id});if(await Promise.race([Promise.all($).then(()=>!1),new Promise((X)=>globalThis.setTimeout(()=>X(!0),1500))]))this.#Y.warn({msg:"timed out waiting for connections to close, shutting down anyway"})}async#g($){let U=this.#D;if(U.length===0){this.#Y.debug({msg:"no background promises"});return}if(await Promise.race([Promise.allSettled(U).then(()=>!1),new Promise((G)=>setTimeout(()=>G(!0),$))]))this.#Y.error({msg:"timed out waiting for background tasks",count:U.length,timeoutMs:$});else this.#Y.debug({msg:"background promises finished"})}resetSleepTimer(){if(this.#$.options.noSleep||!this.#L)return;if(this.#z)return;let $=this.#C();if(this.#Y.debug({msg:"resetting sleep timer",canSleep:pq[$],existingTimeout:!!this.#O,timeout:this.#$.options.sleepTimeout}),this.#O)clearTimeout(this.#O),this.#O=void 0;if(this.#j)return;if($===0)this.#O=setTimeout(()=>{this.startSleep()},this.#$.options.sleepTimeout)}#C(){if(!this.#W)return 1;if(!this.#K)return 1;if(this.#_>0)return 4;for(let $ of this.connectionManager.connections.values())return 3;return 0}get#L(){return this.driver.startSleep!==void 0}get#x(){return"createVars"in this.#$||"vars"in this.#$}#b(){if(!this.#x)throw new rB}},dq=class{#$;constructor($){this.#$=$}get config(){return this.#$}instantiate(){return new ky(this.#$)}};function GJ($,U){let X=$.use[U];if(!X)throw Error(`no actor in registry for name ${U}`);return X}var aY=class extends Error{},Cy=class extends aY{};var tU=class extends aY{constructor($,U,X,G){super(X);this.group=$,this.code=U,this.metadata=G}__type="ActorError"},iY=class extends aY{constructor($,U){super(`HTTP request error: ${$}`,{cause:U==null?void 0:U.cause})}},xy=class extends aY{constructor(){super("Attempting to interact with a disposed actor connection.")}};async function aU($,U,X){s().debug({msg:"querying actor",query:JSON.stringify(U)});let G;if("getForId"in U){let J=await X.getForId({c:$,name:U.getForId.name,actorId:U.getForId.actorId});if(!J)throw new SQ(U.getForId.actorId);G=J}else if("getForKey"in U){let J=await X.getWithKey({c:$,name:U.getForKey.name,key:U.getForKey.key});if(!J)throw new SQ(`${U.getForKey.name}:${JSON.stringify(U.getForKey.key)}`);G=J}else if("getOrCreateForKey"in U)G={actorId:(await X.getOrCreateWithKey({c:$,name:U.getOrCreateForKey.name,key:U.getOrCreateForKey.key,input:U.getOrCreateForKey.input,region:U.getOrCreateForKey.region})).actorId};else if("create"in U)G={actorId:(await X.createActor({c:$,name:U.create.name,key:U.create.key,input:U.create.input,region:U.create.region})).actorId};else throw new PX("Invalid query format");return s().debug({msg:"actor query result",actorId:G.actorId}),{actorId:G.actorId}}async function fy($,U,X,G,J){let Y,Q=J||{};if(typeof G==="string")Y=G;else if(G instanceof URL)Y=G.pathname+G.search;else if(G instanceof Request){let w=new URL(G.url);Y=w.pathname+w.search;let N=new Headers(G.headers),j=new Headers((J==null?void 0:J.headers)||{}),H=new Headers(N);for(let[K,z]of j)H.set(K,z);if(Q={method:G.method,body:G.body,mode:G.mode,credentials:G.credentials,redirect:G.redirect,referrer:G.referrer,referrerPolicy:G.referrerPolicy,integrity:G.integrity,keepalive:G.keepalive,signal:G.signal,...Q,headers:H},Q.body)Q.duplex="half"}else throw TypeError("Invalid input type for fetch");try{let{actorId:w}=await aU(void 0,U,$);s().debug({msg:"found actor for raw http",actorId:w}),eW.default(w,"Missing actor ID");let N=Y.startsWith("/")?Y.slice(1):Y,j=new URL(`http://actor/request/${N}`),H=new Headers(Q.headers);if(X)H.set(T1,JSON.stringify(X));let K=new Request(j,{...Q,headers:H});return $.sendRequest(w,K)}catch(w){let{group:N,code:j,message:H,metadata:K}=e6(w,s(),{},!0);throw new tU(N,j,H,K)}}async function hy($,U,X,G,J){let{actorId:Q}=await aU(void 0,U,$);s().debug({msg:"found actor for action",actorId:Q}),eW.default(Q,"Missing actor ID");let w="",N="";if(G){let K=G.indexOf("?");if(K!==-1)w=G.substring(0,K),N=G.substring(K);else w=G;if(w.startsWith("/"))w=w.slice(1)}let j=`${D0}${w}${N}`;return s().debug({msg:"opening websocket",actorId:Q,encoding:"bare",path:j}),await $.openWebSocket(j,Q,"bare",X)}function gy($){if($ instanceof Blob)return $.size;if($ instanceof ArrayBuffer)return $.byteLength;if($ instanceof Uint8Array)return $.byteLength;if(typeof $==="string")return $.length;A4($)}async function tq($){s().debug({msg:"sending http request",url:$.url,encoding:$.encoding});let U,X;if($.method==="POST"||$.method==="PUT")rq.default($.body!==void 0,"missing body"),U=BG($.encoding),X=B0($.encoding,$.body,$.requestVersionedDataHandler,$.requestZodSchema,$.requestToJson,$.requestToBare);let G;try{G=await($.customFetch??fetch)(new globalThis.Request($.url,{method:$.method,headers:{...$.headers,...U?{"Content-Type":U}:{},"User-Agent":VF()},body:X,credentials:"include",signal:$.signal}))}catch(J){throw new iY(`Request failed: ${J}`,{cause:J})}if(!G.ok){let J=await G.arrayBuffer(),Y=G.headers.get("content-type"),Q=G.headers.get("x-rivet-ray-id"),w=(Y==null?void 0:Y.includes("application/json"))?"json":$.encoding;try{let N=_0(w,new Uint8Array(J),pW,tW,(j)=>j,(j)=>({group:j.group,code:j.code,message:j.message,metadata:j.metadata?T$(new Uint8Array(j.metadata)):void 0}));throw new tU(N.group,N.code,N.message,N.metadata)}catch(N){if(N instanceof tU)throw N;let j=new TextDecoder("utf-8",{fatal:!1}).decode(J);if(Q)throw new iY(`${G.statusText} (${G.status}) (Ray ID: ${Q}):
${j}`);else throw new iY(`${G.statusText} (${G.status}):
${j}`)}}if($.skipParseResponse)return;try{let J=new Uint8Array(await G.arrayBuffer());return _0($.encoding,J,$.responseVersionedDataHandler,$.responseZodSchema,$.responseFromJson,$.responseFromBare)}catch(J){throw new iY(`Failed to parse response: ${J}`,{cause:J})}}var by=class{#$;#U;#X;#G;#J;constructor($,U,X,G,J){this.#$=$,this.#U=U,this.#X=G,this.#G=J,this.#J=X}async action($){try{let{actorId:U}=await aU(void 0,this.#G,this.#U);return s().debug({msg:"found actor for action",actorId:U}),yW.default(U,"Missing actor ID"),s().debug({msg:"handling action",name:$.name,encoding:this.#X}),await tq({url:`http://actor/action/${encodeURIComponent($.name)}`,method:"POST",headers:{[V0]:this.#X,...this.#J!==void 0?{[T1]:JSON.stringify(this.#J)}:{}},body:$.args,encoding:this.#X,customFetch:this.#U.sendRequest.bind(this.#U,U),signal:$==null?void 0:$.signal,requestVersionedDataHandler:iW,responseVersionedDataHandler:nW,requestZodSchema:oW,responseZodSchema:rW,requestToJson:(G)=>({args:G}),requestToBare:(G)=>({args:R$(E$(G))}),responseFromJson:(G)=>G.output,responseFromBare:(G)=>T$(new Uint8Array(G.output))})}catch(U){let{group:X,code:G,message:J,metadata:Y}=e6(U,s(),{},!0);throw new tU(X,G,J,Y)}}connect(){s().debug({msg:"establishing connection from handle",query:this.#G});let $=new uy(this.#$,this.#U,this.#J,this.#X,this.#G);return this.#$[aq]($)}async fetch($,U){return fy(this.#U,this.#G,this.#J,$,U)}async websocket($,U){return hy(this.#U,this.#G,this.#J,$,U)}async resolve({signal:$}={}){if("getForKey"in this.#G||"getOrCreateForKey"in this.#G){let U;if("getForKey"in this.#G)U=this.#G.getForKey.name;else if("getOrCreateForKey"in this.#G)U=this.#G.getOrCreateForKey.name;else LU(this.#G);let{actorId:X}=await aU(void 0,this.#G,this.#U);return this.#G={getForId:{actorId:X,name:U}},X}else if("getForId"in this.#G)return this.#G.getForId.actorId;else if("create"in this.#G)yW.default(!1,"actorQuery cannot be create");else LU(this.#G)}},nY=Symbol("actorConns"),aq=Symbol("createActorConnProxy"),my=class{#$=!1;[nY]=new Set;#U;#X;constructor($,U){this.#U=$,this.#X=U.encoding??"bare"}getForId($,U,X){s().debug({msg:"get handle to actor with id",name:$,actorId:U,params:X==null?void 0:X.params});let G={getForId:{name:$,actorId:U}},J=this.#G(X==null?void 0:X.params,G);return JJ(J)}get($,U,X){let G=typeof U==="string"?[U]:U||[];s().debug({msg:"get handle to actor",name:$,key:G,parameters:X==null?void 0:X.params});let J={getForKey:{name:$,key:G}},Y=this.#G(X==null?void 0:X.params,J);return JJ(Y)}getOrCreate($,U,X){let G=typeof U==="string"?[U]:U||[];s().debug({msg:"get or create handle to actor",name:$,key:G,parameters:X==null?void 0:X.params,createInRegion:X==null?void 0:X.createInRegion});let J={getOrCreateForKey:{name:$,key:G,input:X==null?void 0:X.createWithInput,region:X==null?void 0:X.createInRegion}},Y=this.#G(X==null?void 0:X.params,J);return JJ(Y)}async create($,U,X){let G=typeof U==="string"?[U]:U||[],J={create:{...X,name:$,key:G}};s().debug({msg:"create actor handle",name:$,key:G,parameters:X==null?void 0:X.params,create:J.create});let{actorId:Y}=await aU(void 0,J,this.#U);s().debug({msg:"created actor with ID",name:$,key:G,actorId:Y});let Q={getForId:{name:$,actorId:Y}},w=this.#G(X==null?void 0:X.params,Q);return JJ(w)}#G($,U){return new by(this,this.#U,$,this.#X,U)}[aq]($){return this[nY].add($),$[sq](),JJ($)}async dispose(){if(this.#$){s().warn({msg:"client already disconnected"});return}this.#$=!0,s().debug({msg:"disposing client"});let $=[];for(let U of this[nY].values())$.push(U.dispose());await Promise.all($)}};function sY($,U){let X=new my($,U);return new Proxy(X,{get:(G,J,Y)=>{if(typeof J==="symbol"||J in G){let Q=Reflect.get(G,J,Y);if(typeof Q==="function")return Q.bind(G);return Q}if(typeof J==="string")return{get:(Q,w)=>{return G.get(J,Q,w)},getOrCreate:(Q,w)=>{return G.getOrCreate(J,Q,w)},getForId:(Q,w)=>{return G.getForId(J,Q,w)},create:async(Q,w={})=>{return await G.create(J,Q,w)}};return}})}function JJ($){let U=new Map;return new Proxy($,{get(X,G,J){if(typeof G==="symbol")return Reflect.get(X,G,J);if(G==="constructor"||G in X){let Y=Reflect.get(X,G,X);if(typeof Y==="function")return Y.bind(X);return Y}if(typeof G==="string"){if(G==="then")return;let Y=U.get(G);if(!Y)Y=(...Q)=>X.action({name:G,args:Q}),U.set(G,Y);return Y}},has(X,G){if(typeof G==="string")return!0;return Reflect.has(X,G)},getPrototypeOf(X){return Reflect.getPrototypeOf(X)},ownKeys(X){return Reflect.ownKeys(X)},getOwnPropertyDescriptor(X,G){let J=Reflect.getOwnPropertyDescriptor(X,G);if(J)return J;if(typeof G==="string")return{configurable:!0,enumerable:!1,writable:!1,value:(...Y)=>X.action({name:G,args:Y})};return}})}var sq=Symbol("connect"),uy=class{#$=!1;#U=new AbortController;#X=!1;#G;#J;#Q=[];#w=new Map;#H=new Map;#Y=new Set;#W=0;#K;#j;#N;#z;#O;#B;#V;#M;constructor($,U,X,G,J){this.#z=$,this.#O=U,this.#B=X,this.#V=G,this.#M=J,this.#K=setInterval(()=>60000)}async action($){s().debug({msg:"action",name:$.name,args:$.args});let U=this.#W;this.#W+=1;let{promise:X,resolve:G,reject:J}=A6();this.#w.set(U,{name:$.name,resolve:G,reject:J}),s().debug({msg:"added action to in-flight map",actionId:U,actionName:$.name,inFlightCount:this.#w.size}),this.#q({body:{tag:"ActionRequest",val:{id:BigInt(U),name:$.name,args:$.args}}});let{id:Y,output:Q}=await X;if(Y!==BigInt(U))throw Error(`Request ID ${U} does not match response ID ${Y}`);return Q}[sq](){this.#D()}async#D(){this.#X=!0;try{await UJ(this.#_.bind(this),{forever:!0,minTimeout:250,maxTimeout:30000,onFailedAttempt:($)=>{s().warn({msg:"failed to reconnect",attempt:$.attemptNumber,error:B$($)})},signal:this.#U.signal})}catch($){if($.name==="AbortError"){s().info({msg:"connection retry aborted"});return}else throw $}this.#X=!1}async#_(){try{if(this.#j)throw Error("#onOpenPromise already defined");this.#j=A6(),await this.#F(),await this.#j.promise}finally{this.#j=void 0}}async#F(){let{actorId:$}=await aU(void 0,this.#M,this.#O),U=await this.#O.openWebSocket(z0,$,this.#V,this.#B);s().debug({msg:"opened websocket",connectionId:this.#J,readyState:U.readyState,messageQueueLength:this.#Q.length}),this.#N=U,U.addEventListener("open",()=>{s().debug({msg:"client websocket open",connectionId:this.#J})}),U.addEventListener("message",async(X)=>{try{await this.#R(X.data)}catch(G){s().error({msg:"error in websocket message handler",error:B$(G)})}}),U.addEventListener("close",(X)=>{try{this.#E(X)}catch(G){s().error({msg:"error in websocket close handler",error:B$(G)})}}),U.addEventListener("error",(X)=>{try{this.#T()}catch(G){s().error({msg:"error in websocket error handler",error:B$(G)})}})}#A(){if(s().debug({msg:"socket open",messageQueueLength:this.#Q.length,connectionId:this.#J}),this.#j)this.#j.resolve(void 0);else s().warn({msg:"#onOpenPromise is undefined"});for(let U of this.#H.keys())this.#P(U,!0);let $=this.#Q;this.#Q=[],s().debug({msg:"flushing message queue",queueLength:$.length});for(let U of $)this.#q(U)}async#R($){s().trace({msg:"received message",dataType:typeof $,isBlob:$ instanceof Blob,isArrayBuffer:$ instanceof ArrayBuffer});let U=await this.#I($);if(s().trace(p$("_RIVETKIT_LOG_MESSAGE")?{msg:"parsed message",message:z5(U).substring(0,100)+"..."}:{msg:"parsed message"}),U.body.tag==="Init")this.#G=U.body.val.actorId,this.#J=U.body.val.connectionId,s().trace({msg:"received init message",actorId:this.#G,connectionId:this.#J}),this.#A();else if(U.body.tag==="Error"){let{group:X,code:G,message:J,metadata:Y,actionId:Q}=U.body.val;if(Q){let w=this.#S(Number(Q));s().warn({msg:"action error",actionId:Q,actionName:w==null?void 0:w.name,group:X,code:G,message:J,metadata:Y}),w.reject(new tU(X,G,J,Y))}else{s().warn({msg:"connection error",group:X,code:G,message:J,metadata:Y});let w=new tU(X,G,J,Y);if(this.#j)this.#j.reject(w);for(let[N,j]of this.#w.entries())j.reject(w),this.#w.delete(N);this.#k(w)}}else if(U.body.tag==="ActionResponse"){let{id:X}=U.body.val;s().debug({msg:"received action response",actionId:Number(X),inFlightCount:this.#w.size,inFlightIds:Array.from(this.#w.keys())});let G=this.#S(Number(X));s().trace({msg:"resolving action promise",actionId:X,actionName:G==null?void 0:G.name}),G.resolve(U.body.val)}else if(U.body.tag==="Event")s().trace({msg:"received event",name:U.body.val.name}),this.#v(U.body.val);else A4(U.body)}#E($){let U=$,X=U.wasClean;if(this.#j)this.#j.reject(Error(`websocket closed with code ${U.code}: ${U.reason}`));if(s().info({msg:"socket closed",code:U.code,reason:U.reason,wasClean:X,connectionId:this.#J,messageQueueLength:this.#Q.length,actionsInFlight:this.#w.size}),this.#w.size>0){s().debug({msg:"rejecting in-flight actions after disconnect",count:this.#w.size,connectionId:this.#J,wasClean:X});let G=Error(`${X?"Connection closed":"Connection lost"} (code: ${U.code}, reason: ${U.reason})`);for(let J of this.#w.values())J.reject(G);this.#w.clear()}if(this.#N=void 0,!this.#$&&!this.#X)s().debug({msg:"triggering reconnect",connectionId:this.#J,messageQueueLength:this.#Q.length}),this.#D()}#T(){if(this.#$)return;s().warn("socket error")}#S($){let U=this.#w.get($);if(!U)throw s().error({msg:"action not found in in-flight map",lookupId:$,inFlightCount:this.#w.size,inFlightIds:Array.from(this.#w.keys()),inFlightActions:Array.from(this.#w.entries()).map(([X,G])=>({id:X,name:G.name}))}),new Cy(`No in flight response for ${$}`);return this.#w.delete($),s().debug({msg:"removed action from in-flight map",actionId:$,actionName:U.name,inFlightCount:this.#w.size}),U}#v($){let{name:U,args:X}=$,G=this.#H.get(U);if(!G)return;for(let J of[...G])if(J.callback(...X),J.once)G.delete(J);if(G.size===0)this.#H.delete(U)}#k($){for(let U of[...this.#Y])try{U($)}catch(X){s().error({msg:"error in connection error handler",error:B$(X)})}}#Z($,U,X){let G={callback:U,once:X},J=this.#H.get($);if(J===void 0)J=new Set,this.#H.set($,J),this.#P($,!0);return J.add(G),()=>{let Y=this.#H.get($);if(Y){if(Y.delete(G),Y.size===0)this.#H.delete($),this.#P($,!1)}}}on($,U){return this.#Z($,U,!1)}once($,U){return this.#Z($,U,!0)}onError($){return this.#Y.add($),()=>{this.#Y.delete($)}}#q($,U){var X,G;if(this.#$)throw new xy;let J=!1;if(this.#N){let Y=this.#N.readyState;if(s().debug({msg:"websocket send attempt",readyState:Y,readyStateString:Y===0?"CONNECTING":Y===1?"OPEN":Y===2?"CLOSING":"CLOSED",connectionId:this.#J,messageType:$.body.tag,actionName:(X=$.body.val)==null?void 0:X.name}),Y===1)try{let Q=B0(this.#V,$,mq,uq,(w)=>w,(w)=>{if(w.body.tag==="ActionRequest")return{body:{tag:"ActionRequest",val:{id:w.body.val.id,name:w.body.val.name,args:R$(E$(w.body.val.args))}}};else return w});this.#N.send(Q),s().trace({msg:"sent websocket message",len:gy(Q)})}catch(Q){s().warn({msg:"failed to send message, added to queue",error:Q,connectionId:this.#J}),J=!0}else s().debug({msg:"websocket not open, queueing message",readyState:Y}),J=!0}else s().debug({msg:"no websocket, queueing message"}),J=!0;if(!(U==null?void 0:U.ephemeral)&&J)this.#Q.push($),s().debug({msg:"queued connection message",queueLength:this.#Q.length,connectionId:this.#J,messageType:$.body.tag,actionName:(G=$.body.val)==null?void 0:G.name})}async#I($){oq.default(this.#N,"websocket must be defined");let U=await cq($);return _0(this.#V,U,pU,dU,(X)=>X,(X)=>{if(X.body.tag==="Error")return{body:{tag:"Error",val:{group:X.body.val.group,code:X.body.val.code,message:X.body.val.message,metadata:X.body.val.metadata?T$(new Uint8Array(X.body.val.metadata)):null,actionId:X.body.val.actionId}}};else if(X.body.tag==="ActionResponse")return{body:{tag:"ActionResponse",val:{id:X.body.val.id,output:T$(new Uint8Array(X.body.val.output))}}};else if(X.body.tag==="Event")return{body:{tag:"Event",val:{name:X.body.val.name,args:T$(new Uint8Array(X.body.val.args))}}};else return X})}get actorId(){return this.#G}get connectionId(){return this.#J}async dispose(){if(this.#$){s().warn({msg:"connection already disconnected"});return}if(this.#$=!0,s().debug({msg:"disposing actor conn"}),clearInterval(this.#K),this.#U.abort(),this.#z[nY].delete(this),this.#N){s().debug("closing ws");let $=this.#N;if($.readyState===2||$.readyState===3)s().debug({msg:"ws already closed or closing"});else{let{promise:U,resolve:X}=A6();$.addEventListener("close",()=>{s().debug({msg:"ws closed"}),X(void 0)}),$.close(1000,"Normal closure"),await U}}this.#N=void 0}#P($,U){this.#q({body:{tag:"SubscriptionRequest",val:{eventName:$,subscribe:U}}},{ephemeral:!0})}};function S$(){return W6("remote-manager-driver")}var yy=class extends Error{constructor($,U,X){super(X||`Engine API error: ${$}/${U}`);this.group=$,this.code=U,this.name="EngineApiError"}};function u1($){return $.endpoint??"http://127.0.0.1:6420"}async function V1($,U,X,G){let J=u1($),Y=g2(J,X,{namespace:$.namespace});S$().debug({msg:"making api call",method:U,url:Y});let Q={...$.headers};if($.token)Q.Authorization=`Bearer ${$.token}`;return await tq({method:U,url:Y,headers:Q,body:G,encoding:"json",skipParseResponse:!1,requestVersionedDataHandler:void 0,responseVersionedDataHandler:void 0,requestZodSchema:V.any(),responseZodSchema:V.any(),requestToJson:(w)=>w,requestToBare:(w)=>w,responseFromJson:(w)=>w,responseFromBare:(w)=>w})}async function xq($,U,X){let G=new URL(X.url),J=u1($),Y=g2(J,`/gateway/${U}${G.pathname}${G.search}`),Q=null,w=cy($,X,U);if(X.method!=="GET"&&X.method!=="HEAD"){if(X.bodyUsed)throw Error("Request body has already been consumed");let j=await X.arrayBuffer();if(j.byteLength!==0)Q=j,w.delete("transfer-encoding"),w.set("content-length",String(Q.byteLength))}let N=new Request(Y,{method:X.method,headers:w,body:Q,signal:X.signal});return ly(await fetch(N))}function ly($){return new Response($.body,$)}function cy($,U,X){let G=new Headers;for(let[J,Y]of U.headers.entries())G.set(J,Y);for(let[J,Y]of Object.entries($.headers))G.set(J,Y);if($.token)G.set(TL,$.token);return G}async function iy($,U,X,G,J){let Y=await nH(),Q=u1($),w=g2(Q,`/gateway/${X}${U}`);S$().debug({msg:"opening websocket to actor via guard",actorId:X,path:U,guardUrl:w});let N=new Y(w,eq($,G,J));return N.binaryType="arraybuffer",S$().debug({msg:"websocket connection opened",actorId:X}),N}function eq($,U,X){let G=[];if(G.push(kL),G.push(`${q4}${U}`),X)G.push(`${v4}${encodeURIComponent(JSON.stringify(X))}`);return G}async function ny($,U,X){return V1($,"GET",`/actors?actor_ids=${encodeURIComponent(X)}`)}async function py($,U,X){let G=rU(X);return V1($,"GET",`/actors?name=${encodeURIComponent(U)}&key=${encodeURIComponent(G)}`)}async function dy($,U){return V1($,"GET",`/actors?name=${encodeURIComponent(U)}`)}async function oy($,U){return V1($,"PUT","/actors",U)}async function ry($,U){return V1($,"POST","/actors",U)}async function ty($,U){return V1($,"DELETE",`/actors/${encodeURIComponent(U)}`)}async function ay($){return V1($,"GET","/metadata")}async function $v($){return V1($,"GET","/datacenters")}async function Uv($,U,X){return V1($,"PUT",`/runner-configs/${U}`,X)}var fq=new Map;async function sy($){let U=u1($),X=fq.get(U);if(X)return X;let G=UJ(async()=>{S$().debug({msg:"fetching metadata",endpoint:U});let J=await ay($);return S$().debug({msg:"received metadata",endpoint:U,clientEndpoint:J.clientEndpoint}),J},{forever:!0,minTimeout:500,maxTimeout:15000,onFailedAttempt:(J)=>{S$().warn({msg:"failed to fetch metadata, retrying",endpoint:U,attempt:J.attemptNumber,error:B$(J)})}});return fq.set(U,G),G}async function ey($,U,X){let G=await nH(),J={};return{onOpen:async(Y,Q)=>{if(S$().debug({msg:"client websocket connected",targetUrl:U}),Q.readyState!==1){S$().warn({msg:"client websocket not open on connection",targetUrl:U,readyState:Q.readyState});return}let w=new G(U,X);J.targetWs=w,J.connectPromise=new Promise((N,j)=>{w.addEventListener("open",()=>{if(S$().debug({msg:"target websocket connected",targetUrl:U}),Q.readyState!==1){S$().warn({msg:"client websocket closed before target connected",targetUrl:U,clientReadyState:Q.readyState}),w.close(1001,"Client disconnected"),j(Error("Client disconnected"));return}N()}),w.addEventListener("error",(H)=>{S$().warn({msg:"target websocket error during connection",targetUrl:U}),j(H)})}),J.targetWs.addEventListener("message",(N)=>{if(typeof N.data==="string"||N.data instanceof ArrayBuffer)Q.send(N.data);else if(N.data instanceof Blob)N.data.arrayBuffer().then((j)=>{Q.send(j)})}),J.targetWs.addEventListener("close",(N)=>{S$().debug({msg:"target websocket closed",targetUrl:U,code:N.code,reason:N.reason}),mW(Q,N.code,N.reason)}),J.targetWs.addEventListener("error",(N)=>{S$().error({msg:"target websocket error",targetUrl:U,error:B$(N)}),mW(Q,1011,"Target WebSocket error")})},onMessage:async(Y,Q)=>{if(!J.targetWs||!J.connectPromise){S$().error({msg:"websocket state not initialized",targetUrl:U});return}try{if(await J.connectPromise,J.targetWs.readyState===G.OPEN)J.targetWs.send(Y.data);else S$().warn({msg:"target websocket not open",targetUrl:U,readyState:J.targetWs.readyState})}catch(w){S$().error({msg:"failed to connect to target websocket",targetUrl:U,error:w}),mW(Q,1011,"Failed to connect to target")}},onClose:(Y,Q)=>{if(S$().debug({msg:"client websocket closed",targetUrl:U,code:Y.code,reason:Y.reason,wasClean:Y.wasClean}),J.targetWs){if(J.targetWs.readyState===G.OPEN||J.targetWs.readyState===G.CONNECTING)J.targetWs.close(1000,Y.reason||"Client disconnected")}},onError:(Y,Q)=>{if(S$().error({msg:"client websocket error",targetUrl:U,event:Y}),J.targetWs){if(J.targetWs.readyState===G.OPEN)J.targetWs.close(1011,"Client WebSocket error");else if(J.targetWs.readyState===G.CONNECTING)J.targetWs.close()}}}}function mW($,U,X){if($.readyState===1)$.close(U,X);else if("close"in $&&$.readyState===WebSocket.OPEN)$.close(U,X)}var Jv=class{#$;#U;constructor($){if(p$("NEXT_PHASE")==="phase-production-build")S$().info("detected next.js build phase, disabling health check"),$.disableMetadataLookup=!0;if(this.#$={...$},!$.disableMetadataLookup)this.#U=sy(this.#$).then((U)=>{if(U.clientEndpoint)this.#$.endpoint=U.clientEndpoint,S$().info({msg:"overriding cached client endpoint",endpoint:U.clientEndpoint});S$().info({msg:"connected to rivetkit manager",runtime:U.runtime,version:U.version,runner:U.runner})})}async getForId({c:$,name:U,actorId:X}){if(this.#U)await this.#U;let J=(await ny(this.#$,U,X)).actors[0];if(!J)return;if(J.name!==U){S$().debug({msg:"actor name mismatch from api",actorId:X,apiName:J.name,requestedName:U});return}let Y=J.key;lW.default(Y,`actor ${X} should have key`);let Q=oY(Y);return{actorId:X,name:U,key:Q}}async getWithKey({c:$,name:U,key:X}){if(this.#U)await this.#U;S$().debug({msg:"getWithKey: searching for actor",name:U,key:X});try{let J=(await py(this.#$,U,X)).actors[0];if(!J)return;let Y=J.actor_id;return S$().debug({msg:"getWithKey: found actor via api",actorId:Y,name:U,key:X}),{actorId:Y,name:U,key:X}}catch(G){if(G instanceof yy&&G.group==="actor"&&G.code==="not_found")return;throw G}}async getOrCreateWithKey($){if(this.#U)await this.#U;let{c:U,name:X,key:G,input:J,region:Y}=$;S$().info({msg:"getOrCreateWithKey: getting or creating actor via engine api",name:X,key:G});let{actor:Q,created:w}=await oy(this.#$,{datacenter:Y,name:X,key:rU(G),runner_name_selector:this.#$.runnerName,input:J?D5(E$(J)):void 0,crash_policy:"sleep"}),N=Q.actor_id;return S$().info({msg:"getOrCreateWithKey: actor ready",actorId:N,name:X,key:G,created:w}),{actorId:N,name:X,key:G}}async createActor({c:$,name:U,key:X,input:G,region:J}){if(this.#U)await this.#U;S$().info({msg:"creating actor via engine api",name:U,key:X});let Q=(await ry(this.#$,{datacenter:J,name:U,runner_name_selector:this.#$.runnerName,key:rU(X),input:G?D5(E$(G)):void 0,crash_policy:"sleep"})).actor.actor_id;return S$().info({msg:"actor created",actorId:Q,name:U,key:X}),{actorId:Q,name:U,key:X}}async listActors({c:$,name:U}){if(this.#U)await this.#U;return S$().debug({msg:"listing actors via engine api",name:U}),(await dy(this.#$,U)).actors.map((G)=>({actorId:G.actor_id,name:G.name,key:oY(G.key),createTs:G.create_ts}))}async destroyActor($){if(this.#U)await this.#U;S$().info({msg:"destroying actor via engine api",actorId:$}),await ty(this.#$,$),S$().info({msg:"actor destroyed",actorId:$})}async sendRequest($,U){if(this.#U)await this.#U;return await xq(this.#$,$,U)}async openWebSocket($,U,X,G){if(this.#U)await this.#U;return await iy(this.#$,$,U,X,G)}async proxyRequest($,U,X){if(this.#U)await this.#U;return await xq(this.#$,X,U)}async proxyWebSocket($,U,X,G,J){var Y,Q;if(this.#U)await this.#U;let w=(Q=(Y=this.#$).getUpgradeWebSocket)==null?void 0:Q.call(Y);lW.default(w,"missing getUpgradeWebSocket");let N=u1(this.#$),j=g2(N,U),H=j.replace("http://","ws://");S$().debug({msg:"forwarding websocket to actor via guard",actorId:X,path:U,guardUrl:j});let K=eq(this.#$,G,J),z=await ey($,H,K);return await w(()=>z)($,Y0())}displayInformation(){return{name:"Remote",properties:{}}}getOrCreateInspectorAccessToken(){return zG()}};var _E=t$(V6(),1);$7();var NB=t$(V6(),1);$7();var QX=t$(V6(),1),L1=t$(V6(),1);import{createRequire as pp}from"module";var VB=t$(V6(),1);var fE=t$(V6(),1);function wJ($,U){var X={};for(var G in $)if(Object.prototype.hasOwnProperty.call($,G)&&U.indexOf(G)<0)X[G]=$[G];if($!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var J=0,G=Object.getOwnPropertySymbols($);J<G.length;J++)if(U.indexOf(G[J])<0&&Object.prototype.propertyIsEnumerable.call($,G[J]))X[G[J]]=$[G[J]]}return X}function j$($,U){var X;return((X=$===null||$===void 0?void 0:$._def)===null||X===void 0?void 0:X.typeName)===U}function $l($){return"_def"in $}function YJ($,U){let X=$.ZodType.prototype[U];$.ZodType.prototype[U]=function(...G){let J=X.apply(this,G);return J._def.openapi=this._def.openapi,J}}function Yv($){if(typeof $.ZodType.prototype.openapi<"u")return;$.ZodType.prototype.openapi=function(J,Y){var Q,w,N,j,H,K;let z=typeof J==="string"?Y:J,W=z!==null&&z!==void 0?z:{},{param:O}=W,D=wJ(W,["param"]),B=Object.assign(Object.assign({},(Q=this._def.openapi)===null||Q===void 0?void 0:Q._internal),typeof J==="string"?{refId:J}:void 0),v=Object.assign(Object.assign(Object.assign({},(w=this._def.openapi)===null||w===void 0?void 0:w.metadata),D),((j=(N=this._def.openapi)===null||N===void 0?void 0:N.metadata)===null||j===void 0?void 0:j.param)||O?{param:Object.assign(Object.assign({},(K=(H=this._def.openapi)===null||H===void 0?void 0:H.metadata)===null||K===void 0?void 0:K.param),O)}:void 0),E=new this.constructor(Object.assign(Object.assign({},this._def),{openapi:Object.assign(Object.assign({},Object.keys(B).length>0?{_internal:B}:void 0),Object.keys(v).length>0?{metadata:v}:void 0)}));if(j$(this,"ZodObject")){let L=this.extend;E.extend=function(...M){var I,x,g,h,r,e,q$;let v$=L.apply(this,M);return v$._def.openapi={_internal:{extendedFrom:((x=(I=this._def.openapi)===null||I===void 0?void 0:I._internal)===null||x===void 0?void 0:x.refId)?{refId:(h=(g=this._def.openapi)===null||g===void 0?void 0:g._internal)===null||h===void 0?void 0:h.refId,schema:this}:(e=(r=this._def.openapi)===null||r===void 0?void 0:r._internal)===null||e===void 0?void 0:e.extendedFrom},metadata:(q$=v$._def.openapi)===null||q$===void 0?void 0:q$.metadata},v$}}return E},YJ($,"optional"),YJ($,"nullable"),YJ($,"default"),YJ($,"transform"),YJ($,"refine");let U=$.ZodObject.prototype.deepPartial;$.ZodObject.prototype.deepPartial=function(){let J=this._def.shape(),Y=U.apply(this),Q=Y._def.shape();return Object.entries(Q).forEach(([w,N])=>{var j,H;N._def.openapi=(H=(j=J[w])===null||j===void 0?void 0:j._def)===null||H===void 0?void 0:H.openapi}),Y._def.openapi=void 0,Y};let X=$.ZodObject.prototype.pick;$.ZodObject.prototype.pick=function(...J){let Y=X.apply(this,J);return Y._def.openapi=void 0,Y};let G=$.ZodObject.prototype.omit;$.ZodObject.prototype.omit=function(...J){let Y=G.apply(this,J);return Y._def.openapi=void 0,Y}}function U7($,U){if($===null||$===void 0||U===null||U===void 0)return $===U;if($===U||$.valueOf()===U.valueOf())return!0;if(Array.isArray($)){if(!Array.isArray(U))return!1;if($.length!==U.length)return!1}if(!($ instanceof Object)||!(U instanceof Object))return!1;let X=Object.keys($);return Object.keys(U).every((G)=>X.indexOf(G)!==-1)&&X.every((G)=>U7($[G],U[G]))}class Qv{constructor(){this.buckets=new Map}put($){let U=this.hashCodeOf($),X=this.buckets.get(U);if(!X){this.buckets.set(U,[$]);return}if(!X.some((J)=>U7(J,$)))X.push($)}contains($){let U=this.hashCodeOf($),X=this.buckets.get(U);if(!X)return!1;return X.some((G)=>U7(G,$))}values(){return[...this.buckets.values()].flat()}stats(){let $=0,U=0,X=0;for(let J of this.buckets.values())if($+=1,U+=J.length,J.length>1)X+=1;let G=$/U;return{totalBuckets:$,collisions:X,totalValues:U,hashEffectiveness:G}}hashCodeOf($){let U=0;if(Array.isArray($)){for(let X=0;X<$.length;X++)U^=this.hashCodeOf($[X])*X;return U}if(typeof $==="string"){for(let X=0;X<$.length;X++)U^=$.charCodeAt(X)*X;return U}if(typeof $==="number")return $;if(typeof $==="object")for(let[X,G]of Object.entries($))U^=this.hashCodeOf(X)+this.hashCodeOf(G!==null&&G!==void 0?G:"");return U}}function NJ($){return $===void 0}function jJ($,U){let X={};return Object.entries($).forEach(([G,J])=>{X[G]=U(J)}),X}function Ul($,U){let X={};return Object.entries($).forEach(([G,J])=>{if(!U.some((Y)=>Y===G))X[G]=J}),X}function eU($,U){let X={};return Object.entries($).forEach(([G,J])=>{if(!U(J,G))X[G]=J}),X}function Gv($){return $.filter((U)=>!NJ(U))}var $K=U7;function Jl($){let U=new Qv;return $.forEach((X)=>U.put(X)),[...U.values()]}function wv($){return typeof $==="string"}class UK{constructor($){this.parents=$,this._definitions=[]}get definitions(){var $,U;return[...(U=($=this.parents)===null||$===void 0?void 0:$.flatMap((G)=>G.definitions))!==null&&U!==void 0?U:[],...this._definitions]}register($,U){let X=this.schemaWithRefId($,U);return this._definitions.push({type:"schema",schema:X}),X}registerParameter($,U){var X,G,J;let Y=this.schemaWithRefId($,U),Q=(X=Y._def.openapi)===null||X===void 0?void 0:X.metadata,w=Y.openapi(Object.assign(Object.assign({},Q),{param:Object.assign(Object.assign({},Q===null||Q===void 0?void 0:Q.param),{name:(J=(G=Q===null||Q===void 0?void 0:Q.param)===null||G===void 0?void 0:G.name)!==null&&J!==void 0?J:$})}));return this._definitions.push({type:"parameter",schema:w}),w}registerPath($){this._definitions.push({type:"route",route:$})}registerWebhook($){this._definitions.push({type:"webhook",webhook:$})}registerComponent($,U,X){return this._definitions.push({type:"component",componentType:$,name:U,component:X}),{name:U,ref:{$ref:`#/components/${$}/${U}`}}}schemaWithRefId($,U){return U.openapi($)}}class WJ{constructor($){this.message=$}}class sU extends WJ{constructor($,U){super($);this.data=U}}class HJ extends WJ{constructor($){super(`Missing parameter data, please specify \`${$.missingField}\` and other OpenAPI parameter props using the \`param\` field of \`ZodSchema.openapi\``);this.data=$}}function QJ($,U){try{return $()}catch(X){if(X instanceof HJ)throw new HJ(Object.assign(Object.assign({},X.data),U));throw X}}class Nv extends WJ{constructor($){super("Unknown zod object type, please specify `type` and other OpenAPI props using `ZodSchema.openapi`.");this.data=$}}class i${static getMetadata($){var U;let X=this.unwrapChained($),G=$._def.openapi?$._def.openapi:X._def.openapi,J=(U=$.description)!==null&&U!==void 0?U:X.description;return{_internal:G===null||G===void 0?void 0:G._internal,metadata:Object.assign({description:J},G===null||G===void 0?void 0:G.metadata)}}static getInternalMetadata($){let U=this.unwrapChained($),X=$._def.openapi?$._def.openapi:U._def.openapi;return X===null||X===void 0?void 0:X._internal}static getParamMetadata($){var U,X;let G=this.unwrapChained($),J=$._def.openapi?$._def.openapi:G._def.openapi,Y=(U=$.description)!==null&&U!==void 0?U:G.description;return{_internal:J===null||J===void 0?void 0:J._internal,metadata:Object.assign(Object.assign({},J===null||J===void 0?void 0:J.metadata),{param:Object.assign({description:Y},(X=J===null||J===void 0?void 0:J.metadata)===null||X===void 0?void 0:X.param)})}}static buildSchemaMetadata($){return eU(Ul($,["param"]),NJ)}static buildParameterMetadata($){return eU($,NJ)}static applySchemaMetadata($,U){return eU(Object.assign(Object.assign({},$),this.buildSchemaMetadata(U)),NJ)}static getRefId($){var U;return(U=this.getInternalMetadata($))===null||U===void 0?void 0:U.refId}static unwrapChained($){return this.unwrapUntil($)}static getDefaultValue($){let U=this.unwrapUntil($,"ZodDefault");return U===null||U===void 0?void 0:U._def.defaultValue()}static unwrapUntil($,U){if(U&&j$($,U))return $;if(j$($,"ZodOptional")||j$($,"ZodNullable")||j$($,"ZodBranded"))return this.unwrapUntil($.unwrap(),U);if(j$($,"ZodDefault")||j$($,"ZodReadonly"))return this.unwrapUntil($._def.innerType,U);if(j$($,"ZodEffects"))return this.unwrapUntil($._def.schema,U);if(j$($,"ZodPipeline"))return this.unwrapUntil($._def.in,U);return U?void 0:$}static isOptionalSchema($){return $.isOptional()}}class jv{transform($,U,X){var G,J;let Y=$._def.type;return Object.assign(Object.assign({},U("array")),{items:X(Y),minItems:(G=$._def.minLength)===null||G===void 0?void 0:G.value,maxItems:(J=$._def.maxLength)===null||J===void 0?void 0:J.value})}}class Hv{transform($){return Object.assign(Object.assign({},$("string")),{pattern:"^d+$"})}}class Wv{transform($,U,X,G,J){let Y=[...$.options.values()],Q=Y.map(G);if(U)return{oneOf:X(Q,U)};return{oneOf:Q,discriminator:this.mapDiscriminator(Y,$.discriminator,J)}}mapDiscriminator($,U,X){if($.some((J)=>i$.getRefId(J)===void 0))return;let G={};return $.forEach((J)=>{var Y;let Q=i$.getRefId(J),w=(Y=J.shape)===null||Y===void 0?void 0:Y[U];if(j$(w,"ZodEnum")||j$(w,"ZodNativeEnum")){Object.values(w.enum).filter(wv).forEach((H)=>{G[H]=X(Q)});return}let N=w===null||w===void 0?void 0:w._def.value;if(typeof N!=="string")throw Error(`Discriminator ${U} could not be found in one of the values of a discriminated union`);G[N]=X(Q)}),{propertyName:U,mapping:G}}}class Kv{transform($,U){return Object.assign(Object.assign({},U("string")),{enum:$._def.values})}}class Ov{transform($,U,X,G){let Y={allOf:this.flattenIntersectionTypes($).map(G)};if(U)return{anyOf:X([Y],U)};return Y}flattenIntersectionTypes($){if(!j$($,"ZodIntersection"))return[$];let U=this.flattenIntersectionTypes($._def.left),X=this.flattenIntersectionTypes($._def.right);return[...U,...X]}}class zv{transform($,U){return Object.assign(Object.assign({},U(typeof $._def.value)),{enum:[$._def.value]})}}function Xl($){let X=Object.keys($).filter((Y)=>typeof $[$[Y]]!=="number").map((Y)=>$[Y]),G=X.filter((Y)=>typeof Y==="number").length,J=G===0?"string":G===X.length?"numeric":"mixed";return{values:X,type:J}}class Dv{transform($,U){let{type:X,values:G}=Xl($._def.values);if(X==="mixed")throw new WJ("Enum has mixed string and number values, please specify the OpenAPI type manually");return Object.assign(Object.assign({},U(X==="numeric"?"integer":"string")),{enum:G})}}class Vv{transform($,U,X){return Object.assign(Object.assign({},U($.isInt?"integer":"number")),X($._def.checks))}}class Bv{transform($,U,X,G){var J;let Y=(J=i$.getInternalMetadata($))===null||J===void 0?void 0:J.extendedFrom,Q=this.requiredKeysOf($),w=jJ($._def.shape(),G);if(!Y)return Object.assign(Object.assign(Object.assign(Object.assign({},X("object")),{properties:w,default:U}),Q.length>0?{required:Q}:{}),this.generateAdditionalProperties($,G));let N=Y.schema;G(N);let j=this.requiredKeysOf(N),H=jJ(N===null||N===void 0?void 0:N._def.shape(),G),K=Object.fromEntries(Object.entries(w).filter(([O,D])=>{return!$K(H[O],D)})),z=Q.filter((O)=>!j.includes(O)),W=Object.assign(Object.assign(Object.assign(Object.assign({},X("object")),{default:U,properties:K}),z.length>0?{required:z}:{}),this.generateAdditionalProperties($,G));return{allOf:[{$ref:`#/components/schemas/${Y.refId}`},W]}}generateAdditionalProperties($,U){let X=$._def.unknownKeys,G=$._def.catchall;if(j$(G,"ZodNever")){if(X==="strict")return{additionalProperties:!1};return{}}return{additionalProperties:U(G)}}requiredKeysOf($){return Object.entries($._def.shape()).filter(([U,X])=>!i$.isOptionalSchema(X)).map(([U,X])=>U)}}class _v{transform($,U,X){let G=$._def.valueType,J=$._def.keyType,Y=X(G);if(j$(J,"ZodEnum")||j$(J,"ZodNativeEnum")){let w=Object.values(J.enum).filter(wv).reduce((N,j)=>Object.assign(Object.assign({},N),{[j]:Y}),{});return Object.assign(Object.assign({},U("object")),{properties:w})}return Object.assign(Object.assign({},U("object")),{additionalProperties:Y})}}class Mv{transform($,U){var X,G,J;let Y=this.getZodStringCheck($,"regex"),Q=(X=this.getZodStringCheck($,"length"))===null||X===void 0?void 0:X.value,w=Number.isFinite($.minLength)?(G=$.minLength)!==null&&G!==void 0?G:void 0:void 0,N=Number.isFinite($.maxLength)?(J=$.maxLength)!==null&&J!==void 0?J:void 0:void 0;return Object.assign(Object.assign({},U("string")),{minLength:Q!==null&&Q!==void 0?Q:w,maxLength:Q!==null&&Q!==void 0?Q:N,format:this.mapStringFormat($),pattern:Y===null||Y===void 0?void 0:Y.regex.source})}mapStringFormat($){if($.isUUID)return"uuid";if($.isEmail)return"email";if($.isURL)return"uri";if($.isDate)return"date";if($.isDatetime)return"date-time";if($.isCUID)return"cuid";if($.isCUID2)return"cuid2";if($.isULID)return"ulid";if($.isIP)return"ip";if($.isEmoji)return"emoji";return}getZodStringCheck($,U){return $._def.checks.find((X)=>{return X.kind===U})}}class Fv{constructor($){this.versionSpecifics=$}transform($,U,X){let{items:G}=$._def,J=G.map(X);return Object.assign(Object.assign({},U("array")),this.versionSpecifics.mapTupleItems(J))}}class Lv{transform($,U,X){let J=this.flattenUnionTypes($).map((Y)=>{let Q=this.unwrapNullable(Y);return X(Q)});return{anyOf:U(J)}}flattenUnionTypes($){if(!j$($,"ZodUnion"))return[$];return $._def.options.flatMap((X)=>this.flattenUnionTypes(X))}unwrapNullable($){if(j$($,"ZodNullable"))return this.unwrapNullable($.unwrap());return $}}class Av{constructor($){this.versionSpecifics=$,this.objectTransformer=new Bv,this.stringTransformer=new Mv,this.numberTransformer=new Vv,this.bigIntTransformer=new Hv,this.literalTransformer=new zv,this.enumTransformer=new Kv,this.nativeEnumTransformer=new Dv,this.arrayTransformer=new jv,this.unionTransformer=new Lv,this.discriminatedUnionTransformer=new Wv,this.intersectionTransformer=new Ov,this.recordTransformer=new _v,this.tupleTransformer=new Fv($)}transform($,U,X,G,J){if(j$($,"ZodNull"))return this.versionSpecifics.nullType;if(j$($,"ZodUnknown")||j$($,"ZodAny"))return this.versionSpecifics.mapNullableType(void 0,U);if(j$($,"ZodObject"))return this.objectTransformer.transform($,J,(Q)=>this.versionSpecifics.mapNullableType(Q,U),X);let Y=this.transformSchemaWithoutDefault($,U,X,G);return Object.assign(Object.assign({},Y),{default:J})}transformSchemaWithoutDefault($,U,X,G){if(j$($,"ZodUnknown")||j$($,"ZodAny"))return this.versionSpecifics.mapNullableType(void 0,U);if(j$($,"ZodString"))return this.stringTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U));if(j$($,"ZodNumber"))return this.numberTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U),(Y)=>this.versionSpecifics.getNumberChecks(Y));if(j$($,"ZodBigInt"))return this.bigIntTransformer.transform((Y)=>this.versionSpecifics.mapNullableType(Y,U));if(j$($,"ZodBoolean"))return this.versionSpecifics.mapNullableType("boolean",U);if(j$($,"ZodLiteral"))return this.literalTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U));if(j$($,"ZodEnum"))return this.enumTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U));if(j$($,"ZodNativeEnum"))return this.nativeEnumTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U));if(j$($,"ZodArray"))return this.arrayTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U),X);if(j$($,"ZodTuple"))return this.tupleTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U),X);if(j$($,"ZodUnion"))return this.unionTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableOfArray(Y,U),X);if(j$($,"ZodDiscriminatedUnion"))return this.discriminatedUnionTransformer.transform($,U,(Y)=>this.versionSpecifics.mapNullableOfArray(Y,U),X,G);if(j$($,"ZodIntersection"))return this.intersectionTransformer.transform($,U,(Y)=>this.versionSpecifics.mapNullableOfArray(Y,U),X);if(j$($,"ZodRecord"))return this.recordTransformer.transform($,(Y)=>this.versionSpecifics.mapNullableType(Y,U),X);if(j$($,"ZodDate"))return this.versionSpecifics.mapNullableType("string",U);let J=i$.getRefId($);throw new Nv({currentSchema:$._def,schemaName:J})}}class JK{constructor($,U){this.definitions=$,this.versionSpecifics=U,this.schemaRefs={},this.paramRefs={},this.pathRefs={},this.rawComponents=[],this.openApiTransformer=new Av(U),this.sortDefinitions()}generateDocumentData(){return this.definitions.forEach(($)=>this.generateSingle($)),{components:this.buildComponents(),paths:this.pathRefs}}generateComponents(){return this.definitions.forEach(($)=>this.generateSingle($)),{components:this.buildComponents()}}buildComponents(){var $,U;let X={};return this.rawComponents.forEach(({componentType:G,name:J,component:Y})=>{var Q;(Q=X[G])!==null&&Q!==void 0||(X[G]={}),X[G][J]=Y}),Object.assign(Object.assign({},X),{schemas:Object.assign(Object.assign({},($=X.schemas)!==null&&$!==void 0?$:{}),this.schemaRefs),parameters:Object.assign(Object.assign({},(U=X.parameters)!==null&&U!==void 0?U:{}),this.paramRefs)})}sortDefinitions(){let $=["schema","parameter","component","route"];this.definitions.sort((U,X)=>{if(!("type"in U)){if(!("type"in X))return 0;return-1}if(!("type"in X))return 1;let G=$.findIndex((Y)=>Y===U.type),J=$.findIndex((Y)=>Y===X.type);return G-J})}generateSingle($){if(!("type"in $)){this.generateSchemaWithRef($);return}switch($.type){case"parameter":this.generateParameterDefinition($.schema);return;case"schema":this.generateSchemaWithRef($.schema);return;case"route":this.generateSingleRoute($.route);return;case"component":this.rawComponents.push($);return}}generateParameterDefinition($){let U=i$.getRefId($),X=this.generateParameter($);if(U)this.paramRefs[U]=X;return X}getParameterRef($,U){var X,G,J,Y,Q;let w=(X=$===null||$===void 0?void 0:$.metadata)===null||X===void 0?void 0:X.param,N=((G=$===null||$===void 0?void 0:$._internal)===null||G===void 0?void 0:G.refId)?this.paramRefs[(J=$._internal)===null||J===void 0?void 0:J.refId]:void 0;if(!((Y=$===null||$===void 0?void 0:$._internal)===null||Y===void 0?void 0:Y.refId)||!N)return;if(w&&N.in!==w.in||(U===null||U===void 0?void 0:U.in)&&N.in!==U.in)throw new sU(`Conflicting location for parameter ${N.name}`,{key:"in",values:Gv([N.in,U===null||U===void 0?void 0:U.in,w===null||w===void 0?void 0:w.in])});if(w&&N.name!==w.name||(U===null||U===void 0?void 0:U.name)&&N.name!==(U===null||U===void 0?void 0:U.name))throw new sU("Conflicting names for parameter",{key:"name",values:Gv([N.name,U===null||U===void 0?void 0:U.name,w===null||w===void 0?void 0:w.name])});return{$ref:`#/components/parameters/${(Q=$._internal)===null||Q===void 0?void 0:Q.refId}`}}generateInlineParameters($,U){var X;let G=i$.getMetadata($),J=(X=G===null||G===void 0?void 0:G.metadata)===null||X===void 0?void 0:X.param,Y=this.getParameterRef(G,{in:U});if(Y)return[Y];if(j$($,"ZodObject")){let Q=$._def.shape();return Object.entries(Q).map(([N,j])=>{var H,K;let z=i$.getMetadata(j),W=this.getParameterRef(z,{in:U,name:N});if(W)return W;let O=(H=z===null||z===void 0?void 0:z.metadata)===null||H===void 0?void 0:H.param;if((O===null||O===void 0?void 0:O.name)&&O.name!==N)throw new sU("Conflicting names for parameter",{key:"name",values:[N,O.name]});if((O===null||O===void 0?void 0:O.in)&&O.in!==U)throw new sU(`Conflicting location for parameter ${(K=O.name)!==null&&K!==void 0?K:N}`,{key:"in",values:[U,O.in]});return this.generateParameter(j.openapi({param:{name:N,in:U}}))})}if((J===null||J===void 0?void 0:J.in)&&J.in!==U)throw new sU(`Conflicting location for parameter ${J.name}`,{key:"in",values:[U,J.in]});return[this.generateParameter($.openapi({param:{in:U}}))]}generateSimpleParameter($){var U;let X=i$.getParamMetadata($),G=(U=X===null||X===void 0?void 0:X.metadata)===null||U===void 0?void 0:U.param,J=!i$.isOptionalSchema($)&&!$.isNullable(),Y=this.generateSchemaWithRef($);return Object.assign({schema:Y,required:J},G?i$.buildParameterMetadata(G):{})}generateParameter($){var U;let X=i$.getMetadata($),G=(U=X===null||X===void 0?void 0:X.metadata)===null||U===void 0?void 0:U.param,J=G===null||G===void 0?void 0:G.name,Y=G===null||G===void 0?void 0:G.in;if(!J)throw new HJ({missingField:"name"});if(!Y)throw new HJ({missingField:"in",paramName:J});let Q=this.generateSimpleParameter($);return Object.assign(Object.assign({},Q),{in:Y,name:J})}generateSchemaWithMetadata($){var U;let X=i$.unwrapChained($),G=i$.getMetadata($),J=i$.getDefaultValue($),Y=((U=G===null||G===void 0?void 0:G.metadata)===null||U===void 0?void 0:U.type)?{type:G===null||G===void 0?void 0:G.metadata.type}:this.toOpenAPISchema(X,$.isNullable(),J);return(G===null||G===void 0?void 0:G.metadata)?i$.applySchemaMetadata(Y,G.metadata):eU(Y,NJ)}constructReferencedOpenAPISchema($){var U;let X=i$.getMetadata($),G=i$.unwrapChained($),J=i$.getDefaultValue($),Y=$.isNullable();if((U=X===null||X===void 0?void 0:X.metadata)===null||U===void 0?void 0:U.type)return this.versionSpecifics.mapNullableType(X.metadata.type,Y);return this.toOpenAPISchema(G,Y,J)}generateSimpleSchema($){var U;let X=i$.getMetadata($),G=i$.getRefId($);if(!G||!this.schemaRefs[G])return this.generateSchemaWithMetadata($);let J=this.schemaRefs[G],Y={$ref:this.generateSchemaRef(G)},Q=eU(i$.buildSchemaMetadata((U=X===null||X===void 0?void 0:X.metadata)!==null&&U!==void 0?U:{}),(j,H)=>j===void 0||$K(j,J[H]));if(Q.type)return{allOf:[Y,Q]};let w=eU(this.constructReferencedOpenAPISchema($),(j,H)=>j===void 0||$K(j,J[H])),N=i$.applySchemaMetadata(w,Q);if(Object.keys(N).length>0)return{allOf:[Y,N]};return Y}generateSchemaWithRef($){let U=i$.getRefId($),X=this.generateSimpleSchema($);if(U&&this.schemaRefs[U]===void 0)return this.schemaRefs[U]=X,{$ref:this.generateSchemaRef(U)};return X}generateSchemaRef($){return`#/components/schemas/${$}`}getRequestBody($){if(!$)return;let{content:U}=$,X=wJ($,["content"]),G=this.getBodyContent(U);return Object.assign(Object.assign({},X),{content:G})}getParameters($){if(!$)return[];let{headers:U}=$,X=this.cleanParameter($.query),G=this.cleanParameter($.params),J=this.cleanParameter($.cookies),Y=QJ(()=>X?this.generateInlineParameters(X,"query"):[],{location:"query"}),Q=QJ(()=>G?this.generateInlineParameters(G,"path"):[],{location:"path"}),w=QJ(()=>J?this.generateInlineParameters(J,"cookie"):[],{location:"cookie"}),N=QJ(()=>{if(Array.isArray(U))return U.flatMap((H)=>this.generateInlineParameters(H,"header"));let j=this.cleanParameter(U);return j?this.generateInlineParameters(j,"header"):[]},{location:"header"});return[...Q,...Y,...N,...w]}cleanParameter($){if(!$)return;return j$($,"ZodEffects")?this.cleanParameter($._def.schema):$}generatePath($){let{method:U,path:X,request:G,responses:J}=$,Y=wJ($,["method","path","request","responses"]),Q=jJ(J,(H)=>{return this.getResponse(H)}),w=QJ(()=>this.getParameters(G),{route:`${U} ${X}`}),N=this.getRequestBody(G===null||G===void 0?void 0:G.body);return{[U]:Object.assign(Object.assign(Object.assign(Object.assign({},Y),w.length>0?{parameters:[...Y.parameters||[],...w]}:{}),N?{requestBody:N}:{}),{responses:Q})}}generateSingleRoute($){let U=this.generatePath($);return this.pathRefs[$.path]=Object.assign(Object.assign({},this.pathRefs[$.path]),U),U}getResponse($){if(this.isReferenceObject($))return $;let{content:U,headers:X}=$,G=wJ($,["content","headers"]),J=U?{content:this.getBodyContent(U)}:{};if(!X)return Object.assign(Object.assign({},G),J);let Y=j$(X,"ZodObject")?this.getResponseHeaders(X):X;return Object.assign(Object.assign(Object.assign({},G),{headers:Y}),J)}isReferenceObject($){return"$ref"in $}getResponseHeaders($){let U=$._def.shape();return jJ(U,(G)=>this.generateSimpleParameter(G))}getBodyContent($){return jJ($,(U)=>{if(!U||!$l(U.schema))return U;let{schema:X}=U,G=wJ(U,["schema"]),J=this.generateSchemaWithRef(X);return Object.assign({schema:J},G)})}toOpenAPISchema($,U,X){return this.openApiTransformer.transform($,U,(G)=>this.generateSchemaWithRef(G),(G)=>this.generateSchemaRef(G),X)}}class qv{get nullType(){return{nullable:!0}}mapNullableOfArray($,U){if(U)return[...$,this.nullType];return $}mapNullableType($,U){return Object.assign(Object.assign({},$?{type:$}:void 0),U?this.nullType:void 0)}mapTupleItems($){let U=Jl($);return{items:U.length===1?U[0]:{anyOf:U},minItems:$.length,maxItems:$.length}}getNumberChecks($){return Object.assign({},...$.map((U)=>{switch(U.kind){case"min":return U.inclusive?{minimum:Number(U.value)}:{minimum:Number(U.value),exclusiveMinimum:!0};case"max":return U.inclusive?{maximum:Number(U.value)}:{maximum:Number(U.value),exclusiveMaximum:!0};default:return{}}}))}}class XK{constructor($){let U=new qv;this.generator=new JK($,U)}generateDocument($){let U=this.generator.generateDocumentData();return Object.assign(Object.assign({},$),U)}generateComponents(){return this.generator.generateComponents()}}class vv{get nullType(){return{type:"null"}}mapNullableOfArray($,U){if(U)return[...$,this.nullType];return $}mapNullableType($,U){if(!$)return{};if(U)return{type:Array.isArray($)?[...$,"null"]:[$,"null"]};return{type:$}}mapTupleItems($){return{prefixItems:$}}getNumberChecks($){return Object.assign({},...$.map((U)=>{switch(U.kind){case"min":return U.inclusive?{minimum:Number(U.value)}:{exclusiveMinimum:Number(U.value)};case"max":return U.inclusive?{maximum:Number(U.value)}:{exclusiveMaximum:Number(U.value)};default:return{}}}))}}function Gl($){return"type"in $&&$.type==="webhook"}class GK{constructor($){this.definitions=$,this.webhookRefs={};let U=new vv;this.generator=new JK(this.definitions,U)}generateDocument($){let U=this.generator.generateDocumentData();return this.definitions.filter(Gl).forEach((X)=>this.generateSingleWebhook(X.webhook)),Object.assign(Object.assign(Object.assign({},$),U),{webhooks:this.webhookRefs})}generateComponents(){return this.generator.generateComponents()}generateSingleWebhook($){let U=this.generator.generatePath($);return this.webhookRefs[$.path]=Object.assign(Object.assign({},this.webhookRefs[$.path]),U),U}}function Yl($,U,X,G){return g8($,async(J,Y)=>{let Q=J;if($==="header"&&"_def"in U||$==="header"&&"_zod"in U){let N=Object.keys("in"in U?U.in.shape:U.shape),j=Object.fromEntries(N.map((H)=>[H.toLowerCase(),H]));Q=Object.fromEntries(Object.entries(J).map(([H,K])=>[j[H]||H,K]))}let w=G&&G.validationFunction?await G.validationFunction(U,Q):await U.safeParseAsync(Q);if(X){let N=await X({data:Q,...w,target:$},Y);if(N){if(N instanceof Response)return N;if("response"in N)return N.response}}if(!w.success)return Y.json(w,400);return w.data})}var m0=Yl;var jQ={};H6(jQ,{xid:()=>ai,void:()=>An,uuidv7:()=>ci,uuidv6:()=>li,uuidv4:()=>yi,uuid:()=>ui,util:()=>y,url:()=>ii,uppercase:()=>bJ,unknown:()=>K2,union:()=>iV,undefined:()=>Fn,ulid:()=>ti,uint64:()=>_n,uint32:()=>Dn,tuple:()=>AP,trim:()=>iJ,treeifyError:()=>VK,transform:()=>dV,toUpperCase:()=>pJ,toLowerCase:()=>nJ,toJSONSchema:()=>YV,templateLiteral:()=>mn,symbol:()=>Mn,superRefine:()=>dP,success:()=>hn,stringbool:()=>on,stringFormat:()=>Nn,string:()=>AV,strictObject:()=>En,startsWith:()=>uJ,slugify:()=>dJ,size:()=>fJ,setErrorMap:()=>sn,set:()=>Tn,safeParseAsync:()=>OV,safeParse:()=>KV,safeEncodeAsync:()=>FV,safeEncode:()=>_V,safeDecodeAsync:()=>LV,safeDecode:()=>MV,registry:()=>S7,regexes:()=>W4,regex:()=>hJ,refine:()=>pP,record:()=>qP,readonly:()=>uP,property:()=>tD,promise:()=>un,prettifyError:()=>BK,preprocess:()=>tn,prefault:()=>CP,positive:()=>pD,pipe:()=>XQ,partialRecord:()=>In,parseAsync:()=>WV,parse:()=>HV,overwrite:()=>s4,optional:()=>UQ,object:()=>Pn,number:()=>wP,nullish:()=>fn,nullable:()=>JQ,null:()=>KP,normalize:()=>cJ,nonpositive:()=>oD,nonoptional:()=>xP,nonnegative:()=>rD,never:()=>lV,negative:()=>dD,nativeEnum:()=>kn,nanoid:()=>di,nan:()=>gn,multipleOf:()=>i0,minSize:()=>n0,minLength:()=>p1,mime:()=>lJ,meta:()=>pn,maxSize:()=>N2,maxLength:()=>j2,map:()=>Rn,mac:()=>$n,lte:()=>K4,lt:()=>B1,lowercase:()=>gJ,looseObject:()=>Sn,locales:()=>TJ,literal:()=>Cn,length:()=>H2,lazy:()=>cP,ksuid:()=>si,keyof:()=>vn,jwt:()=>wn,json:()=>rn,iso:()=>e7,ipv6:()=>Un,ipv4:()=>ei,intersection:()=>FP,int64:()=>Bn,int32:()=>zn,int:()=>qV,instanceof:()=>dn,includes:()=>mJ,httpUrl:()=>ni,hostname:()=>jn,hex:()=>Hn,hash:()=>Wn,guid:()=>mi,gte:()=>m6,gt:()=>_1,globalRegistry:()=>R6,getErrorMap:()=>en,function:()=>yn,formatError:()=>LJ,float64:()=>On,float32:()=>Kn,flattenError:()=>FJ,file:()=>xn,enum:()=>pV,endsWith:()=>yJ,encodeAsync:()=>VV,encode:()=>zV,emoji:()=>pi,email:()=>bi,e164:()=>Qn,discriminatedUnion:()=>Zn,describe:()=>nn,decodeAsync:()=>BV,decode:()=>DV,date:()=>qn,custom:()=>cn,cuid2:()=>ri,cuid:()=>oi,core:()=>M1,config:()=>Q6,coerce:()=>eV,codec:()=>bn,clone:()=>I6,cidrv6:()=>Xn,cidrv4:()=>Jn,check:()=>ln,catch:()=>gP,boolean:()=>NP,bigint:()=>Vn,base64url:()=>Yn,base64:()=>Gn,array:()=>QQ,any:()=>Ln,_function:()=>yn,_default:()=>TP,_ZodString:()=>vV,ZodXID:()=>TV,ZodVoid:()=>VP,ZodUnknown:()=>zP,ZodUnion:()=>cV,ZodUndefined:()=>HP,ZodUUID:()=>F1,ZodURL:()=>GQ,ZodULID:()=>RV,ZodType:()=>N$,ZodTuple:()=>LP,ZodTransform:()=>ZP,ZodTemplateLiteral:()=>yP,ZodSymbol:()=>jP,ZodSuccess:()=>fP,ZodStringFormat:()=>b$,ZodString:()=>rJ,ZodSet:()=>PP,ZodRecord:()=>nV,ZodRealError:()=>u6,ZodReadonly:()=>mP,ZodPromise:()=>iP,ZodPrefault:()=>kP,ZodPipe:()=>tV,ZodOptional:()=>oV,ZodObject:()=>wQ,ZodNumberFormat:()=>O2,ZodNumber:()=>aJ,ZodNullable:()=>IP,ZodNull:()=>WP,ZodNonOptional:()=>rV,ZodNever:()=>DP,ZodNanoID:()=>SV,ZodNaN:()=>bP,ZodMap:()=>vP,ZodMAC:()=>QP,ZodLiteral:()=>EP,ZodLazy:()=>lP,ZodKSUID:()=>kV,ZodJWT:()=>uV,ZodIssueCode:()=>an,ZodIntersection:()=>MP,ZodISOTime:()=>a7,ZodISODuration:()=>s7,ZodISODateTime:()=>r7,ZodISODate:()=>t7,ZodIPv6:()=>xV,ZodIPv4:()=>CV,ZodGUID:()=>$Q,ZodFunction:()=>nP,ZodFirstPartyTypeKind:()=>sV,ZodFile:()=>SP,ZodError:()=>hi,ZodEnum:()=>oJ,ZodEmoji:()=>EV,ZodEmail:()=>PV,ZodE164:()=>mV,ZodDiscriminatedUnion:()=>_P,ZodDefault:()=>RP,ZodDate:()=>YQ,ZodCustomStringFormat:()=>tJ,ZodCustom:()=>NQ,ZodCodec:()=>aV,ZodCatch:()=>hP,ZodCUID2:()=>IV,ZodCUID:()=>ZV,ZodCIDRv6:()=>hV,ZodCIDRv4:()=>fV,ZodBoolean:()=>sJ,ZodBigIntFormat:()=>yV,ZodBigInt:()=>eJ,ZodBase64URL:()=>bV,ZodBase64:()=>gV,ZodArray:()=>BP,ZodAny:()=>OP,TimePrecision:()=>_D,NEVER:()=>YK,$output:()=>OD,$input:()=>zD,$brand:()=>QK});var M1={};H6(M1,{version:()=>OO,util:()=>y,treeifyError:()=>VK,toJSONSchema:()=>YV,toDotPath:()=>Rv,safeParseAsync:()=>MK,safeParse:()=>_K,safeEncodeAsync:()=>bl,safeEncode:()=>hl,safeDecodeAsync:()=>ml,safeDecode:()=>gl,registry:()=>S7,regexes:()=>W4,prettifyError:()=>BK,parseAsync:()=>Y7,parse:()=>G7,meta:()=>XV,locales:()=>TJ,isValidJWT:()=>ov,isValidBase64URL:()=>dv,isValidBase64:()=>fO,globalRegistry:()=>R6,globalConfig:()=>KJ,formatError:()=>LJ,flattenError:()=>FJ,encodeAsync:()=>xl,encode:()=>kl,describe:()=>JV,decodeAsync:()=>fl,decode:()=>Cl,config:()=>Q6,clone:()=>I6,_xid:()=>b7,_void:()=>lD,_uuidv7:()=>k7,_uuidv6:()=>T7,_uuidv4:()=>R7,_uuid:()=>I7,_url:()=>xJ,_uppercase:()=>bJ,_unknown:()=>uD,_union:()=>Oi,_undefined:()=>gD,_ulid:()=>g7,_uint64:()=>fD,_uint32:()=>ID,_tuple:()=>Vi,_trim:()=>iJ,_transform:()=>qi,_toUpperCase:()=>pJ,_toLowerCase:()=>nJ,_templateLiteral:()=>ki,_symbol:()=>hD,_superRefine:()=>UV,_success:()=>Zi,_stringbool:()=>GV,_stringFormat:()=>W2,_string:()=>DD,_startsWith:()=>uJ,_slugify:()=>dJ,_size:()=>fJ,_set:()=>Mi,_safeParseAsync:()=>Q2,_safeParse:()=>Y2,_safeEncodeAsync:()=>K7,_safeEncode:()=>H7,_safeDecodeAsync:()=>O7,_safeDecode:()=>W7,_regex:()=>hJ,_refine:()=>$V,_record:()=>Bi,_readonly:()=>Ti,_property:()=>tD,_promise:()=>xi,_positive:()=>pD,_pipe:()=>Ri,_parseAsync:()=>G2,_parse:()=>X2,_overwrite:()=>s4,_optional:()=>vi,_number:()=>qD,_nullable:()=>Pi,_null:()=>bD,_normalize:()=>cJ,_nonpositive:()=>oD,_nonoptional:()=>Si,_nonnegative:()=>rD,_never:()=>yD,_negative:()=>dD,_nativeEnum:()=>Li,_nanoid:()=>x7,_nan:()=>nD,_multipleOf:()=>i0,_minSize:()=>n0,_minLength:()=>p1,_min:()=>m6,_mime:()=>lJ,_maxSize:()=>N2,_maxLength:()=>j2,_max:()=>K4,_map:()=>_i,_mac:()=>BD,_lte:()=>K4,_lt:()=>B1,_lowercase:()=>gJ,_literal:()=>Ai,_length:()=>H2,_lazy:()=>Ci,_ksuid:()=>m7,_jwt:()=>d7,_isoTime:()=>LD,_isoDuration:()=>AD,_isoDateTime:()=>MD,_isoDate:()=>FD,_ipv6:()=>y7,_ipv4:()=>u7,_intersection:()=>Di,_int64:()=>xD,_int32:()=>ZD,_int:()=>PD,_includes:()=>mJ,_guid:()=>CJ,_gte:()=>m6,_gt:()=>_1,_float64:()=>SD,_float32:()=>ED,_file:()=>sD,_enum:()=>Fi,_endsWith:()=>yJ,_encodeAsync:()=>N7,_encode:()=>Q7,_emoji:()=>C7,_email:()=>Z7,_e164:()=>p7,_discriminatedUnion:()=>zi,_default:()=>Ei,_decodeAsync:()=>j7,_decode:()=>w7,_date:()=>cD,_custom:()=>eD,_cuid2:()=>h7,_cuid:()=>f7,_coercedString:()=>VD,_coercedNumber:()=>vD,_coercedDate:()=>iD,_coercedBoolean:()=>TD,_coercedBigint:()=>CD,_cidrv6:()=>c7,_cidrv4:()=>l7,_check:()=>JP,_catch:()=>Ii,_boolean:()=>RD,_bigint:()=>kD,_base64url:()=>n7,_base64:()=>i7,_array:()=>aD,_any:()=>mD,TimePrecision:()=>_D,NEVER:()=>YK,JSONSchemaGenerator:()=>o7,JSONSchema:()=>XP,Doc:()=>B7,$output:()=>OD,$input:()=>zD,$constructor:()=>A,$brand:()=>QK,$ZodXID:()=>vO,$ZodVoid:()=>rO,$ZodUnknown:()=>dO,$ZodUnion:()=>P7,$ZodUndefined:()=>iO,$ZodUUID:()=>VO,$ZodURL:()=>_O,$ZodULID:()=>qO,$ZodType:()=>Y$,$ZodTuple:()=>E7,$ZodTransform:()=>wz,$ZodTemplateLiteral:()=>_z,$ZodSymbol:()=>cO,$ZodSuccess:()=>Oz,$ZodStringFormat:()=>C$,$ZodString:()=>c0,$ZodSet:()=>Xz,$ZodRegistry:()=>kJ,$ZodRecord:()=>Uz,$ZodRealError:()=>b6,$ZodReadonly:()=>Bz,$ZodPromise:()=>Fz,$ZodPrefault:()=>Wz,$ZodPipe:()=>Vz,$ZodOptional:()=>Nz,$ZodObjectJIT:()=>sO,$ZodObject:()=>av,$ZodNumberFormat:()=>yO,$ZodNumber:()=>q7,$ZodNullable:()=>jz,$ZodNull:()=>nO,$ZodNonOptional:()=>Kz,$ZodNever:()=>oO,$ZodNanoID:()=>FO,$ZodNaN:()=>Dz,$ZodMap:()=>Jz,$ZodMAC:()=>kO,$ZodLiteral:()=>Yz,$ZodLazy:()=>Lz,$ZodKSUID:()=>PO,$ZodJWT:()=>mO,$ZodIntersection:()=>$z,$ZodISOTime:()=>ZO,$ZodISODuration:()=>IO,$ZodISODateTime:()=>EO,$ZodISODate:()=>SO,$ZodIPv6:()=>TO,$ZodIPv4:()=>RO,$ZodGUID:()=>DO,$ZodFunction:()=>Mz,$ZodFile:()=>Qz,$ZodError:()=>MJ,$ZodEnum:()=>Gz,$ZodEncodeError:()=>u0,$ZodEmoji:()=>MO,$ZodEmail:()=>BO,$ZodE164:()=>bO,$ZodDiscriminatedUnion:()=>eO,$ZodDefault:()=>Hz,$ZodDate:()=>tO,$ZodCustomStringFormat:()=>uO,$ZodCustom:()=>Az,$ZodCodec:()=>PJ,$ZodCheckUpperCase:()=>QO,$ZodCheckStringFormat:()=>w2,$ZodCheckStartsWith:()=>NO,$ZodCheckSizeEquals:()=>$O,$ZodCheckRegex:()=>GO,$ZodCheckProperty:()=>HO,$ZodCheckOverwrite:()=>KO,$ZodCheckNumberFormat:()=>tK,$ZodCheckMultipleOf:()=>rK,$ZodCheckMinSize:()=>eK,$ZodCheckMinLength:()=>JO,$ZodCheckMimeType:()=>WO,$ZodCheckMaxSize:()=>sK,$ZodCheckMaxLength:()=>UO,$ZodCheckLowerCase:()=>YO,$ZodCheckLessThan:()=>D7,$ZodCheckLengthEquals:()=>XO,$ZodCheckIncludes:()=>wO,$ZodCheckGreaterThan:()=>V7,$ZodCheckEndsWith:()=>jO,$ZodCheckBigIntFormat:()=>aK,$ZodCheck:()=>g$,$ZodCatch:()=>zz,$ZodCUID2:()=>AO,$ZodCUID:()=>LO,$ZodCIDRv6:()=>xO,$ZodCIDRv4:()=>CO,$ZodBoolean:()=>vJ,$ZodBigIntFormat:()=>lO,$ZodBigInt:()=>v7,$ZodBase64URL:()=>gO,$ZodBase64:()=>hO,$ZodAsyncError:()=>a4,$ZodArray:()=>aO,$ZodAny:()=>pO});var YK=Object.freeze({status:"aborted"});function A($,U,X){function G(w,N){if(!w._zod)Object.defineProperty(w,"_zod",{value:{def:N,constr:Q,traits:new Set},enumerable:!1});if(w._zod.traits.has($))return;w._zod.traits.add($),U(w,N);let j=Q.prototype,H=Object.keys(j);for(let K=0;K<H.length;K++){let z=H[K];if(!(z in w))w[z]=j[z].bind(w)}}let J=X?.Parent??Object;class Y extends J{}Object.defineProperty(Y,"name",{value:$});function Q(w){var N;let j=X?.Parent?new Y:this;G(j,w),(N=j._zod).deferred??(N.deferred=[]);for(let H of j._zod.deferred)H();return j}return Object.defineProperty(Q,"init",{value:G}),Object.defineProperty(Q,Symbol.hasInstance,{value:(w)=>{if(X?.Parent&&w instanceof X.Parent)return!0;return w?._zod?.traits?.has($)}}),Object.defineProperty(Q,"name",{value:$}),Q}var QK=Symbol("zod_brand");class a4 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class u0 extends Error{constructor($){super(`Encountered unidirectional transform during encode: ${$}`);this.name="ZodEncodeError"}}var KJ={};function Q6($){if($)Object.assign(KJ,$);return KJ}var y={};H6(y,{unwrapMessage:()=>OJ,uint8ArrayToHex:()=>Rl,uint8ArrayToBase64url:()=>Zl,uint8ArrayToBase64:()=>Sv,stringifyPrimitive:()=>b,slugify:()=>jK,shallowClone:()=>WK,safeExtend:()=>Al,required:()=>Pl,randomString:()=>Dl,propertyKeyTypes:()=>VJ,promiseAllObject:()=>zl,primitiveTypes:()=>KK,prefixIssues:()=>o6,pick:()=>Ml,partial:()=>vl,optionalKeys:()=>OK,omit:()=>Fl,objectClone:()=>Wl,numKeys:()=>Vl,nullish:()=>y1,normalizeParams:()=>u,mergeDefs:()=>c1,merge:()=>ql,jsonStringifyReplacer:()=>$2,joinValues:()=>Z,issue:()=>J2,isPlainObject:()=>i1,isObject:()=>y0,hexToUint8Array:()=>Il,getSizableOrigin:()=>BJ,getParsedType:()=>Bl,getLengthableOrigin:()=>_J,getEnumValues:()=>zJ,getElementAtPath:()=>Ol,floatSafeRemainder:()=>NK,finalizeIssue:()=>r6,extend:()=>Ll,escapeRegex:()=>H4,esc:()=>J7,defineLazy:()=>V$,createTransparentProxy:()=>_l,cloneDef:()=>Kl,clone:()=>I6,cleanRegex:()=>DJ,cleanEnum:()=>El,captureStackTrace:()=>X7,cached:()=>U2,base64urlToUint8Array:()=>Sl,base64ToUint8Array:()=>Ev,assignProp:()=>l1,assertNotEqual:()=>wl,assertNever:()=>jl,assertIs:()=>Nl,assertEqual:()=>Ql,assert:()=>Hl,allowsEval:()=>HK,aborted:()=>n1,NUMBER_FORMAT_RANGES:()=>zK,Class:()=>Zv,BIGINT_FORMAT_RANGES:()=>DK});function Ql($){return $}function wl($){return $}function Nl($){}function jl($){throw Error()}function Hl($){}function zJ($){let U=Object.values($).filter((G)=>typeof G==="number");return Object.entries($).filter(([G,J])=>U.indexOf(+G)===-1).map(([G,J])=>J)}function Z($,U="|"){return $.map((X)=>b(X)).join(U)}function $2($,U){if(typeof U==="bigint")return U.toString();return U}function U2($){return{get value(){{let X=$();return Object.defineProperty(this,"value",{value:X}),X}throw Error("cached value already set")}}}function y1($){return $===null||$===void 0}function DJ($){let U=$.startsWith("^")?1:0,X=$.endsWith("$")?$.length-1:$.length;return $.slice(U,X)}function NK($,U){let X=($.toString().split(".")[1]||"").length,G=U.toString(),J=(G.split(".")[1]||"").length;if(J===0&&/\d?e-\d?/.test(G)){let N=G.match(/\d?e-(\d?)/);if(N?.[1])J=Number.parseInt(N[1])}let Y=X>J?X:J,Q=Number.parseInt($.toFixed(Y).replace(".","")),w=Number.parseInt(U.toFixed(Y).replace(".",""));return Q%w/10**Y}var Pv=Symbol("evaluating");function V$($,U,X){let G=void 0;Object.defineProperty($,U,{get(){if(G===Pv)return;if(G===void 0)G=Pv,G=X();return G},set(J){Object.defineProperty($,U,{value:J})},configurable:!0})}function Wl($){return Object.create(Object.getPrototypeOf($),Object.getOwnPropertyDescriptors($))}function l1($,U,X){Object.defineProperty($,U,{value:X,writable:!0,enumerable:!0,configurable:!0})}function c1(...$){let U={};for(let X of $){let G=Object.getOwnPropertyDescriptors(X);Object.assign(U,G)}return Object.defineProperties({},U)}function Kl($){return c1($._zod.def)}function Ol($,U){if(!U)return $;return U.reduce((X,G)=>X?.[G],$)}function zl($){let U=Object.keys($),X=U.map((G)=>$[G]);return Promise.all(X).then((G)=>{let J={};for(let Y=0;Y<U.length;Y++)J[U[Y]]=G[Y];return J})}function Dl($=10){let X="";for(let G=0;G<$;G++)X+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return X}function J7($){return JSON.stringify($)}function jK($){return $.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var X7="captureStackTrace"in Error?Error.captureStackTrace:(...$)=>{};function y0($){return typeof $==="object"&&$!==null&&!Array.isArray($)}var HK=U2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch($){return!1}});function i1($){if(y0($)===!1)return!1;let U=$.constructor;if(U===void 0)return!0;if(typeof U!=="function")return!0;let X=U.prototype;if(y0(X)===!1)return!1;if(Object.prototype.hasOwnProperty.call(X,"isPrototypeOf")===!1)return!1;return!0}function WK($){if(i1($))return{...$};if(Array.isArray($))return[...$];return $}function Vl($){let U=0;for(let X in $)if(Object.prototype.hasOwnProperty.call($,X))U++;return U}var Bl=($)=>{let U=typeof $;switch(U){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN($)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray($))return"array";if($===null)return"null";if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return"promise";if(typeof Map<"u"&&$ instanceof Map)return"map";if(typeof Set<"u"&&$ instanceof Set)return"set";if(typeof Date<"u"&&$ instanceof Date)return"date";if(typeof File<"u"&&$ instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${U}`)}},VJ=new Set(["string","number","symbol"]),KK=new Set(["string","number","bigint","boolean","symbol","undefined"]);function H4($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I6($,U,X){let G=new $._zod.constr(U??$._zod.def);if(!U||X?.parent)G._zod.parent=$;return G}function u($){let U=$;if(!U)return{};if(typeof U==="string")return{error:()=>U};if(U?.message!==void 0){if(U?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");U.error=U.message}if(delete U.message,typeof U.error==="string")return{...U,error:()=>U.error};return U}function _l($){let U;return new Proxy({},{get(X,G,J){return U??(U=$()),Reflect.get(U,G,J)},set(X,G,J,Y){return U??(U=$()),Reflect.set(U,G,J,Y)},has(X,G){return U??(U=$()),Reflect.has(U,G)},deleteProperty(X,G){return U??(U=$()),Reflect.deleteProperty(U,G)},ownKeys(X){return U??(U=$()),Reflect.ownKeys(U)},getOwnPropertyDescriptor(X,G){return U??(U=$()),Reflect.getOwnPropertyDescriptor(U,G)},defineProperty(X,G,J){return U??(U=$()),Reflect.defineProperty(U,G,J)}})}function b($){if(typeof $==="bigint")return $.toString()+"n";if(typeof $==="string")return`"${$}"`;return`${$}`}function OK($){return Object.keys($).filter((U)=>{return $[U]._zod.optin==="optional"&&$[U]._zod.optout==="optional"})}var zK={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},DK={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Ml($,U){let X=$._zod.def,G=c1($._zod.def,{get shape(){let J={};for(let Y in U){if(!(Y in X.shape))throw Error(`Unrecognized key: "${Y}"`);if(!U[Y])continue;J[Y]=X.shape[Y]}return l1(this,"shape",J),J},checks:[]});return I6($,G)}function Fl($,U){let X=$._zod.def,G=c1($._zod.def,{get shape(){let J={...$._zod.def.shape};for(let Y in U){if(!(Y in X.shape))throw Error(`Unrecognized key: "${Y}"`);if(!U[Y])continue;delete J[Y]}return l1(this,"shape",J),J},checks:[]});return I6($,G)}function Ll($,U){if(!i1(U))throw Error("Invalid input to extend: expected a plain object");let X=$._zod.def.checks;if(X&&X.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let J=c1($._zod.def,{get shape(){let Y={...$._zod.def.shape,...U};return l1(this,"shape",Y),Y},checks:[]});return I6($,J)}function Al($,U){if(!i1(U))throw Error("Invalid input to safeExtend: expected a plain object");let X={...$._zod.def,get shape(){let G={...$._zod.def.shape,...U};return l1(this,"shape",G),G},checks:$._zod.def.checks};return I6($,X)}function ql($,U){let X=c1($._zod.def,{get shape(){let G={...$._zod.def.shape,...U._zod.def.shape};return l1(this,"shape",G),G},get catchall(){return U._zod.def.catchall},checks:[]});return I6($,X)}function vl($,U,X){let G=c1(U._zod.def,{get shape(){let J=U._zod.def.shape,Y={...J};if(X)for(let Q in X){if(!(Q in J))throw Error(`Unrecognized key: "${Q}"`);if(!X[Q])continue;Y[Q]=$?new $({type:"optional",innerType:J[Q]}):J[Q]}else for(let Q in J)Y[Q]=$?new $({type:"optional",innerType:J[Q]}):J[Q];return l1(this,"shape",Y),Y},checks:[]});return I6(U,G)}function Pl($,U,X){let G=c1(U._zod.def,{get shape(){let J=U._zod.def.shape,Y={...J};if(X)for(let Q in X){if(!(Q in Y))throw Error(`Unrecognized key: "${Q}"`);if(!X[Q])continue;Y[Q]=new $({type:"nonoptional",innerType:J[Q]})}else for(let Q in J)Y[Q]=new $({type:"nonoptional",innerType:J[Q]});return l1(this,"shape",Y),Y},checks:[]});return I6(U,G)}function n1($,U=0){if($.aborted===!0)return!0;for(let X=U;X<$.issues.length;X++)if($.issues[X]?.continue!==!0)return!0;return!1}function o6($,U){return U.map((X)=>{var G;return(G=X).path??(G.path=[]),X.path.unshift($),X})}function OJ($){return typeof $==="string"?$:$?.message}function r6($,U,X){let G={...$,path:$.path??[]};if(!$.message){let J=OJ($.inst?._zod.def?.error?.($))??OJ(U?.error?.($))??OJ(X.customError?.($))??OJ(X.localeError?.($))??"Invalid input";G.message=J}if(delete G.inst,delete G.continue,!U?.reportInput)delete G.input;return G}function BJ($){if($ instanceof Set)return"set";if($ instanceof Map)return"map";if($ instanceof File)return"file";return"unknown"}function _J($){if(Array.isArray($))return"array";if(typeof $==="string")return"string";return"unknown"}function J2(...$){let[U,X,G]=$;if(typeof U==="string")return{message:U,code:"custom",input:X,inst:G};return{...U}}function El($){return Object.entries($).filter(([U,X])=>{return Number.isNaN(Number.parseInt(U,10))}).map((U)=>U[1])}function Ev($){let U=atob($),X=new Uint8Array(U.length);for(let G=0;G<U.length;G++)X[G]=U.charCodeAt(G);return X}function Sv($){let U="";for(let X=0;X<$.length;X++)U+=String.fromCharCode($[X]);return btoa(U)}function Sl($){let U=$.replace(/-/g,"+").replace(/_/g,"/"),X="=".repeat((4-U.length%4)%4);return Ev(U+X)}function Zl($){return Sv($).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Il($){let U=$.replace(/^0x/,"");if(U.length%2!==0)throw Error("Invalid hex string length");let X=new Uint8Array(U.length/2);for(let G=0;G<U.length;G+=2)X[G/2]=Number.parseInt(U.slice(G,G+2),16);return X}function Rl($){return Array.from($).map((U)=>U.toString(16).padStart(2,"0")).join("")}class Zv{constructor(...$){}}var Iv=($,U)=>{$.name="$ZodError",Object.defineProperty($,"_zod",{value:$._zod,enumerable:!1}),Object.defineProperty($,"issues",{value:U,enumerable:!1}),$.message=JSON.stringify(U,$2,2),Object.defineProperty($,"toString",{value:()=>$.message,enumerable:!1})},MJ=A("$ZodError",Iv),b6=A("$ZodError",Iv,{Parent:Error});function FJ($,U=(X)=>X.message){let X={},G=[];for(let J of $.issues)if(J.path.length>0)X[J.path[0]]=X[J.path[0]]||[],X[J.path[0]].push(U(J));else G.push(U(J));return{formErrors:G,fieldErrors:X}}function LJ($,U=(X)=>X.message){let X={_errors:[]},G=(J)=>{for(let Y of J.issues)if(Y.code==="invalid_union"&&Y.errors.length)Y.errors.map((Q)=>G({issues:Q}));else if(Y.code==="invalid_key")G({issues:Y.issues});else if(Y.code==="invalid_element")G({issues:Y.issues});else if(Y.path.length===0)X._errors.push(U(Y));else{let Q=X,w=0;while(w<Y.path.length){let N=Y.path[w];if(w!==Y.path.length-1)Q[N]=Q[N]||{_errors:[]};else Q[N]=Q[N]||{_errors:[]},Q[N]._errors.push(U(Y));Q=Q[N],w++}}};return G($),X}function VK($,U=(X)=>X.message){let X={errors:[]},G=(J,Y=[])=>{var Q,w;for(let N of J.issues)if(N.code==="invalid_union"&&N.errors.length)N.errors.map((j)=>G({issues:j},N.path));else if(N.code==="invalid_key")G({issues:N.issues},N.path);else if(N.code==="invalid_element")G({issues:N.issues},N.path);else{let j=[...Y,...N.path];if(j.length===0){X.errors.push(U(N));continue}let H=X,K=0;while(K<j.length){let z=j[K],W=K===j.length-1;if(typeof z==="string")H.properties??(H.properties={}),(Q=H.properties)[z]??(Q[z]={errors:[]}),H=H.properties[z];else H.items??(H.items=[]),(w=H.items)[z]??(w[z]={errors:[]}),H=H.items[z];if(W)H.errors.push(U(N));K++}}};return G($),X}function Rv($){let U=[],X=$.map((G)=>typeof G==="object"?G.key:G);for(let G of X)if(typeof G==="number")U.push(`[${G}]`);else if(typeof G==="symbol")U.push(`[${JSON.stringify(String(G))}]`);else if(/[^\w$]/.test(G))U.push(`[${JSON.stringify(G)}]`);else{if(U.length)U.push(".");U.push(G)}return U.join("")}function BK($){let U=[],X=[...$.issues].sort((G,J)=>(G.path??[]).length-(J.path??[]).length);for(let G of X)if(U.push(`\u2716 ${G.message}`),G.path?.length)U.push(`  \u2192 at ${Rv(G.path)}`);return U.join(`
`)}var X2=($)=>(U,X,G,J)=>{let Y=G?Object.assign(G,{async:!1}):{async:!1},Q=U._zod.run({value:X,issues:[]},Y);if(Q instanceof Promise)throw new a4;if(Q.issues.length){let w=new(J?.Err??$)(Q.issues.map((N)=>r6(N,Y,Q6())));throw X7(w,J?.callee),w}return Q.value},G7=X2(b6),G2=($)=>async(U,X,G,J)=>{let Y=G?Object.assign(G,{async:!0}):{async:!0},Q=U._zod.run({value:X,issues:[]},Y);if(Q instanceof Promise)Q=await Q;if(Q.issues.length){let w=new(J?.Err??$)(Q.issues.map((N)=>r6(N,Y,Q6())));throw X7(w,J?.callee),w}return Q.value},Y7=G2(b6),Y2=($)=>(U,X,G)=>{let J=G?{...G,async:!1}:{async:!1},Y=U._zod.run({value:X,issues:[]},J);if(Y instanceof Promise)throw new a4;return Y.issues.length?{success:!1,error:new($??MJ)(Y.issues.map((Q)=>r6(Q,J,Q6())))}:{success:!0,data:Y.value}},_K=Y2(b6),Q2=($)=>async(U,X,G)=>{let J=G?Object.assign(G,{async:!0}):{async:!0},Y=U._zod.run({value:X,issues:[]},J);if(Y instanceof Promise)Y=await Y;return Y.issues.length?{success:!1,error:new $(Y.issues.map((Q)=>r6(Q,J,Q6())))}:{success:!0,data:Y.value}},MK=Q2(b6),Q7=($)=>(U,X,G)=>{let J=G?Object.assign(G,{direction:"backward"}):{direction:"backward"};return X2($)(U,X,J)},kl=Q7(b6),w7=($)=>(U,X,G)=>{return X2($)(U,X,G)},Cl=w7(b6),N7=($)=>async(U,X,G)=>{let J=G?Object.assign(G,{direction:"backward"}):{direction:"backward"};return G2($)(U,X,J)},xl=N7(b6),j7=($)=>async(U,X,G)=>{return G2($)(U,X,G)},fl=j7(b6),H7=($)=>(U,X,G)=>{let J=G?Object.assign(G,{direction:"backward"}):{direction:"backward"};return Y2($)(U,X,J)},hl=H7(b6),W7=($)=>(U,X,G)=>{return Y2($)(U,X,G)},gl=W7(b6),K7=($)=>async(U,X,G)=>{let J=G?Object.assign(G,{direction:"backward"}):{direction:"backward"};return Q2($)(U,X,J)},bl=K7(b6),O7=($)=>async(U,X,G)=>{return Q2($)(U,X,G)},ml=O7(b6);var W4={};H6(W4,{xid:()=>qK,uuid7:()=>cl,uuid6:()=>ll,uuid4:()=>yl,uuid:()=>l0,uppercase:()=>oK,unicodeEmail:()=>Tv,undefined:()=>pK,ulid:()=>AK,time:()=>bK,string:()=>uK,sha512_hex:()=>Hc,sha512_base64url:()=>Kc,sha512_base64:()=>Wc,sha384_hex:()=>wc,sha384_base64url:()=>jc,sha384_base64:()=>Nc,sha256_hex:()=>Gc,sha256_base64url:()=>Qc,sha256_base64:()=>Yc,sha1_hex:()=>Uc,sha1_base64url:()=>Xc,sha1_base64:()=>Jc,rfc5322Email:()=>nl,number:()=>cK,null:()=>nK,nanoid:()=>PK,md5_hex:()=>sl,md5_base64url:()=>$c,md5_base64:()=>el,mac:()=>kK,lowercase:()=>dK,ksuid:()=>vK,ipv6:()=>TK,ipv4:()=>RK,integer:()=>lK,idnEmail:()=>pl,html5Email:()=>il,hostname:()=>rl,hex:()=>al,guid:()=>SK,extendedDuration:()=>ul,emoji:()=>IK,email:()=>ZK,e164:()=>hK,duration:()=>EK,domain:()=>tl,datetime:()=>mK,date:()=>gK,cuid2:()=>LK,cuid:()=>FK,cidrv6:()=>xK,cidrv4:()=>CK,browserEmail:()=>dl,boolean:()=>iK,bigint:()=>yK,base64url:()=>z7,base64:()=>fK});var FK=/^[cC][^\s-]{8,}$/,LK=/^[0-9a-z]+$/,AK=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qK=/^[0-9a-vA-V]{20}$/,vK=/^[A-Za-z0-9]{27}$/,PK=/^[a-zA-Z0-9_-]{21}$/,EK=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ul=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SK=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,l0=($)=>{if(!$)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${$}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},yl=l0(4),ll=l0(6),cl=l0(7),ZK=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,il=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nl=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Tv=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,pl=Tv,dl=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ol="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function IK(){return new RegExp(ol,"u")}var RK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TK=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,kK=($)=>{let U=H4($??":");return new RegExp(`^(?:[0-9A-F]{2}${U}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${U}){5}[0-9a-f]{2}$`)},CK=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,xK=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fK=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,z7=/^[A-Za-z0-9_-]*$/,rl=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,tl=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,hK=/^\+(?:[0-9]){6,14}[0-9]$/,kv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gK=new RegExp(`^${kv}$`);function Cv($){return typeof $.precision==="number"?$.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":$.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${$.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function bK($){return new RegExp(`^${Cv($)}$`)}function mK($){let U=Cv({precision:$.precision}),X=["Z"];if($.local)X.push("");if($.offset)X.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let G=`${U}(?:${X.join("|")})`;return new RegExp(`^${kv}T(?:${G})$`)}var uK=($)=>{let U=$?`[\\s\\S]{${$?.minimum??0},${$?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${U}$`)},yK=/^-?\d+n?$/,lK=/^-?\d+$/,cK=/^-?\d+(?:\.\d+)?/,iK=/^(?:true|false)$/i,nK=/^null$/i;var pK=/^undefined$/i;var dK=/^[^A-Z]*$/,oK=/^[^a-z]*$/,al=/^[0-9a-fA-F]*$/;function AJ($,U){return new RegExp(`^[A-Za-z0-9+/]{${$}}${U}$`)}function qJ($){return new RegExp(`^[A-Za-z0-9_-]{${$}}$`)}var sl=/^[0-9a-fA-F]{32}$/,el=AJ(22,"=="),$c=qJ(22),Uc=/^[0-9a-fA-F]{40}$/,Jc=AJ(27,"="),Xc=qJ(27),Gc=/^[0-9a-fA-F]{64}$/,Yc=AJ(43,"="),Qc=qJ(43),wc=/^[0-9a-fA-F]{96}$/,Nc=AJ(64,""),jc=qJ(64),Hc=/^[0-9a-fA-F]{128}$/,Wc=AJ(86,"=="),Kc=qJ(86);var g$=A("$ZodCheck",($,U)=>{var X;$._zod??($._zod={}),$._zod.def=U,(X=$._zod).onattach??(X.onattach=[])}),fv={number:"number",bigint:"bigint",object:"date"},D7=A("$ZodCheckLessThan",($,U)=>{g$.init($,U);let X=fv[typeof U.value];$._zod.onattach.push((G)=>{let J=G._zod.bag,Y=(U.inclusive?J.maximum:J.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(U.value<Y)if(U.inclusive)J.maximum=U.value;else J.exclusiveMaximum=U.value}),$._zod.check=(G)=>{if(U.inclusive?G.value<=U.value:G.value<U.value)return;G.issues.push({origin:X,code:"too_big",maximum:U.value,input:G.value,inclusive:U.inclusive,inst:$,continue:!U.abort})}}),V7=A("$ZodCheckGreaterThan",($,U)=>{g$.init($,U);let X=fv[typeof U.value];$._zod.onattach.push((G)=>{let J=G._zod.bag,Y=(U.inclusive?J.minimum:J.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(U.value>Y)if(U.inclusive)J.minimum=U.value;else J.exclusiveMinimum=U.value}),$._zod.check=(G)=>{if(U.inclusive?G.value>=U.value:G.value>U.value)return;G.issues.push({origin:X,code:"too_small",minimum:U.value,input:G.value,inclusive:U.inclusive,inst:$,continue:!U.abort})}}),rK=A("$ZodCheckMultipleOf",($,U)=>{g$.init($,U),$._zod.onattach.push((X)=>{var G;(G=X._zod.bag).multipleOf??(G.multipleOf=U.value)}),$._zod.check=(X)=>{if(typeof X.value!==typeof U.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof X.value==="bigint"?X.value%U.value===BigInt(0):NK(X.value,U.value)===0)return;X.issues.push({origin:typeof X.value,code:"not_multiple_of",divisor:U.value,input:X.value,inst:$,continue:!U.abort})}}),tK=A("$ZodCheckNumberFormat",($,U)=>{g$.init($,U),U.format=U.format||"float64";let X=U.format?.includes("int"),G=X?"int":"number",[J,Y]=zK[U.format];$._zod.onattach.push((Q)=>{let w=Q._zod.bag;if(w.format=U.format,w.minimum=J,w.maximum=Y,X)w.pattern=lK}),$._zod.check=(Q)=>{let w=Q.value;if(X){if(!Number.isInteger(w)){Q.issues.push({expected:G,format:U.format,code:"invalid_type",continue:!1,input:w,inst:$});return}if(!Number.isSafeInteger(w)){if(w>0)Q.issues.push({input:w,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:G,continue:!U.abort});else Q.issues.push({input:w,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:G,continue:!U.abort});return}}if(w<J)Q.issues.push({origin:"number",input:w,code:"too_small",minimum:J,inclusive:!0,inst:$,continue:!U.abort});if(w>Y)Q.issues.push({origin:"number",input:w,code:"too_big",maximum:Y,inst:$})}}),aK=A("$ZodCheckBigIntFormat",($,U)=>{g$.init($,U);let[X,G]=DK[U.format];$._zod.onattach.push((J)=>{let Y=J._zod.bag;Y.format=U.format,Y.minimum=X,Y.maximum=G}),$._zod.check=(J)=>{let Y=J.value;if(Y<X)J.issues.push({origin:"bigint",input:Y,code:"too_small",minimum:X,inclusive:!0,inst:$,continue:!U.abort});if(Y>G)J.issues.push({origin:"bigint",input:Y,code:"too_big",maximum:G,inst:$})}}),sK=A("$ZodCheckMaxSize",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.maximum??Number.POSITIVE_INFINITY;if(U.maximum<J)G._zod.bag.maximum=U.maximum}),$._zod.check=(G)=>{let J=G.value;if(J.size<=U.maximum)return;G.issues.push({origin:BJ(J),code:"too_big",maximum:U.maximum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),eK=A("$ZodCheckMinSize",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(U.minimum>J)G._zod.bag.minimum=U.minimum}),$._zod.check=(G)=>{let J=G.value;if(J.size>=U.minimum)return;G.issues.push({origin:BJ(J),code:"too_small",minimum:U.minimum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),$O=A("$ZodCheckSizeEquals",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.size!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.minimum=U.size,J.maximum=U.size,J.size=U.size}),$._zod.check=(G)=>{let J=G.value,Y=J.size;if(Y===U.size)return;let Q=Y>U.size;G.issues.push({origin:BJ(J),...Q?{code:"too_big",maximum:U.size}:{code:"too_small",minimum:U.size},inclusive:!0,exact:!0,input:G.value,inst:$,continue:!U.abort})}}),UO=A("$ZodCheckMaxLength",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.maximum??Number.POSITIVE_INFINITY;if(U.maximum<J)G._zod.bag.maximum=U.maximum}),$._zod.check=(G)=>{let J=G.value;if(J.length<=U.maximum)return;let Q=_J(J);G.issues.push({origin:Q,code:"too_big",maximum:U.maximum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),JO=A("$ZodCheckMinLength",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(U.minimum>J)G._zod.bag.minimum=U.minimum}),$._zod.check=(G)=>{let J=G.value;if(J.length>=U.minimum)return;let Q=_J(J);G.issues.push({origin:Q,code:"too_small",minimum:U.minimum,inclusive:!0,input:J,inst:$,continue:!U.abort})}}),XO=A("$ZodCheckLengthEquals",($,U)=>{var X;g$.init($,U),(X=$._zod.def).when??(X.when=(G)=>{let J=G.value;return!y1(J)&&J.length!==void 0}),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.minimum=U.length,J.maximum=U.length,J.length=U.length}),$._zod.check=(G)=>{let J=G.value,Y=J.length;if(Y===U.length)return;let Q=_J(J),w=Y>U.length;G.issues.push({origin:Q,...w?{code:"too_big",maximum:U.length}:{code:"too_small",minimum:U.length},inclusive:!0,exact:!0,input:G.value,inst:$,continue:!U.abort})}}),w2=A("$ZodCheckStringFormat",($,U)=>{var X,G;if(g$.init($,U),$._zod.onattach.push((J)=>{let Y=J._zod.bag;if(Y.format=U.format,U.pattern)Y.patterns??(Y.patterns=new Set),Y.patterns.add(U.pattern)}),U.pattern)(X=$._zod).check??(X.check=(J)=>{if(U.pattern.lastIndex=0,U.pattern.test(J.value))return;J.issues.push({origin:"string",code:"invalid_format",format:U.format,input:J.value,...U.pattern?{pattern:U.pattern.toString()}:{},inst:$,continue:!U.abort})});else(G=$._zod).check??(G.check=()=>{})}),GO=A("$ZodCheckRegex",($,U)=>{w2.init($,U),$._zod.check=(X)=>{if(U.pattern.lastIndex=0,U.pattern.test(X.value))return;X.issues.push({origin:"string",code:"invalid_format",format:"regex",input:X.value,pattern:U.pattern.toString(),inst:$,continue:!U.abort})}}),YO=A("$ZodCheckLowerCase",($,U)=>{U.pattern??(U.pattern=dK),w2.init($,U)}),QO=A("$ZodCheckUpperCase",($,U)=>{U.pattern??(U.pattern=oK),w2.init($,U)}),wO=A("$ZodCheckIncludes",($,U)=>{g$.init($,U);let X=H4(U.includes),G=new RegExp(typeof U.position==="number"?`^.{${U.position}}${X}`:X);U.pattern=G,$._zod.onattach.push((J)=>{let Y=J._zod.bag;Y.patterns??(Y.patterns=new Set),Y.patterns.add(G)}),$._zod.check=(J)=>{if(J.value.includes(U.includes,U.position))return;J.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:U.includes,input:J.value,inst:$,continue:!U.abort})}}),NO=A("$ZodCheckStartsWith",($,U)=>{g$.init($,U);let X=new RegExp(`^${H4(U.prefix)}.*`);U.pattern??(U.pattern=X),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(X)}),$._zod.check=(G)=>{if(G.value.startsWith(U.prefix))return;G.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:U.prefix,input:G.value,inst:$,continue:!U.abort})}}),jO=A("$ZodCheckEndsWith",($,U)=>{g$.init($,U);let X=new RegExp(`.*${H4(U.suffix)}$`);U.pattern??(U.pattern=X),$._zod.onattach.push((G)=>{let J=G._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(X)}),$._zod.check=(G)=>{if(G.value.endsWith(U.suffix))return;G.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:U.suffix,input:G.value,inst:$,continue:!U.abort})}});function xv($,U,X){if($.issues.length)U.issues.push(...o6(X,$.issues))}var HO=A("$ZodCheckProperty",($,U)=>{g$.init($,U),$._zod.check=(X)=>{let G=U.schema._zod.run({value:X.value[U.property],issues:[]},{});if(G instanceof Promise)return G.then((J)=>xv(J,X,U.property));xv(G,X,U.property);return}}),WO=A("$ZodCheckMimeType",($,U)=>{g$.init($,U);let X=new Set(U.mime);$._zod.onattach.push((G)=>{G._zod.bag.mime=U.mime}),$._zod.check=(G)=>{if(X.has(G.value.type))return;G.issues.push({code:"invalid_value",values:U.mime,input:G.value.type,inst:$,continue:!U.abort})}}),KO=A("$ZodCheckOverwrite",($,U)=>{g$.init($,U),$._zod.check=(X)=>{X.value=U.tx(X.value)}});class B7{constructor($=[]){if(this.content=[],this.indent=0,this)this.args=$}indented($){this.indent+=1,$(this),this.indent-=1}write($){if(typeof $==="function"){$(this,{execution:"sync"}),$(this,{execution:"async"});return}let X=$.split(`
`).filter((Y)=>Y),G=Math.min(...X.map((Y)=>Y.length-Y.trimStart().length)),J=X.map((Y)=>Y.slice(G)).map((Y)=>" ".repeat(this.indent*2)+Y);for(let Y of J)this.content.push(Y)}compile(){let $=Function,U=this?.args,G=[...(this?.content??[""]).map((J)=>`  ${J}`)];return new $(...U,G.join(`
`))}}var OO={major:4,minor:1,patch:13};var Y$=A("$ZodType",($,U)=>{var X;$??($={}),$._zod.def=U,$._zod.bag=$._zod.bag||{},$._zod.version=OO;let G=[...$._zod.def.checks??[]];if($._zod.traits.has("$ZodCheck"))G.unshift($);for(let J of G)for(let Y of J._zod.onattach)Y($);if(G.length===0)(X=$._zod).deferred??(X.deferred=[]),$._zod.deferred?.push(()=>{$._zod.run=$._zod.parse});else{let J=(Q,w,N)=>{let j=n1(Q),H;for(let K of w){if(K._zod.def.when){if(!K._zod.def.when(Q))continue}else if(j)continue;let z=Q.issues.length,W=K._zod.check(Q);if(W instanceof Promise&&N?.async===!1)throw new a4;if(H||W instanceof Promise)H=(H??Promise.resolve()).then(async()=>{if(await W,Q.issues.length===z)return;if(!j)j=n1(Q,z)});else{if(Q.issues.length===z)continue;if(!j)j=n1(Q,z)}}if(H)return H.then(()=>{return Q});return Q},Y=(Q,w,N)=>{if(n1(Q))return Q.aborted=!0,Q;let j=J(w,G,N);if(j instanceof Promise){if(N.async===!1)throw new a4;return j.then((H)=>$._zod.parse(H,N))}return $._zod.parse(j,N)};$._zod.run=(Q,w)=>{if(w.skipChecks)return $._zod.parse(Q,w);if(w.direction==="backward"){let j=$._zod.parse({value:Q.value,issues:[]},{...w,skipChecks:!0});if(j instanceof Promise)return j.then((H)=>{return Y(H,Q,w)});return Y(j,Q,w)}let N=$._zod.parse(Q,w);if(N instanceof Promise){if(w.async===!1)throw new a4;return N.then((j)=>J(j,G,w))}return J(N,G,w)}}$["~standard"]={validate:(J)=>{try{let Y=_K($,J);return Y.success?{value:Y.data}:{issues:Y.error?.issues}}catch(Y){return MK($,J).then((Q)=>Q.success?{value:Q.data}:{issues:Q.error?.issues})}},vendor:"zod",version:1}}),c0=A("$ZodString",($,U)=>{Y$.init($,U),$._zod.pattern=[...$?._zod.bag?.patterns??[]].pop()??uK($._zod.bag),$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=String(X.value)}catch(J){}if(typeof X.value==="string")return X;return X.issues.push({expected:"string",code:"invalid_type",input:X.value,inst:$}),X}}),C$=A("$ZodStringFormat",($,U)=>{w2.init($,U),c0.init($,U)}),DO=A("$ZodGUID",($,U)=>{U.pattern??(U.pattern=SK),C$.init($,U)}),VO=A("$ZodUUID",($,U)=>{if(U.version){let G={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[U.version];if(G===void 0)throw Error(`Invalid UUID version: "${U.version}"`);U.pattern??(U.pattern=l0(G))}else U.pattern??(U.pattern=l0());C$.init($,U)}),BO=A("$ZodEmail",($,U)=>{U.pattern??(U.pattern=ZK),C$.init($,U)}),_O=A("$ZodURL",($,U)=>{C$.init($,U),$._zod.check=(X)=>{try{let G=X.value.trim(),J=new URL(G);if(U.hostname){if(U.hostname.lastIndex=0,!U.hostname.test(J.hostname))X.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:U.hostname.source,input:X.value,inst:$,continue:!U.abort})}if(U.protocol){if(U.protocol.lastIndex=0,!U.protocol.test(J.protocol.endsWith(":")?J.protocol.slice(0,-1):J.protocol))X.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:U.protocol.source,input:X.value,inst:$,continue:!U.abort})}if(U.normalize)X.value=J.href;else X.value=G;return}catch(G){X.issues.push({code:"invalid_format",format:"url",input:X.value,inst:$,continue:!U.abort})}}}),MO=A("$ZodEmoji",($,U)=>{U.pattern??(U.pattern=IK()),C$.init($,U)}),FO=A("$ZodNanoID",($,U)=>{U.pattern??(U.pattern=PK),C$.init($,U)}),LO=A("$ZodCUID",($,U)=>{U.pattern??(U.pattern=FK),C$.init($,U)}),AO=A("$ZodCUID2",($,U)=>{U.pattern??(U.pattern=LK),C$.init($,U)}),qO=A("$ZodULID",($,U)=>{U.pattern??(U.pattern=AK),C$.init($,U)}),vO=A("$ZodXID",($,U)=>{U.pattern??(U.pattern=qK),C$.init($,U)}),PO=A("$ZodKSUID",($,U)=>{U.pattern??(U.pattern=vK),C$.init($,U)}),EO=A("$ZodISODateTime",($,U)=>{U.pattern??(U.pattern=mK(U)),C$.init($,U)}),SO=A("$ZodISODate",($,U)=>{U.pattern??(U.pattern=gK),C$.init($,U)}),ZO=A("$ZodISOTime",($,U)=>{U.pattern??(U.pattern=bK(U)),C$.init($,U)}),IO=A("$ZodISODuration",($,U)=>{U.pattern??(U.pattern=EK),C$.init($,U)}),RO=A("$ZodIPv4",($,U)=>{U.pattern??(U.pattern=RK),C$.init($,U),$._zod.bag.format="ipv4"}),TO=A("$ZodIPv6",($,U)=>{U.pattern??(U.pattern=TK),C$.init($,U),$._zod.bag.format="ipv6",$._zod.check=(X)=>{try{new URL(`http://[${X.value}]`)}catch{X.issues.push({code:"invalid_format",format:"ipv6",input:X.value,inst:$,continue:!U.abort})}}}),kO=A("$ZodMAC",($,U)=>{U.pattern??(U.pattern=kK(U.delimiter)),C$.init($,U),$._zod.bag.format="mac"}),CO=A("$ZodCIDRv4",($,U)=>{U.pattern??(U.pattern=CK),C$.init($,U)}),xO=A("$ZodCIDRv6",($,U)=>{U.pattern??(U.pattern=xK),C$.init($,U),$._zod.check=(X)=>{let G=X.value.split("/");try{if(G.length!==2)throw Error();let[J,Y]=G;if(!Y)throw Error();let Q=Number(Y);if(`${Q}`!==Y)throw Error();if(Q<0||Q>128)throw Error();new URL(`http://[${J}]`)}catch{X.issues.push({code:"invalid_format",format:"cidrv6",input:X.value,inst:$,continue:!U.abort})}}});function fO($){if($==="")return!0;if($.length%4!==0)return!1;try{return atob($),!0}catch{return!1}}var hO=A("$ZodBase64",($,U)=>{U.pattern??(U.pattern=fK),C$.init($,U),$._zod.bag.contentEncoding="base64",$._zod.check=(X)=>{if(fO(X.value))return;X.issues.push({code:"invalid_format",format:"base64",input:X.value,inst:$,continue:!U.abort})}});function dv($){if(!z7.test($))return!1;let U=$.replace(/[-_]/g,(G)=>G==="-"?"+":"/"),X=U.padEnd(Math.ceil(U.length/4)*4,"=");return fO(X)}var gO=A("$ZodBase64URL",($,U)=>{U.pattern??(U.pattern=z7),C$.init($,U),$._zod.bag.contentEncoding="base64url",$._zod.check=(X)=>{if(dv(X.value))return;X.issues.push({code:"invalid_format",format:"base64url",input:X.value,inst:$,continue:!U.abort})}}),bO=A("$ZodE164",($,U)=>{U.pattern??(U.pattern=hK),C$.init($,U)});function ov($,U=null){try{let X=$.split(".");if(X.length!==3)return!1;let[G]=X;if(!G)return!1;let J=JSON.parse(atob(G));if("typ"in J&&J?.typ!=="JWT")return!1;if(!J.alg)return!1;if(U&&(!("alg"in J)||J.alg!==U))return!1;return!0}catch{return!1}}var mO=A("$ZodJWT",($,U)=>{C$.init($,U),$._zod.check=(X)=>{if(ov(X.value,U.alg))return;X.issues.push({code:"invalid_format",format:"jwt",input:X.value,inst:$,continue:!U.abort})}}),uO=A("$ZodCustomStringFormat",($,U)=>{C$.init($,U),$._zod.check=(X)=>{if(U.fn(X.value))return;X.issues.push({code:"invalid_format",format:U.format,input:X.value,inst:$,continue:!U.abort})}}),q7=A("$ZodNumber",($,U)=>{Y$.init($,U),$._zod.pattern=$._zod.bag.pattern??cK,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=Number(X.value)}catch(Q){}let J=X.value;if(typeof J==="number"&&!Number.isNaN(J)&&Number.isFinite(J))return X;let Y=typeof J==="number"?Number.isNaN(J)?"NaN":!Number.isFinite(J)?"Infinity":void 0:void 0;return X.issues.push({expected:"number",code:"invalid_type",input:J,inst:$,...Y?{received:Y}:{}}),X}}),yO=A("$ZodNumberFormat",($,U)=>{tK.init($,U),q7.init($,U)}),vJ=A("$ZodBoolean",($,U)=>{Y$.init($,U),$._zod.pattern=iK,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=Boolean(X.value)}catch(Y){}let J=X.value;if(typeof J==="boolean")return X;return X.issues.push({expected:"boolean",code:"invalid_type",input:J,inst:$}),X}}),v7=A("$ZodBigInt",($,U)=>{Y$.init($,U),$._zod.pattern=yK,$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=BigInt(X.value)}catch(J){}if(typeof X.value==="bigint")return X;return X.issues.push({expected:"bigint",code:"invalid_type",input:X.value,inst:$}),X}}),lO=A("$ZodBigIntFormat",($,U)=>{aK.init($,U),v7.init($,U)}),cO=A("$ZodSymbol",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(typeof J==="symbol")return X;return X.issues.push({expected:"symbol",code:"invalid_type",input:J,inst:$}),X}}),iO=A("$ZodUndefined",($,U)=>{Y$.init($,U),$._zod.pattern=pK,$._zod.values=new Set([void 0]),$._zod.optin="optional",$._zod.optout="optional",$._zod.parse=(X,G)=>{let J=X.value;if(typeof J>"u")return X;return X.issues.push({expected:"undefined",code:"invalid_type",input:J,inst:$}),X}}),nO=A("$ZodNull",($,U)=>{Y$.init($,U),$._zod.pattern=nK,$._zod.values=new Set([null]),$._zod.parse=(X,G)=>{let J=X.value;if(J===null)return X;return X.issues.push({expected:"null",code:"invalid_type",input:J,inst:$}),X}}),pO=A("$ZodAny",($,U)=>{Y$.init($,U),$._zod.parse=(X)=>X}),dO=A("$ZodUnknown",($,U)=>{Y$.init($,U),$._zod.parse=(X)=>X}),oO=A("$ZodNever",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{return X.issues.push({expected:"never",code:"invalid_type",input:X.value,inst:$}),X}}),rO=A("$ZodVoid",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(typeof J>"u")return X;return X.issues.push({expected:"void",code:"invalid_type",input:J,inst:$}),X}}),tO=A("$ZodDate",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{if(U.coerce)try{X.value=new Date(X.value)}catch(w){}let J=X.value,Y=J instanceof Date;if(Y&&!Number.isNaN(J.getTime()))return X;return X.issues.push({expected:"date",code:"invalid_type",input:J,...Y?{received:"Invalid Date"}:{},inst:$}),X}});function gv($,U,X){if($.issues.length)U.issues.push(...o6(X,$.issues));U.value[X]=$.value}var aO=A("$ZodArray",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!Array.isArray(J))return X.issues.push({expected:"array",code:"invalid_type",input:J,inst:$}),X;X.value=Array(J.length);let Y=[];for(let Q=0;Q<J.length;Q++){let w=J[Q],N=U.element._zod.run({value:w,issues:[]},G);if(N instanceof Promise)Y.push(N.then((j)=>gv(j,X,Q)));else gv(N,X,Q)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function A7($,U,X,G){if($.issues.length)U.issues.push(...o6(X,$.issues));if($.value===void 0){if(X in G)U.value[X]=void 0}else U.value[X]=$.value}function rv($){let U=Object.keys($.shape);for(let G of U)if(!$.shape?.[G]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${G}": expected a Zod schema`);let X=OK($.shape);return{...$,keys:U,keySet:new Set(U),numKeys:U.length,optionalKeys:new Set(X)}}function tv($,U,X,G,J,Y){let Q=[],w=J.keySet,N=J.catchall._zod,j=N.def.type;for(let H in U){if(w.has(H))continue;if(j==="never"){Q.push(H);continue}let K=N.run({value:U[H],issues:[]},G);if(K instanceof Promise)$.push(K.then((z)=>A7(z,X,H,U)));else A7(K,X,H,U)}if(Q.length)X.issues.push({code:"unrecognized_keys",keys:Q,input:U,inst:Y});if(!$.length)return X;return Promise.all($).then(()=>{return X})}var av=A("$ZodObject",($,U)=>{if(Y$.init($,U),!Object.getOwnPropertyDescriptor(U,"shape")?.get){let w=U.shape;Object.defineProperty(U,"shape",{get:()=>{let N={...w};return Object.defineProperty(U,"shape",{value:N}),N}})}let G=U2(()=>rv(U));V$($._zod,"propValues",()=>{let w=U.shape,N={};for(let j in w){let H=w[j]._zod;if(H.values){N[j]??(N[j]=new Set);for(let K of H.values)N[j].add(K)}}return N});let J=y0,Y=U.catchall,Q;$._zod.parse=(w,N)=>{Q??(Q=G.value);let j=w.value;if(!J(j))return w.issues.push({expected:"object",code:"invalid_type",input:j,inst:$}),w;w.value={};let H=[],K=Q.shape;for(let z of Q.keys){let O=K[z]._zod.run({value:j[z],issues:[]},N);if(O instanceof Promise)H.push(O.then((D)=>A7(D,w,z,j)));else A7(O,w,z,j)}if(!Y)return H.length?Promise.all(H).then(()=>w):w;return tv(H,j,w,N,G.value,$)}}),sO=A("$ZodObjectJIT",($,U)=>{av.init($,U);let X=$._zod.parse,G=U2(()=>rv(U)),J=(z)=>{let W=new B7(["shape","payload","ctx"]),O=G.value,D=(L)=>{let M=J7(L);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};W.write("const input = payload.value;");let B=Object.create(null),v=0;for(let L of O.keys)B[L]=`key_${v++}`;W.write("const newResult = {};");for(let L of O.keys){let M=B[L],I=J7(L);W.write(`const ${M} = ${D(L)};`),W.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        
        if (${M}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${M}.value;
        }
        
      `)}W.write("payload.value = newResult;"),W.write("return payload;");let E=W.compile();return(L,M)=>E(z,L,M)},Y,Q=y0,w=!KJ.jitless,j=w&&HK.value,H=U.catchall,K;$._zod.parse=(z,W)=>{K??(K=G.value);let O=z.value;if(!Q(O))return z.issues.push({expected:"object",code:"invalid_type",input:O,inst:$}),z;if(w&&j&&W?.async===!1&&W.jitless!==!0){if(!Y)Y=J(U.shape);if(z=Y(z,W),!H)return z;return tv([],O,z,W,K,$)}return X(z,W)}});function bv($,U,X,G){for(let Y of $)if(Y.issues.length===0)return U.value=Y.value,U;let J=$.filter((Y)=>!n1(Y));if(J.length===1)return U.value=J[0].value,J[0];return U.issues.push({code:"invalid_union",input:U.value,inst:X,errors:$.map((Y)=>Y.issues.map((Q)=>r6(Q,G,Q6())))}),U}var P7=A("$ZodUnion",($,U)=>{Y$.init($,U),V$($._zod,"optin",()=>U.options.some((J)=>J._zod.optin==="optional")?"optional":void 0),V$($._zod,"optout",()=>U.options.some((J)=>J._zod.optout==="optional")?"optional":void 0),V$($._zod,"values",()=>{if(U.options.every((J)=>J._zod.values))return new Set(U.options.flatMap((J)=>Array.from(J._zod.values)));return}),V$($._zod,"pattern",()=>{if(U.options.every((J)=>J._zod.pattern)){let J=U.options.map((Y)=>Y._zod.pattern);return new RegExp(`^(${J.map((Y)=>DJ(Y.source)).join("|")})$`)}return});let X=U.options.length===1,G=U.options[0]._zod.run;$._zod.parse=(J,Y)=>{if(X)return G(J,Y);let Q=!1,w=[];for(let N of U.options){let j=N._zod.run({value:J.value,issues:[]},Y);if(j instanceof Promise)w.push(j),Q=!0;else{if(j.issues.length===0)return j;w.push(j)}}if(!Q)return bv(w,J,$,Y);return Promise.all(w).then((N)=>{return bv(N,J,$,Y)})}}),eO=A("$ZodDiscriminatedUnion",($,U)=>{P7.init($,U);let X=$._zod.parse;V$($._zod,"propValues",()=>{let J={};for(let Y of U.options){let Q=Y._zod.propValues;if(!Q||Object.keys(Q).length===0)throw Error(`Invalid discriminated union option at index "${U.options.indexOf(Y)}"`);for(let[w,N]of Object.entries(Q)){if(!J[w])J[w]=new Set;for(let j of N)J[w].add(j)}}return J});let G=U2(()=>{let J=U.options,Y=new Map;for(let Q of J){let w=Q._zod.propValues?.[U.discriminator];if(!w||w.size===0)throw Error(`Invalid discriminated union option at index "${U.options.indexOf(Q)}"`);for(let N of w){if(Y.has(N))throw Error(`Duplicate discriminator value "${String(N)}"`);Y.set(N,Q)}}return Y});$._zod.parse=(J,Y)=>{let Q=J.value;if(!y0(Q))return J.issues.push({code:"invalid_type",expected:"object",input:Q,inst:$}),J;let w=G.value.get(Q?.[U.discriminator]);if(w)return w._zod.run(J,Y);if(U.unionFallback)return X(J,Y);return J.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:U.discriminator,input:Q,path:[U.discriminator],inst:$}),J}}),$z=A("$ZodIntersection",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value,Y=U.left._zod.run({value:J,issues:[]},G),Q=U.right._zod.run({value:J,issues:[]},G);if(Y instanceof Promise||Q instanceof Promise)return Promise.all([Y,Q]).then(([N,j])=>{return mv(X,N,j)});return mv(X,Y,Q)}});function zO($,U){if($===U)return{valid:!0,data:$};if($ instanceof Date&&U instanceof Date&&+$===+U)return{valid:!0,data:$};if(i1($)&&i1(U)){let X=Object.keys(U),G=Object.keys($).filter((Y)=>X.indexOf(Y)!==-1),J={...$,...U};for(let Y of G){let Q=zO($[Y],U[Y]);if(!Q.valid)return{valid:!1,mergeErrorPath:[Y,...Q.mergeErrorPath]};J[Y]=Q.data}return{valid:!0,data:J}}if(Array.isArray($)&&Array.isArray(U)){if($.length!==U.length)return{valid:!1,mergeErrorPath:[]};let X=[];for(let G=0;G<$.length;G++){let J=$[G],Y=U[G],Q=zO(J,Y);if(!Q.valid)return{valid:!1,mergeErrorPath:[G,...Q.mergeErrorPath]};X.push(Q.data)}return{valid:!0,data:X}}return{valid:!1,mergeErrorPath:[]}}function mv($,U,X){if(U.issues.length)$.issues.push(...U.issues);if(X.issues.length)$.issues.push(...X.issues);if(n1($))return $;let G=zO(U.value,X.value);if(!G.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(G.mergeErrorPath)}`);return $.value=G.data,$}var E7=A("$ZodTuple",($,U)=>{Y$.init($,U);let X=U.items;$._zod.parse=(G,J)=>{let Y=G.value;if(!Array.isArray(Y))return G.issues.push({input:Y,inst:$,expected:"tuple",code:"invalid_type"}),G;G.value=[];let Q=[],w=[...X].reverse().findIndex((H)=>H._zod.optin!=="optional"),N=w===-1?0:X.length-w;if(!U.rest){let H=Y.length>X.length,K=Y.length<N-1;if(H||K)return G.issues.push({...H?{code:"too_big",maximum:X.length}:{code:"too_small",minimum:X.length},input:Y,inst:$,origin:"array"}),G}let j=-1;for(let H of X){if(j++,j>=Y.length){if(j>=N)continue}let K=H._zod.run({value:Y[j],issues:[]},J);if(K instanceof Promise)Q.push(K.then((z)=>_7(z,G,j)));else _7(K,G,j)}if(U.rest){let H=Y.slice(X.length);for(let K of H){j++;let z=U.rest._zod.run({value:K,issues:[]},J);if(z instanceof Promise)Q.push(z.then((W)=>_7(W,G,j)));else _7(z,G,j)}}if(Q.length)return Promise.all(Q).then(()=>G);return G}});function _7($,U,X){if($.issues.length)U.issues.push(...o6(X,$.issues));U.value[X]=$.value}var Uz=A("$ZodRecord",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!i1(J))return X.issues.push({expected:"record",code:"invalid_type",input:J,inst:$}),X;let Y=[],Q=U.keyType._zod.values;if(Q){X.value={};let w=new Set;for(let j of Q)if(typeof j==="string"||typeof j==="number"||typeof j==="symbol"){w.add(typeof j==="number"?j.toString():j);let H=U.valueType._zod.run({value:J[j],issues:[]},G);if(H instanceof Promise)Y.push(H.then((K)=>{if(K.issues.length)X.issues.push(...o6(j,K.issues));X.value[j]=K.value}));else{if(H.issues.length)X.issues.push(...o6(j,H.issues));X.value[j]=H.value}}let N;for(let j in J)if(!w.has(j))N=N??[],N.push(j);if(N&&N.length>0)X.issues.push({code:"unrecognized_keys",input:J,inst:$,keys:N})}else{X.value={};for(let w of Reflect.ownKeys(J)){if(w==="__proto__")continue;let N=U.keyType._zod.run({value:w,issues:[]},G);if(N instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(N.issues.length){X.issues.push({code:"invalid_key",origin:"record",issues:N.issues.map((H)=>r6(H,G,Q6())),input:w,path:[w],inst:$}),X.value[N.value]=N.value;continue}let j=U.valueType._zod.run({value:J[w],issues:[]},G);if(j instanceof Promise)Y.push(j.then((H)=>{if(H.issues.length)X.issues.push(...o6(w,H.issues));X.value[N.value]=H.value}));else{if(j.issues.length)X.issues.push(...o6(w,j.issues));X.value[N.value]=j.value}}}if(Y.length)return Promise.all(Y).then(()=>X);return X}}),Jz=A("$ZodMap",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!(J instanceof Map))return X.issues.push({expected:"map",code:"invalid_type",input:J,inst:$}),X;let Y=[];X.value=new Map;for(let[Q,w]of J){let N=U.keyType._zod.run({value:Q,issues:[]},G),j=U.valueType._zod.run({value:w,issues:[]},G);if(N instanceof Promise||j instanceof Promise)Y.push(Promise.all([N,j]).then(([H,K])=>{uv(H,K,X,Q,J,$,G)}));else uv(N,j,X,Q,J,$,G)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function uv($,U,X,G,J,Y,Q){if($.issues.length)if(VJ.has(typeof G))X.issues.push(...o6(G,$.issues));else X.issues.push({code:"invalid_key",origin:"map",input:J,inst:Y,issues:$.issues.map((w)=>r6(w,Q,Q6()))});if(U.issues.length)if(VJ.has(typeof G))X.issues.push(...o6(G,U.issues));else X.issues.push({origin:"map",code:"invalid_element",input:J,inst:Y,key:G,issues:U.issues.map((w)=>r6(w,Q,Q6()))});X.value.set($.value,U.value)}var Xz=A("$ZodSet",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(!(J instanceof Set))return X.issues.push({input:J,inst:$,expected:"set",code:"invalid_type"}),X;let Y=[];X.value=new Set;for(let Q of J){let w=U.valueType._zod.run({value:Q,issues:[]},G);if(w instanceof Promise)Y.push(w.then((N)=>yv(N,X)));else yv(w,X)}if(Y.length)return Promise.all(Y).then(()=>X);return X}});function yv($,U){if($.issues.length)U.issues.push(...$.issues);U.value.add($.value)}var Gz=A("$ZodEnum",($,U)=>{Y$.init($,U);let X=zJ(U.entries),G=new Set(X);$._zod.values=G,$._zod.pattern=new RegExp(`^(${X.filter((J)=>VJ.has(typeof J)).map((J)=>typeof J==="string"?H4(J):J.toString()).join("|")})$`),$._zod.parse=(J,Y)=>{let Q=J.value;if(G.has(Q))return J;return J.issues.push({code:"invalid_value",values:X,input:Q,inst:$}),J}}),Yz=A("$ZodLiteral",($,U)=>{if(Y$.init($,U),U.values.length===0)throw Error("Cannot create literal schema with no valid values");let X=new Set(U.values);$._zod.values=X,$._zod.pattern=new RegExp(`^(${U.values.map((G)=>typeof G==="string"?H4(G):G?H4(G.toString()):String(G)).join("|")})$`),$._zod.parse=(G,J)=>{let Y=G.value;if(X.has(Y))return G;return G.issues.push({code:"invalid_value",values:U.values,input:Y,inst:$}),G}}),Qz=A("$ZodFile",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{let J=X.value;if(J instanceof File)return X;return X.issues.push({expected:"file",code:"invalid_type",input:J,inst:$}),X}}),wz=A("$ZodTransform",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{if(G.direction==="backward")throw new u0($.constructor.name);let J=U.transform(X.value,X);if(G.async)return(J instanceof Promise?J:Promise.resolve(J)).then((Q)=>{return X.value=Q,X});if(J instanceof Promise)throw new a4;return X.value=J,X}});function lv($,U){if($.issues.length&&U===void 0)return{issues:[],value:void 0};return $}var Nz=A("$ZodOptional",($,U)=>{Y$.init($,U),$._zod.optin="optional",$._zod.optout="optional",V$($._zod,"values",()=>{return U.innerType._zod.values?new Set([...U.innerType._zod.values,void 0]):void 0}),V$($._zod,"pattern",()=>{let X=U.innerType._zod.pattern;return X?new RegExp(`^(${DJ(X.source)})?$`):void 0}),$._zod.parse=(X,G)=>{if(U.innerType._zod.optin==="optional"){let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>lv(Y,X.value));return lv(J,X.value)}if(X.value===void 0)return X;return U.innerType._zod.run(X,G)}}),jz=A("$ZodNullable",($,U)=>{Y$.init($,U),V$($._zod,"optin",()=>U.innerType._zod.optin),V$($._zod,"optout",()=>U.innerType._zod.optout),V$($._zod,"pattern",()=>{let X=U.innerType._zod.pattern;return X?new RegExp(`^(${DJ(X.source)}|null)$`):void 0}),V$($._zod,"values",()=>{return U.innerType._zod.values?new Set([...U.innerType._zod.values,null]):void 0}),$._zod.parse=(X,G)=>{if(X.value===null)return X;return U.innerType._zod.run(X,G)}}),Hz=A("$ZodDefault",($,U)=>{Y$.init($,U),$._zod.optin="optional",V$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{if(G.direction==="backward")return U.innerType._zod.run(X,G);if(X.value===void 0)return X.value=U.defaultValue,X;let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>cv(Y,U));return cv(J,U)}});function cv($,U){if($.value===void 0)$.value=U.defaultValue;return $}var Wz=A("$ZodPrefault",($,U)=>{Y$.init($,U),$._zod.optin="optional",V$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{if(G.direction==="backward")return U.innerType._zod.run(X,G);if(X.value===void 0)X.value=U.defaultValue;return U.innerType._zod.run(X,G)}}),Kz=A("$ZodNonOptional",($,U)=>{Y$.init($,U),V$($._zod,"values",()=>{let X=U.innerType._zod.values;return X?new Set([...X].filter((G)=>G!==void 0)):void 0}),$._zod.parse=(X,G)=>{let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>iv(Y,$));return iv(J,$)}});function iv($,U){if(!$.issues.length&&$.value===void 0)$.issues.push({code:"invalid_type",expected:"nonoptional",input:$.value,inst:U});return $}var Oz=A("$ZodSuccess",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{if(G.direction==="backward")throw new u0("ZodSuccess");let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>{return X.value=Y.issues.length===0,X});return X.value=J.issues.length===0,X}}),zz=A("$ZodCatch",($,U)=>{Y$.init($,U),V$($._zod,"optin",()=>U.innerType._zod.optin),V$($._zod,"optout",()=>U.innerType._zod.optout),V$($._zod,"values",()=>U.innerType._zod.values),$._zod.parse=(X,G)=>{if(G.direction==="backward")return U.innerType._zod.run(X,G);let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>{if(X.value=Y.value,Y.issues.length)X.value=U.catchValue({...X,error:{issues:Y.issues.map((Q)=>r6(Q,G,Q6()))},input:X.value}),X.issues=[];return X});if(X.value=J.value,J.issues.length)X.value=U.catchValue({...X,error:{issues:J.issues.map((Y)=>r6(Y,G,Q6()))},input:X.value}),X.issues=[];return X}}),Dz=A("$ZodNaN",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{if(typeof X.value!=="number"||!Number.isNaN(X.value))return X.issues.push({input:X.value,inst:$,expected:"nan",code:"invalid_type"}),X;return X}}),Vz=A("$ZodPipe",($,U)=>{Y$.init($,U),V$($._zod,"values",()=>U.in._zod.values),V$($._zod,"optin",()=>U.in._zod.optin),V$($._zod,"optout",()=>U.out._zod.optout),V$($._zod,"propValues",()=>U.in._zod.propValues),$._zod.parse=(X,G)=>{if(G.direction==="backward"){let Y=U.out._zod.run(X,G);if(Y instanceof Promise)return Y.then((Q)=>M7(Q,U.in,G));return M7(Y,U.in,G)}let J=U.in._zod.run(X,G);if(J instanceof Promise)return J.then((Y)=>M7(Y,U.out,G));return M7(J,U.out,G)}});function M7($,U,X){if($.issues.length)return $.aborted=!0,$;return U._zod.run({value:$.value,issues:$.issues},X)}var PJ=A("$ZodCodec",($,U)=>{Y$.init($,U),V$($._zod,"values",()=>U.in._zod.values),V$($._zod,"optin",()=>U.in._zod.optin),V$($._zod,"optout",()=>U.out._zod.optout),V$($._zod,"propValues",()=>U.in._zod.propValues),$._zod.parse=(X,G)=>{if((G.direction||"forward")==="forward"){let Y=U.in._zod.run(X,G);if(Y instanceof Promise)return Y.then((Q)=>F7(Q,U,G));return F7(Y,U,G)}else{let Y=U.out._zod.run(X,G);if(Y instanceof Promise)return Y.then((Q)=>F7(Q,U,G));return F7(Y,U,G)}}});function F7($,U,X){if($.issues.length)return $.aborted=!0,$;if((X.direction||"forward")==="forward"){let J=U.transform($.value,$);if(J instanceof Promise)return J.then((Y)=>L7($,Y,U.out,X));return L7($,J,U.out,X)}else{let J=U.reverseTransform($.value,$);if(J instanceof Promise)return J.then((Y)=>L7($,Y,U.in,X));return L7($,J,U.in,X)}}function L7($,U,X,G){if($.issues.length)return $.aborted=!0,$;return X._zod.run({value:U,issues:$.issues},G)}var Bz=A("$ZodReadonly",($,U)=>{Y$.init($,U),V$($._zod,"propValues",()=>U.innerType._zod.propValues),V$($._zod,"values",()=>U.innerType._zod.values),V$($._zod,"optin",()=>U.innerType?._zod?.optin),V$($._zod,"optout",()=>U.innerType?._zod?.optout),$._zod.parse=(X,G)=>{if(G.direction==="backward")return U.innerType._zod.run(X,G);let J=U.innerType._zod.run(X,G);if(J instanceof Promise)return J.then(nv);return nv(J)}});function nv($){return $.value=Object.freeze($.value),$}var _z=A("$ZodTemplateLiteral",($,U)=>{Y$.init($,U);let X=[];for(let G of U.parts)if(typeof G==="object"&&G!==null){if(!G._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...G._zod.traits].shift()}`);let J=G._zod.pattern instanceof RegExp?G._zod.pattern.source:G._zod.pattern;if(!J)throw Error(`Invalid template literal part: ${G._zod.traits}`);let Y=J.startsWith("^")?1:0,Q=J.endsWith("$")?J.length-1:J.length;X.push(J.slice(Y,Q))}else if(G===null||KK.has(typeof G))X.push(H4(`${G}`));else throw Error(`Invalid template literal part: ${G}`);$._zod.pattern=new RegExp(`^${X.join("")}$`),$._zod.parse=(G,J)=>{if(typeof G.value!=="string")return G.issues.push({input:G.value,inst:$,expected:"template_literal",code:"invalid_type"}),G;if($._zod.pattern.lastIndex=0,!$._zod.pattern.test(G.value))return G.issues.push({input:G.value,inst:$,code:"invalid_format",format:U.format??"template_literal",pattern:$._zod.pattern.source}),G;return G}}),Mz=A("$ZodFunction",($,U)=>{return Y$.init($,U),$._def=U,$._zod.def=U,$.implement=(X)=>{if(typeof X!=="function")throw Error("implement() must be called with a function");return function(...G){let J=$._def.input?G7($._def.input,G):G,Y=Reflect.apply(X,this,J);if($._def.output)return G7($._def.output,Y);return Y}},$.implementAsync=(X)=>{if(typeof X!=="function")throw Error("implementAsync() must be called with a function");return async function(...G){let J=$._def.input?await Y7($._def.input,G):G,Y=await Reflect.apply(X,this,J);if($._def.output)return await Y7($._def.output,Y);return Y}},$._zod.parse=(X,G)=>{if(typeof X.value!=="function")return X.issues.push({code:"invalid_type",expected:"function",input:X.value,inst:$}),X;if($._def.output&&$._def.output._zod.def.type==="promise")X.value=$.implementAsync(X.value);else X.value=$.implement(X.value);return X},$.input=(...X)=>{let G=$.constructor;if(Array.isArray(X[0]))return new G({type:"function",input:new E7({type:"tuple",items:X[0],rest:X[1]}),output:$._def.output});return new G({type:"function",input:X[0],output:$._def.output})},$.output=(X)=>{return new $.constructor({type:"function",input:$._def.input,output:X})},$}),Fz=A("$ZodPromise",($,U)=>{Y$.init($,U),$._zod.parse=(X,G)=>{return Promise.resolve(X.value).then((J)=>U.innerType._zod.run({value:J,issues:[]},G))}}),Lz=A("$ZodLazy",($,U)=>{Y$.init($,U),V$($._zod,"innerType",()=>U.getter()),V$($._zod,"pattern",()=>$._zod.innerType?._zod?.pattern),V$($._zod,"propValues",()=>$._zod.innerType?._zod?.propValues),V$($._zod,"optin",()=>$._zod.innerType?._zod?.optin??void 0),V$($._zod,"optout",()=>$._zod.innerType?._zod?.optout??void 0),$._zod.parse=(X,G)=>{return $._zod.innerType._zod.run(X,G)}}),Az=A("$ZodCustom",($,U)=>{g$.init($,U),Y$.init($,U),$._zod.parse=(X,G)=>{return X},$._zod.check=(X)=>{let G=X.value,J=U.fn(G);if(J instanceof Promise)return J.then((Y)=>pv(Y,X,G,$));pv(J,X,G,$);return}});function pv($,U,X,G){if(!$){let J={code:"custom",input:X,inst:G,path:[...G._zod.def.path??[]],continue:!G._zod.def.abort};if(G._zod.def.params)J.params=G._zod.def.params;U.issues.push(J2(J))}}var TJ={};H6(TJ,{zhTW:()=>WD,zhCN:()=>HD,yo:()=>KD,vi:()=>jD,ur:()=>ND,uk:()=>RJ,ua:()=>wD,tr:()=>QD,th:()=>YD,ta:()=>GD,sv:()=>XD,sl:()=>JD,ru:()=>UD,pt:()=>$D,ps:()=>sz,pl:()=>ez,ota:()=>az,no:()=>tz,nl:()=>rz,ms:()=>oz,mk:()=>dz,lt:()=>pz,ko:()=>nz,km:()=>SJ,kh:()=>iz,ka:()=>cz,ja:()=>lz,it:()=>yz,is:()=>uz,id:()=>mz,hu:()=>bz,he:()=>gz,frCA:()=>hz,fr:()=>fz,fi:()=>xz,fa:()=>Cz,es:()=>kz,eo:()=>Tz,en:()=>EJ,de:()=>Rz,da:()=>Iz,cs:()=>Zz,ca:()=>Sz,bg:()=>Ez,be:()=>Pz,az:()=>vz,ar:()=>qz});var zc=()=>{let $={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return(J)=>{switch(J.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${J.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${b(J.values[0])}`;return`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${J.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${Y} ${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631"}`;return`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${J.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${J.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${J.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${J.prefix}"`;if(Y.format==="ends_with")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${Y.suffix}"`;if(Y.format==="includes")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${Y.includes}"`;if(Y.format==="regex")return`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${Y.pattern}`;return`${G[Y.format]??J.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${J.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${J.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${J.keys.length>1?"\u0629":""}: ${Z(J.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${J.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${J.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function qz(){return{localeError:zc()}}var Dc=()=>{let $={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${J.expected}, daxil olan ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${b(J.values[0])}`;return`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${J.origin??"d\u0259y\u0259r"} ${Y}${J.maximum.toString()} ${Q.unit??"element"}`;return`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${J.origin??"d\u0259y\u0259r"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Yanl\u0131\u015F m\u0259tn: "${Y.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;if(Y.format==="ends_with")return`Yanl\u0131\u015F m\u0259tn: "${Y.suffix}" il\u0259 bitm\u0259lidir`;if(Y.format==="includes")return`Yanl\u0131\u015F m\u0259tn: "${Y.includes}" daxil olmal\u0131d\u0131r`;if(Y.format==="regex")return`Yanl\u0131\u015F m\u0259tn: ${Y.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;return`Yanl\u0131\u015F ${G[Y.format]??J.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${J.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${J.keys.length>1?"lar":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`${J.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${J.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function vz(){return{localeError:Dc()}}function sv($,U,X,G){let J=Math.abs($),Y=J%10,Q=J%100;if(Q>=11&&Q<=19)return G;if(Y===1)return U;if(Y>=2&&Y<=4)return X;return G}var Vc=()=>{let $={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0456\u045E";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${J.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${b(J.values[0])}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q){let w=Number(J.maximum),N=sv(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${Q.verb} ${Y}${J.maximum.toString()} ${N}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q){let w=Number(J.minimum),N=sv(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${Q.verb} ${Y}${J.minimum.toString()} ${N}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${J.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${J.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${Z(J.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${J.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${J.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function Pz(){return{localeError:Vc()}}var Bc=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray($))return"\u043C\u0430\u0441\u0438\u0432";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},_c=()=>{let $={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function U(G){return $[G]??null}let X={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return(G)=>{switch(G.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${G.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${Bc(G.input)}`;case"invalid_value":if(G.values.length===1)return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${b(G.values[0])}`;return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${Z(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${G.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${J}${G.maximum.toString()} ${Y.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`;return`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${G.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${G.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${J}${G.minimum.toString()} ${Y.unit}`;return`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${G.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${J.prefix}"`;if(J.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${J.suffix}"`;if(J.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${J.includes}"`;if(J.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${J.pattern}`;let Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";if(J.format==="emoji")Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if(J.format==="datetime")Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if(J.format==="date")Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430";if(J.format==="time")Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E";if(J.format==="duration")Y="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430";return`${Y} ${X[J.format]??G.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${G.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${G.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${G.keys.length>1?"\u043E\u0432\u0435":""}: ${Z(G.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${G.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${G.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function Ez(){return{localeError:_c()}}var Mc=()=>{let $={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(J)=>{switch(J.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${J.expected}, s'ha rebut ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Valor inv\xE0lid: s'esperava ${b(J.values[0])}`;return`Opci\xF3 inv\xE0lida: s'esperava una de ${Z(J.values," o ")}`;case"too_big":{let Y=J.inclusive?"com a m\xE0xim":"menys de",Q=U(J.origin);if(Q)return`Massa gran: s'esperava que ${J.origin??"el valor"} contingu\xE9s ${Y} ${J.maximum.toString()} ${Q.unit??"elements"}`;return`Massa gran: s'esperava que ${J.origin??"el valor"} fos ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"com a m\xEDnim":"m\xE9s de",Q=U(J.origin);if(Q)return`Massa petit: s'esperava que ${J.origin} contingu\xE9s ${Y} ${J.minimum.toString()} ${Q.unit}`;return`Massa petit: s'esperava que ${J.origin} fos ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Format inv\xE0lid: ha de comen\xE7ar amb "${Y.prefix}"`;if(Y.format==="ends_with")return`Format inv\xE0lid: ha d'acabar amb "${Y.suffix}"`;if(Y.format==="includes")return`Format inv\xE0lid: ha d'incloure "${Y.includes}"`;if(Y.format==="regex")return`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${Y.pattern}`;return`Format inv\xE0lid per a ${G[Y.format]??J.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${J.divisor}`;case"unrecognized_keys":return`Clau${J.keys.length>1?"s":""} no reconeguda${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${J.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${J.origin}`;default:return"Entrada inv\xE0lida"}}};function Sz(){return{localeError:Mc()}}var Fc=()=>{let $={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(J))return"pole";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return(J)=>{switch(J.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${J.expected}, obdr\u017Eeno ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${b(J.values[0])}`;return`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${J.origin??"hodnota"} mus\xED m\xEDt ${Y}${J.maximum.toString()} ${Q.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${J.origin??"hodnota"} mus\xED b\xFDt ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${J.origin??"hodnota"} mus\xED m\xEDt ${Y}${J.minimum.toString()} ${Q.unit??"prvk\u016F"}`;return`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${J.origin??"hodnota"} mus\xED b\xFDt ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${Y.prefix}"`;if(Y.format==="ends_with")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${Y.suffix}"`;if(Y.format==="includes")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${Y.includes}"`;if(Y.format==="regex")return`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${Y.pattern}`;return`Neplatn\xFD form\xE1t ${G[Y.format]??J.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${J.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${Z(J.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${J.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${J.origin}`;default:return"Neplatn\xFD vstup"}}};function Zz(){return{localeError:Fc()}}var Lc=()=>{let $={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},U={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function X(Q){return $[Q]??null}function G(Q){return U[Q]??Q}let J=(Q)=>{let w=typeof Q;switch(w){case"number":return Number.isNaN(Q)?"NaN":"tal";case"object":{if(Array.isArray(Q))return"liste";if(Q===null)return"null";if(Object.getPrototypeOf(Q)!==Object.prototype&&Q.constructor)return Q.constructor.name;return"objekt"}}return w},Y={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(Q)=>{switch(Q.code){case"invalid_type":return`Ugyldigt input: forventede ${G(Q.expected)}, fik ${G(J(Q.input))}`;case"invalid_value":if(Q.values.length===1)return`Ugyldig v\xE6rdi: forventede ${b(Q.values[0])}`;return`Ugyldigt valg: forventede en af f\xF8lgende ${Z(Q.values,"|")}`;case"too_big":{let w=Q.inclusive?"<=":"<",N=X(Q.origin),j=G(Q.origin);if(N)return`For stor: forventede ${j??"value"} ${N.verb} ${w} ${Q.maximum.toString()} ${N.unit??"elementer"}`;return`For stor: forventede ${j??"value"} havde ${w} ${Q.maximum.toString()}`}case"too_small":{let w=Q.inclusive?">=":">",N=X(Q.origin),j=G(Q.origin);if(N)return`For lille: forventede ${j} ${N.verb} ${w} ${Q.minimum.toString()} ${N.unit}`;return`For lille: forventede ${j} havde ${w} ${Q.minimum.toString()}`}case"invalid_format":{let w=Q;if(w.format==="starts_with")return`Ugyldig streng: skal starte med "${w.prefix}"`;if(w.format==="ends_with")return`Ugyldig streng: skal ende med "${w.suffix}"`;if(w.format==="includes")return`Ugyldig streng: skal indeholde "${w.includes}"`;if(w.format==="regex")return`Ugyldig streng: skal matche m\xF8nsteret ${w.pattern}`;return`Ugyldig ${Y[w.format]??Q.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${Q.divisor}`;case"unrecognized_keys":return`${Q.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${Z(Q.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${Q.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${Q.origin}`;default:return"Ugyldigt input"}}};function Iz(){return{localeError:Lc()}}var Ac=()=>{let $={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"Zahl";case"object":{if(Array.isArray(J))return"Array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return(J)=>{switch(J.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${J.expected}, erhalten ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ung\xFCltige Eingabe: erwartet ${b(J.values[0])}`;return`Ung\xFCltige Option: erwartet eine von ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Zu gro\xDF: erwartet, dass ${J.origin??"Wert"} ${Y}${J.maximum.toString()} ${Q.unit??"Elemente"} hat`;return`Zu gro\xDF: erwartet, dass ${J.origin??"Wert"} ${Y}${J.maximum.toString()} ist`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Zu klein: erwartet, dass ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit} hat`;return`Zu klein: erwartet, dass ${J.origin} ${Y}${J.minimum.toString()} ist`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ung\xFCltiger String: muss mit "${Y.prefix}" beginnen`;if(Y.format==="ends_with")return`Ung\xFCltiger String: muss mit "${Y.suffix}" enden`;if(Y.format==="includes")return`Ung\xFCltiger String: muss "${Y.includes}" enthalten`;if(Y.format==="regex")return`Ung\xFCltiger String: muss dem Muster ${Y.pattern} entsprechen`;return`Ung\xFCltig: ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${J.divisor} sein`;case"unrecognized_keys":return`${J.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${Z(J.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${J.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${J.origin}`;default:return"Ung\xFCltige Eingabe"}}};function Rz(){return{localeError:Ac()}}var qc=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},vc=()=>{let $={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function U(G){return $[G]??null}let X={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(G)=>{switch(G.code){case"invalid_type":return`Invalid input: expected ${G.expected}, received ${qc(G.input)}`;case"invalid_value":if(G.values.length===1)return`Invalid input: expected ${b(G.values[0])}`;return`Invalid option: expected one of ${Z(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`Too big: expected ${G.origin??"value"} to have ${J}${G.maximum.toString()} ${Y.unit??"elements"}`;return`Too big: expected ${G.origin??"value"} to be ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`Too small: expected ${G.origin} to have ${J}${G.minimum.toString()} ${Y.unit}`;return`Too small: expected ${G.origin} to be ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Invalid string: must start with "${J.prefix}"`;if(J.format==="ends_with")return`Invalid string: must end with "${J.suffix}"`;if(J.format==="includes")return`Invalid string: must include "${J.includes}"`;if(J.format==="regex")return`Invalid string: must match pattern ${J.pattern}`;return`Invalid ${X[J.format]??G.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${G.divisor}`;case"unrecognized_keys":return`Unrecognized key${G.keys.length>1?"s":""}: ${Z(G.keys,", ")}`;case"invalid_key":return`Invalid key in ${G.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${G.origin}`;default:return"Invalid input"}}};function EJ(){return{localeError:vc()}}var Pc=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"nombro";case"object":{if(Array.isArray($))return"tabelo";if($===null)return"senvalora";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},Ec=()=>{let $={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function U(G){return $[G]??null}let X={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return(G)=>{switch(G.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${G.expected}, ricevi\u011Dis ${Pc(G.input)}`;case"invalid_value":if(G.values.length===1)return`Nevalida enigo: atendi\u011Dis ${b(G.values[0])}`;return`Nevalida opcio: atendi\u011Dis unu el ${Z(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`Tro granda: atendi\u011Dis ke ${G.origin??"valoro"} havu ${J}${G.maximum.toString()} ${Y.unit??"elementojn"}`;return`Tro granda: atendi\u011Dis ke ${G.origin??"valoro"} havu ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`Tro malgranda: atendi\u011Dis ke ${G.origin} havu ${J}${G.minimum.toString()} ${Y.unit}`;return`Tro malgranda: atendi\u011Dis ke ${G.origin} estu ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Nevalida karaktraro: devas komenci\u011Di per "${J.prefix}"`;if(J.format==="ends_with")return`Nevalida karaktraro: devas fini\u011Di per "${J.suffix}"`;if(J.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${J.includes}"`;if(J.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${J.pattern}`;return`Nevalida ${X[J.format]??G.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${G.divisor}`;case"unrecognized_keys":return`Nekonata${G.keys.length>1?"j":""} \u015Dlosilo${G.keys.length>1?"j":""}: ${Z(G.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${G.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${G.origin}`;default:return"Nevalida enigo"}}};function Tz(){return{localeError:Ec()}}var Sc=()=>{let $={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},U={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function X(Q){return $[Q]??null}function G(Q){return U[Q]??Q}let J=(Q)=>{let w=typeof Q;switch(w){case"number":return Number.isNaN(Q)?"NaN":"number";case"object":{if(Array.isArray(Q))return"array";if(Q===null)return"null";if(Object.getPrototypeOf(Q)!==Object.prototype)return Q.constructor.name;return"object"}}return w},Y={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(Q)=>{switch(Q.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${G(Q.expected)}, recibido ${G(J(Q.input))}`;case"invalid_value":if(Q.values.length===1)return`Entrada inv\xE1lida: se esperaba ${b(Q.values[0])}`;return`Opci\xF3n inv\xE1lida: se esperaba una de ${Z(Q.values,"|")}`;case"too_big":{let w=Q.inclusive?"<=":"<",N=X(Q.origin),j=G(Q.origin);if(N)return`Demasiado grande: se esperaba que ${j??"valor"} tuviera ${w}${Q.maximum.toString()} ${N.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${j??"valor"} fuera ${w}${Q.maximum.toString()}`}case"too_small":{let w=Q.inclusive?">=":">",N=X(Q.origin),j=G(Q.origin);if(N)return`Demasiado peque\xF1o: se esperaba que ${j} tuviera ${w}${Q.minimum.toString()} ${N.unit}`;return`Demasiado peque\xF1o: se esperaba que ${j} fuera ${w}${Q.minimum.toString()}`}case"invalid_format":{let w=Q;if(w.format==="starts_with")return`Cadena inv\xE1lida: debe comenzar con "${w.prefix}"`;if(w.format==="ends_with")return`Cadena inv\xE1lida: debe terminar en "${w.suffix}"`;if(w.format==="includes")return`Cadena inv\xE1lida: debe incluir "${w.includes}"`;if(w.format==="regex")return`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${w.pattern}`;return`Inv\xE1lido ${Y[w.format]??Q.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${Q.divisor}`;case"unrecognized_keys":return`Llave${Q.keys.length>1?"s":""} desconocida${Q.keys.length>1?"s":""}: ${Z(Q.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${G(Q.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${G(Q.origin)}`;default:return"Entrada inv\xE1lida"}}};function kz(){return{localeError:Sc()}}var Zc=()=>{let $={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(J))return"\u0622\u0631\u0627\u06CC\u0647";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return(J)=>{switch(J.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${J.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${X(J.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":if(J.values.length===1)return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${b(J.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;return`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${Z(J.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${J.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${J.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} ${Q.unit} \u0628\u0627\u0634\u062F`;return`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${Y.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;if(Y.format==="ends_with")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${Y.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;if(Y.format==="includes")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${Y.includes}" \u0628\u0627\u0634\u062F`;if(Y.format==="regex")return`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${Y.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;return`${G[Y.format]??J.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${J.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${J.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${Z(J.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${J.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${J.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function Cz(){return{localeError:Zc()}}var Ic=()=>{let $={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return(J)=>{switch(J.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${J.expected}, oli ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Virheellinen sy\xF6te: t\xE4ytyy olla ${b(J.values[0])}`;return`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Liian suuri: ${Q.subject} t\xE4ytyy olla ${Y}${J.maximum.toString()} ${Q.unit}`.trim();return`Liian suuri: arvon t\xE4ytyy olla ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Liian pieni: ${Q.subject} t\xE4ytyy olla ${Y}${J.minimum.toString()} ${Q.unit}`.trim();return`Liian pieni: arvon t\xE4ytyy olla ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${Y.prefix}"`;if(Y.format==="ends_with")return`Virheellinen sy\xF6te: t\xE4ytyy loppua "${Y.suffix}"`;if(Y.format==="includes")return`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${Y.includes}"`;if(Y.format==="regex")return`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${Y.pattern}`;return`Virheellinen ${G[Y.format]??J.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${J.divisor} monikerta`;case"unrecognized_keys":return`${J.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Z(J.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function xz(){return{localeError:Ic()}}var Rc=()=>{let $={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"nombre";case"object":{if(Array.isArray(J))return"tableau";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return(J)=>{switch(J.code){case"invalid_type":return`Entr\xE9e invalide : ${J.expected} attendu, ${X(J.input)} re\xE7u`;case"invalid_value":if(J.values.length===1)return`Entr\xE9e invalide : ${b(J.values[0])} attendu`;return`Option invalide : une valeur parmi ${Z(J.values,"|")} attendue`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Trop grand : ${J.origin??"valeur"} doit ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"\xE9l\xE9ment(s)"}`;return`Trop grand : ${J.origin??"valeur"} doit \xEAtre ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Trop petit : ${J.origin} doit ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Trop petit : ${J.origin} doit \xEAtre ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${Y.prefix}"`;if(Y.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${Y.suffix}"`;if(Y.format==="includes")return`Cha\xEEne invalide : doit inclure "${Y.includes}"`;if(Y.format==="regex")return`Cha\xEEne invalide : doit correspondre au mod\xE8le ${Y.pattern}`;return`${G[Y.format]??J.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${J.divisor}`;case"unrecognized_keys":return`Cl\xE9${J.keys.length>1?"s":""} non reconnue${J.keys.length>1?"s":""} : ${Z(J.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${J.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${J.origin}`;default:return"Entr\xE9e invalide"}}};function fz(){return{localeError:Rc()}}var Tc=()=>{let $={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return(J)=>{switch(J.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${J.expected}, re\xE7u ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Entr\xE9e invalide : attendu ${b(J.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"\u2264":"<",Q=U(J.origin);if(Q)return`Trop grand : attendu que ${J.origin??"la valeur"} ait ${Y}${J.maximum.toString()} ${Q.unit}`;return`Trop grand : attendu que ${J.origin??"la valeur"} soit ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"\u2265":">",Q=U(J.origin);if(Q)return`Trop petit : attendu que ${J.origin} ait ${Y}${J.minimum.toString()} ${Q.unit}`;return`Trop petit : attendu que ${J.origin} soit ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Cha\xEEne invalide : doit commencer par "${Y.prefix}"`;if(Y.format==="ends_with")return`Cha\xEEne invalide : doit se terminer par "${Y.suffix}"`;if(Y.format==="includes")return`Cha\xEEne invalide : doit inclure "${Y.includes}"`;if(Y.format==="regex")return`Cha\xEEne invalide : doit correspondre au motif ${Y.pattern}`;return`${G[Y.format]??J.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${J.divisor}`;case"unrecognized_keys":return`Cl\xE9${J.keys.length>1?"s":""} non reconnue${J.keys.length>1?"s":""} : ${Z(J.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${J.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${J.origin}`;default:return"Entr\xE9e invalide"}}};function hz(){return{localeError:Tc()}}var kc=()=>{let $={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},U={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},X=(j)=>j?$[j]:void 0,G=(j)=>{let H=X(j);if(H)return H.label;return j??$.unknown.label},J=(j)=>`\u05D4${G(j)}`,Y=(j)=>{return(X(j)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA"},Q=(j)=>{if(!j)return null;return U[j]??null},w=(j)=>{let H=typeof j;switch(H){case"number":return Number.isNaN(j)?"NaN":"number";case"object":{if(Array.isArray(j))return"array";if(j===null)return"null";if(Object.getPrototypeOf(j)!==Object.prototype&&j.constructor)return j.constructor.name;return"object"}default:return H}},N={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return(j)=>{switch(j.code){case"invalid_type":{let H=j.expected,K=G(H),z=w(j.input),W=$[z]?.label??z;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${K}, \u05D4\u05EA\u05E7\u05D1\u05DC ${W}`}case"invalid_value":{if(j.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${b(j.values[0])}`;let H=j.values.map((W)=>b(W));if(j.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${H[0]} \u05D0\u05D5 ${H[1]}`;let K=H[H.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${H.slice(0,-1).join(", ")} \u05D0\u05D5 ${K}`}case"too_big":{let H=Q(j.origin),K=J(j.origin??"value");if(j.origin==="string")return`${H?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${K} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${j.maximum.toString()} ${H?.unit??""} ${j.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(j.origin==="number"){let O=j.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${j.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${j.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${K} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${O}`}if(j.origin==="array"||j.origin==="set"){let O=j.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",D=j.inclusive?`${j.maximum} ${H?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${j.maximum} ${H?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${K} ${O} \u05DC\u05D4\u05DB\u05D9\u05DC ${D}`.trim()}let z=j.inclusive?"<=":"<",W=Y(j.origin??"value");if(H?.unit)return`${H.longLabel} \u05DE\u05D3\u05D9: ${K} ${W} ${z}${j.maximum.toString()} ${H.unit}`;return`${H?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${K} ${W} ${z}${j.maximum.toString()}`}case"too_small":{let H=Q(j.origin),K=J(j.origin??"value");if(j.origin==="string")return`${H?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${K} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${j.minimum.toString()} ${H?.unit??""} ${j.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(j.origin==="number"){let O=j.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${j.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${j.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${K} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${O}`}if(j.origin==="array"||j.origin==="set"){let O=j.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(j.minimum===1&&j.inclusive){let B=j.origin==="set"?"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3":"\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3";return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${K} ${O} \u05DC\u05D4\u05DB\u05D9\u05DC ${B}`}let D=j.inclusive?`${j.minimum} ${H?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${j.minimum} ${H?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${K} ${O} \u05DC\u05D4\u05DB\u05D9\u05DC ${D}`.trim()}let z=j.inclusive?">=":">",W=Y(j.origin??"value");if(H?.unit)return`${H.shortLabel} \u05DE\u05D3\u05D9: ${K} ${W} ${z}${j.minimum.toString()} ${H.unit}`;return`${H?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${K} ${W} ${z}${j.minimum.toString()}`}case"invalid_format":{let H=j;if(H.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${H.prefix}"`;if(H.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${H.suffix}"`;if(H.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${H.includes}"`;if(H.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${H.pattern}`;let K=N[H.format],z=K?.label??H.format,O=(K?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${z} \u05DC\u05D0 ${O}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${j.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${j.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${j.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${Z(j.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${J(j.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function gz(){return{localeError:kc()}}var Cc=()=>{let $={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(J))return"t\xF6mb";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return(J)=>{switch(J.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${J.expected}, a kapott \xE9rt\xE9k ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${b(J.values[0])}`;return`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`T\xFAl nagy: ${J.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${Y}${J.maximum.toString()} ${Q.unit??"elem"}`;return`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${J.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${J.origin} m\xE9rete t\xFAl kicsi ${Y}${J.minimum.toString()} ${Q.unit}`;return`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${J.origin} t\xFAl kicsi ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\xC9rv\xE9nytelen string: "${Y.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;if(Y.format==="ends_with")return`\xC9rv\xE9nytelen string: "${Y.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;if(Y.format==="includes")return`\xC9rv\xE9nytelen string: "${Y.includes}" \xE9rt\xE9ket kell tartalmaznia`;if(Y.format==="regex")return`\xC9rv\xE9nytelen string: ${Y.pattern} mint\xE1nak kell megfelelnie`;return`\xC9rv\xE9nytelen ${G[Y.format]??J.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${J.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${J.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${J.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function bz(){return{localeError:Cc()}}var xc=()=>{let $={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input tidak valid: diharapkan ${J.expected}, diterima ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input tidak valid: diharapkan ${b(J.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Terlalu besar: diharapkan ${J.origin??"value"} memiliki ${Y}${J.maximum.toString()} ${Q.unit??"elemen"}`;return`Terlalu besar: diharapkan ${J.origin??"value"} menjadi ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Terlalu kecil: diharapkan ${J.origin} memiliki ${Y}${J.minimum.toString()} ${Q.unit}`;return`Terlalu kecil: diharapkan ${J.origin} menjadi ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`String tidak valid: harus dimulai dengan "${Y.prefix}"`;if(Y.format==="ends_with")return`String tidak valid: harus berakhir dengan "${Y.suffix}"`;if(Y.format==="includes")return`String tidak valid: harus menyertakan "${Y.includes}"`;if(Y.format==="regex")return`String tidak valid: harus sesuai pola ${Y.pattern}`;return`${G[Y.format]??J.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${J.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${J.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${J.origin}`;default:return"Input tidak valid"}}};function mz(){return{localeError:xc()}}var fc=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"n\xFAmer";case"object":{if(Array.isArray($))return"fylki";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},hc=()=>{let $={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function U(G){return $[G]??null}let X={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return(G)=>{switch(G.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${fc(G.input)} \xFEar sem \xE1 a\xF0 vera ${G.expected}`;case"invalid_value":if(G.values.length===1)return`Rangt gildi: gert r\xE1\xF0 fyrir ${b(G.values[0])}`;return`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${Z(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${G.origin??"gildi"} hafi ${J}${G.maximum.toString()} ${Y.unit??"hluti"}`;return`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${G.origin??"gildi"} s\xE9 ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${G.origin} hafi ${J}${G.minimum.toString()} ${Y.unit}`;return`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${G.origin} s\xE9 ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${J.prefix}"`;if(J.format==="ends_with")return`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${J.suffix}"`;if(J.format==="includes")return`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${J.includes}"`;if(J.format==="regex")return`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${J.pattern}`;return`Rangt ${X[J.format]??G.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${G.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${G.keys.length>1?"ir lyklar":"ur lykill"}: ${Z(G.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${G.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${G.origin}`;default:return"Rangt gildi"}}};function uz(){return{localeError:hc()}}var gc=()=>{let $={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"numero";case"object":{if(Array.isArray(J))return"vettore";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input non valido: atteso ${J.expected}, ricevuto ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input non valido: atteso ${b(J.values[0])}`;return`Opzione non valida: atteso uno tra ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Troppo grande: ${J.origin??"valore"} deve avere ${Y}${J.maximum.toString()} ${Q.unit??"elementi"}`;return`Troppo grande: ${J.origin??"valore"} deve essere ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Troppo piccolo: ${J.origin} deve avere ${Y}${J.minimum.toString()} ${Q.unit}`;return`Troppo piccolo: ${J.origin} deve essere ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Stringa non valida: deve iniziare con "${Y.prefix}"`;if(Y.format==="ends_with")return`Stringa non valida: deve terminare con "${Y.suffix}"`;if(Y.format==="includes")return`Stringa non valida: deve includere "${Y.includes}"`;if(Y.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${Y.pattern}`;return`Invalid ${G[Y.format]??J.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${J.divisor}`;case"unrecognized_keys":return`Chiav${J.keys.length>1?"i":"e"} non riconosciut${J.keys.length>1?"e":"a"}: ${Z(J.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${J.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${J.origin}`;default:return"Input non valido"}}};function yz(){return{localeError:gc()}}var bc=()=>{let $={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(J))return"\u914D\u5217";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return(J)=>{switch(J.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${J.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${X(J.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":if(J.values.length===1)return`\u7121\u52B9\u306A\u5165\u529B: ${b(J.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;return`\u7121\u52B9\u306A\u9078\u629E: ${Z(J.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let Y=J.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",Q=U(J.origin);if(Q)return`\u5927\u304D\u3059\u304E\u308B\u5024: ${J.origin??"\u5024"}\u306F${J.maximum.toString()}${Q.unit??"\u8981\u7D20"}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5927\u304D\u3059\u304E\u308B\u5024: ${J.origin??"\u5024"}\u306F${J.maximum.toString()}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let Y=J.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",Q=U(J.origin);if(Q)return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${J.origin}\u306F${J.minimum.toString()}${Q.unit}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${J.origin}\u306F${J.minimum.toString()}${Y}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="ends_with")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="includes")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${Y.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;if(Y.format==="regex")return`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${Y.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;return`\u7121\u52B9\u306A${G[Y.format]??J.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${J.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${J.keys.length>1?"\u7FA4":""}: ${Z(J.keys,"\u3001")}`;case"invalid_key":return`${J.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${J.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function lz(){return{localeError:bc()}}var mc=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray($))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[U]??U},uc=()=>{let $={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function U(G){return $[G]??null}let X={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return(G)=>{switch(G.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${G.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${mc(G.input)}`;case"invalid_value":if(G.values.length===1)return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${b(G.values[0])}`;return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${Z(G.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${G.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${Y.verb} ${J}${G.maximum.toString()} ${Y.unit}`;return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${G.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${G.origin} ${Y.verb} ${J}${G.minimum.toString()} ${Y.unit}`;return`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${G.origin} \u10D8\u10E7\u10DD\u10E1 ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${J.prefix}"-\u10D8\u10D7`;if(J.format==="ends_with")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${J.suffix}"-\u10D8\u10D7`;if(J.format==="includes")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${J.includes}"-\u10E1`;if(J.format==="regex")return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${J.pattern}`;return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${X[J.format]??G.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${G.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${G.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${Z(G.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${G.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${G.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function cz(){return{localeError:uc()}}var yc=()=>{let $={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(J))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(J===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return(J)=>{switch(J.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${b(J.values[0])}`;return`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${Y} ${J.maximum.toString()} ${Q.unit??"\u1792\u17B6\u178F\u17BB"}`;return`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin} ${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${J.origin} ${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${Y.suffix}"`;if(Y.format==="includes")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${Y.includes}"`;if(Y.format==="regex")return`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${Y.pattern}`;return`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${J.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${Z(J.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${J.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${J.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function SJ(){return{localeError:yc()}}function iz(){return SJ()}var lc=()=>{let $={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return(J)=>{switch(J.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${J.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${X(J.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":if(J.values.length===1)return`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${b(J.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C \uC635\uC158: ${Z(J.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let Y=J.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",Q=Y==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",w=U(J.origin),N=w?.unit??"\uC694\uC18C";if(w)return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${J.maximum.toString()}${N} ${Y}${Q}`;return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${J.maximum.toString()} ${Y}${Q}`}case"too_small":{let Y=J.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",Q=Y==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",w=U(J.origin),N=w?.unit??"\uC694\uC18C";if(w)return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${J.minimum.toString()}${N} ${Y}${Q}`;return`${J.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${J.minimum.toString()} ${Y}${Q}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="ends_with")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="includes")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${Y.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;if(Y.format==="regex")return`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${Y.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;return`\uC798\uBABB\uB41C ${G[Y.format]??J.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${J.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${Z(J.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${J.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${J.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function nz(){return{localeError:lc()}}var cc=($)=>{return IJ(typeof $,$)},IJ=($,U=void 0)=>{switch($){case"number":return Number.isNaN(U)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":{if(U===void 0)return"ne\u017Einomas objektas";if(U===null)return"nulin\u0117 reik\u0161m\u0117";if(Array.isArray(U))return"masyvas";if(Object.getPrototypeOf(U)!==Object.prototype&&U.constructor)return U.constructor.name;return"objektas"}case"null":return"nulin\u0117 reik\u0161m\u0117"}return $},ZJ=($)=>{return $.charAt(0).toUpperCase()+$.slice(1)};function ev($){let U=Math.abs($),X=U%10,G=U%100;if(G>=11&&G<=19||X===0)return"many";if(X===1)return"one";return"few"}var ic=()=>{let $={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function U(G,J,Y,Q){let w=$[G]??null;if(w===null)return w;return{unit:w.unit[J],verb:w.verb[Q][Y?"inclusive":"notInclusive"]}}let X={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return(G)=>{switch(G.code){case"invalid_type":return`Gautas tipas ${cc(G.input)}, o tik\u0117tasi - ${IJ(G.expected)}`;case"invalid_value":if(G.values.length===1)return`Privalo b\u016Bti ${b(G.values[0])}`;return`Privalo b\u016Bti vienas i\u0161 ${Z(G.values,"|")} pasirinkim\u0173`;case"too_big":{let J=IJ(G.origin),Y=U(G.origin,ev(Number(G.maximum)),G.inclusive??!1,"smaller");if(Y?.verb)return`${ZJ(J??G.origin??"reik\u0161m\u0117")} ${Y.verb} ${G.maximum.toString()} ${Y.unit??"element\u0173"}`;let Q=G.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${ZJ(J??G.origin??"reik\u0161m\u0117")} turi b\u016Bti ${Q} ${G.maximum.toString()} ${Y?.unit}`}case"too_small":{let J=IJ(G.origin),Y=U(G.origin,ev(Number(G.minimum)),G.inclusive??!1,"bigger");if(Y?.verb)return`${ZJ(J??G.origin??"reik\u0161m\u0117")} ${Y.verb} ${G.minimum.toString()} ${Y.unit??"element\u0173"}`;let Q=G.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${ZJ(J??G.origin??"reik\u0161m\u0117")} turi b\u016Bti ${Q} ${G.minimum.toString()} ${Y?.unit}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Eilut\u0117 privalo prasid\u0117ti "${J.prefix}"`;if(J.format==="ends_with")return`Eilut\u0117 privalo pasibaigti "${J.suffix}"`;if(J.format==="includes")return`Eilut\u0117 privalo \u012Ftraukti "${J.includes}"`;if(J.format==="regex")return`Eilut\u0117 privalo atitikti ${J.pattern}`;return`Neteisingas ${X[J.format]??G.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${G.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${G.keys.length>1?"i":"as"} rakt${G.keys.length>1?"ai":"as"}: ${Z(G.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let J=IJ(G.origin);return`${ZJ(J??G.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};function pz(){return{localeError:ic()}}var nc=()=>{let $={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(J))return"\u043D\u0438\u0437\u0430";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return(J)=>{switch(J.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Invalid input: expected ${b(J.values[0])}`;return`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${Y}${J.maximum.toString()} ${Q.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin} \u0434\u0430 \u0438\u043C\u0430 ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${J.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${Y.pattern}`;return`Invalid ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${Z(J.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${J.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${J.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function dz(){return{localeError:nc()}}var pc=()=>{let $={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"nombor";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Input tidak sah: dijangka ${J.expected}, diterima ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Input tidak sah: dijangka ${b(J.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Terlalu besar: dijangka ${J.origin??"nilai"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"elemen"}`;return`Terlalu besar: dijangka ${J.origin??"nilai"} adalah ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Terlalu kecil: dijangka ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Terlalu kecil: dijangka ${J.origin} adalah ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`String tidak sah: mesti bermula dengan "${Y.prefix}"`;if(Y.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${Y.suffix}"`;if(Y.format==="includes")return`String tidak sah: mesti mengandungi "${Y.includes}"`;if(Y.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${Y.pattern}`;return`${G[Y.format]??J.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${J.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Z(J.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${J.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${J.origin}`;default:return"Input tidak sah"}}};function oz(){return{localeError:pc()}}var dc=()=>{let $={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"getal";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return(J)=>{switch(J.code){case"invalid_type":return`Ongeldige invoer: verwacht ${J.expected}, ontving ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ongeldige invoer: verwacht ${b(J.values[0])}`;return`Ongeldige optie: verwacht \xE9\xE9n van ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Te groot: verwacht dat ${J.origin??"waarde"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"elementen"}`;return`Te groot: verwacht dat ${J.origin??"waarde"} ${Y}${J.maximum.toString()} is`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Te klein: verwacht dat ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Te klein: verwacht dat ${J.origin} ${Y}${J.minimum.toString()} is`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ongeldige tekst: moet met "${Y.prefix}" beginnen`;if(Y.format==="ends_with")return`Ongeldige tekst: moet op "${Y.suffix}" eindigen`;if(Y.format==="includes")return`Ongeldige tekst: moet "${Y.includes}" bevatten`;if(Y.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${Y.pattern}`;return`Ongeldig: ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${J.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${J.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${J.origin}`;default:return"Ongeldige invoer"}}};function rz(){return{localeError:dc()}}var oc=()=>{let $={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"tall";case"object":{if(Array.isArray(J))return"liste";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`Ugyldig input: forventet ${J.expected}, fikk ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ugyldig verdi: forventet ${b(J.values[0])}`;return`Ugyldig valg: forventet en av ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`For stor(t): forventet ${J.origin??"value"} til \xE5 ha ${Y}${J.maximum.toString()} ${Q.unit??"elementer"}`;return`For stor(t): forventet ${J.origin??"value"} til \xE5 ha ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`For lite(n): forventet ${J.origin} til \xE5 ha ${Y}${J.minimum.toString()} ${Q.unit}`;return`For lite(n): forventet ${J.origin} til \xE5 ha ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ugyldig streng: m\xE5 starte med "${Y.prefix}"`;if(Y.format==="ends_with")return`Ugyldig streng: m\xE5 ende med "${Y.suffix}"`;if(Y.format==="includes")return`Ugyldig streng: m\xE5 inneholde "${Y.includes}"`;if(Y.format==="regex")return`Ugyldig streng: m\xE5 matche m\xF8nsteret ${Y.pattern}`;return`Ugyldig ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${Z(J.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${J.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${J.origin}`;default:return"Ugyldig input"}}};function tz(){return{localeError:oc()}}var rc=()=>{let $={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"numara";case"object":{if(Array.isArray(J))return"saf";if(J===null)return"gayb";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return(J)=>{switch(J.code){case"invalid_type":return`F\xE2sit giren: umulan ${J.expected}, al\u0131nan ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`F\xE2sit giren: umulan ${b(J.values[0])}`;return`F\xE2sit tercih: m\xFBteberler ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Fazla b\xFCy\xFCk: ${J.origin??"value"}, ${Y}${J.maximum.toString()} ${Q.unit??"elements"} sahip olmal\u0131yd\u0131.`;return`Fazla b\xFCy\xFCk: ${J.origin??"value"}, ${Y}${J.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Fazla k\xFC\xE7\xFCk: ${J.origin}, ${Y}${J.minimum.toString()} ${Q.unit} sahip olmal\u0131yd\u0131.`;return`Fazla k\xFC\xE7\xFCk: ${J.origin}, ${Y}${J.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`F\xE2sit metin: "${Y.prefix}" ile ba\u015Flamal\u0131.`;if(Y.format==="ends_with")return`F\xE2sit metin: "${Y.suffix}" ile bitmeli.`;if(Y.format==="includes")return`F\xE2sit metin: "${Y.includes}" ihtiv\xE2 etmeli.`;if(Y.format==="regex")return`F\xE2sit metin: ${Y.pattern} nak\u015F\u0131na uymal\u0131.`;return`F\xE2sit ${G[Y.format]??J.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${J.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`${J.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${J.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function az(){return{localeError:rc()}}var tc=()=>{let $={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(J))return"\u0627\u0631\u06D0";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return(J)=>{switch(J.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${J.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${X(J.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":if(J.values.length===1)return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${b(J.values[0])} \u0648\u0627\u06CC`;return`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${Z(J.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${J.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${J.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${Y}${J.maximum.toString()} \u0648\u064A`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} ${Q.unit} \u0648\u0644\u0631\u064A`;return`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${J.origin} \u0628\u0627\u06CC\u062F ${Y}${J.minimum.toString()} \u0648\u064A`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${Y.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;if(Y.format==="ends_with")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${Y.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;if(Y.format==="includes")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${Y.includes}" \u0648\u0644\u0631\u064A`;if(Y.format==="regex")return`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${Y.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;return`${G[Y.format]??J.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${J.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${J.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${Z(J.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${J.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${J.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function sz(){return{localeError:tc()}}var ac=()=>{let $={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"liczba";case"object":{if(Array.isArray(J))return"tablica";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return(J)=>{switch(J.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${J.expected}, otrzymano ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${b(J.values[0])}`;return`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${Y}${J.maximum.toString()} ${Q.unit??"element\xF3w"}`;return`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${Y}${J.minimum.toString()} ${Q.unit??"element\xF3w"}`;return`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${J.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${Y.prefix}"`;if(Y.format==="ends_with")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${Y.suffix}"`;if(Y.format==="includes")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${Y.includes}"`;if(Y.format==="regex")return`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${Y.pattern}`;return`Nieprawid\u0142ow(y/a/e) ${G[Y.format]??J.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${J.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${J.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${J.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function ez(){return{localeError:ac()}}var sc=()=>{let $={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(J))return"array";if(J===null)return"nulo";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return(J)=>{switch(J.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${J.expected}, recebido ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Entrada inv\xE1lida: esperado ${b(J.values[0])}`;return`Op\xE7\xE3o inv\xE1lida: esperada uma das ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Muito grande: esperado que ${J.origin??"valor"} tivesse ${Y}${J.maximum.toString()} ${Q.unit??"elementos"}`;return`Muito grande: esperado que ${J.origin??"valor"} fosse ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Muito pequeno: esperado que ${J.origin} tivesse ${Y}${J.minimum.toString()} ${Q.unit}`;return`Muito pequeno: esperado que ${J.origin} fosse ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Texto inv\xE1lido: deve come\xE7ar com "${Y.prefix}"`;if(Y.format==="ends_with")return`Texto inv\xE1lido: deve terminar com "${Y.suffix}"`;if(Y.format==="includes")return`Texto inv\xE1lido: deve incluir "${Y.includes}"`;if(Y.format==="regex")return`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${Y.pattern}`;return`${G[Y.format]??J.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${J.divisor}`;case"unrecognized_keys":return`Chave${J.keys.length>1?"s":""} desconhecida${J.keys.length>1?"s":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${J.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${J.origin}`;default:return"Campo inv\xE1lido"}}};function $D(){return{localeError:sc()}}function $P($,U,X,G){let J=Math.abs($),Y=J%10,Q=J%100;if(Q>=11&&Q<=19)return G;if(Y===1)return U;if(Y>=2&&Y<=4)return X;return G}var ec=()=>{let $={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${J.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${b(J.values[0])}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q){let w=Number(J.maximum),N=$P(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${Y}${J.maximum.toString()} ${N}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q){let w=Number(J.minimum),N=$P(w,Q.unit.one,Q.unit.few,Q.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${Y}${J.minimum.toString()} ${N}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${J.origin} \u0431\u0443\u0434\u0435\u0442 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${J.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${J.keys.length>1?"\u0438":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${J.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${J.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function UD(){return{localeError:ec()}}var $i=()=>{let $={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(J))return"tabela";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return(J)=>{switch(J.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${J.expected}, prejeto ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Neveljaven vnos: pri\u010Dakovano ${b(J.values[0])}`;return`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Preveliko: pri\u010Dakovano, da bo ${J.origin??"vrednost"} imelo ${Y}${J.maximum.toString()} ${Q.unit??"elementov"}`;return`Preveliko: pri\u010Dakovano, da bo ${J.origin??"vrednost"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Premajhno: pri\u010Dakovano, da bo ${J.origin} imelo ${Y}${J.minimum.toString()} ${Q.unit}`;return`Premajhno: pri\u010Dakovano, da bo ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Neveljaven niz: mora se za\u010Deti z "${Y.prefix}"`;if(Y.format==="ends_with")return`Neveljaven niz: mora se kon\u010Dati z "${Y.suffix}"`;if(Y.format==="includes")return`Neveljaven niz: mora vsebovati "${Y.includes}"`;if(Y.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${Y.pattern}`;return`Neveljaven ${G[Y.format]??J.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${J.divisor}`;case"unrecognized_keys":return`Neprepoznan${J.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${Z(J.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${J.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${J.origin}`;default:return"Neveljaven vnos"}}};function JD(){return{localeError:$i()}}var Ui=()=>{let $={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"antal";case"object":{if(Array.isArray(J))return"lista";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return(J)=>{switch(J.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${J.expected}, fick ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`Ogiltig inmatning: f\xF6rv\xE4ntat ${b(J.values[0])}`;return`Ogiltigt val: f\xF6rv\xE4ntade en av ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`F\xF6r stor(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.maximum.toString()} ${Q.unit??"element"}`;return`F\xF6r stor(t): f\xF6rv\xE4ntat ${J.origin??"v\xE4rdet"} att ha ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`F\xF6r lite(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.minimum.toString()} ${Q.unit}`;return`F\xF6r lite(t): f\xF6rv\xE4ntade ${J.origin??"v\xE4rdet"} att ha ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${Y.prefix}"`;if(Y.format==="ends_with")return`Ogiltig str\xE4ng: m\xE5ste sluta med "${Y.suffix}"`;if(Y.format==="includes")return`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${Y.includes}"`;if(Y.format==="regex")return`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${Y.pattern}"`;return`Ogiltig(t) ${G[Y.format]??J.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${J.divisor}`;case"unrecognized_keys":return`${J.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${Z(J.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${J.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${J.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function XD(){return{localeError:Ui()}}var Ji=()=>{let $={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(J))return"\u0B85\u0BA3\u0BBF";if(J===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return(J)=>{switch(J.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${b(J.values[0])}`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Z(J.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${Y}${J.maximum.toString()} ${Q.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${Y}${J.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${J.origin} ${Y}${J.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="ends_with")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="includes")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${Y.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;if(Y.format==="regex")return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${Y.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${J.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${J.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`${J.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${J.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function GD(){return{localeError:Ji()}}var Xi=()=>{let $={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(J))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(J===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return(J)=>{switch(J.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${J.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${b(J.values[0])}`;return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",Q=U(J.origin);if(Q)return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.maximum.toString()} ${Q.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;return`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",Q=U(J.origin);if(Q)return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.minimum.toString()} ${Q.unit}`;return`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${J.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${Y} ${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${Y.suffix}"`;if(Y.format==="includes")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${Y.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;if(Y.format==="regex")return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${Y.pattern}`;return`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${J.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${Z(J.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${J.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${J.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function YD(){return{localeError:Xi()}}var Gi=($)=>{let U=typeof $;switch(U){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return U},Yi=()=>{let $={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function U(G){return $[G]??null}let X={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return(G)=>{switch(G.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${G.expected}, al\u0131nan ${Gi(G.input)}`;case"invalid_value":if(G.values.length===1)return`Ge\xE7ersiz de\u011Fer: beklenen ${b(G.values[0])}`;return`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${Z(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",Y=U(G.origin);if(Y)return`\xC7ok b\xFCy\xFCk: beklenen ${G.origin??"de\u011Fer"} ${J}${G.maximum.toString()} ${Y.unit??"\xF6\u011Fe"}`;return`\xC7ok b\xFCy\xFCk: beklenen ${G.origin??"de\u011Fer"} ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",Y=U(G.origin);if(Y)return`\xC7ok k\xFC\xE7\xFCk: beklenen ${G.origin} ${J}${G.minimum.toString()} ${Y.unit}`;return`\xC7ok k\xFC\xE7\xFCk: beklenen ${G.origin} ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Ge\xE7ersiz metin: "${J.prefix}" ile ba\u015Flamal\u0131`;if(J.format==="ends_with")return`Ge\xE7ersiz metin: "${J.suffix}" ile bitmeli`;if(J.format==="includes")return`Ge\xE7ersiz metin: "${J.includes}" i\xE7ermeli`;if(J.format==="regex")return`Ge\xE7ersiz metin: ${J.pattern} desenine uymal\u0131`;return`Ge\xE7ersiz ${X[J.format]??G.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${G.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${G.keys.length>1?"lar":""}: ${Z(G.keys,", ")}`;case"invalid_key":return`${G.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${G.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function QD(){return{localeError:Yi()}}var Qi=()=>{let $={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(J))return"\u043C\u0430\u0441\u0438\u0432";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return(J)=>{switch(J.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${J.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${b(J.values[0])}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${J.origin} \u0431\u0443\u0434\u0435 ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${Y.prefix}"`;if(Y.format==="ends_with")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${Y.suffix}"`;if(Y.format==="includes")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${Y.includes}"`;if(Y.format==="regex")return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${Y.pattern}`;return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${J.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${J.keys.length>1?"\u0456":""}: ${Z(J.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${J.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${J.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function RJ(){return{localeError:Qi()}}function wD(){return RJ()}var wi=()=>{let $={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(J))return"\u0622\u0631\u06D2";if(J===null)return"\u0646\u0644";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return(J)=>{switch(J.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${J.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${X(J.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":if(J.values.length===1)return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${b(J.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;return`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${Z(J.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${J.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${Y}${J.maximum.toString()} ${Q.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0628\u0691\u0627: ${J.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${Y}${J.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${J.origin} \u06A9\u06D2 ${Y}${J.minimum.toString()} ${Q.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;return`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${J.origin} \u06A9\u0627 ${Y}${J.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="ends_with")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="includes")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${Y.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;if(Y.format==="regex")return`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${Y.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;return`\u063A\u0644\u0637 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${J.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${J.keys.length>1?"\u0632":""}: ${Z(J.keys,"\u060C ")}`;case"invalid_key":return`${J.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${J.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function ND(){return{localeError:wi()}}var Ni=()=>{let $={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(J))return"m\u1EA3ng";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return(J)=>{switch(J.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${J.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${b(J.values[0])}`;return`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${J.origin??"gi\xE1 tr\u1ECB"} ${Q.verb} ${Y}${J.maximum.toString()} ${Q.unit??"ph\u1EA7n t\u1EED"}`;return`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${J.origin??"gi\xE1 tr\u1ECB"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${J.origin} ${Q.verb} ${Y}${J.minimum.toString()} ${Q.unit}`;return`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${Y.prefix}"`;if(Y.format==="ends_with")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${Y.suffix}"`;if(Y.format==="includes")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${Y.includes}"`;if(Y.format==="regex")return`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${Y.pattern}`;return`${G[Y.format]??J.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${J.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${Z(J.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${J.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${J.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function jD(){return{localeError:Ni()}}var ji=()=>{let $={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(J))return"\u6570\u7EC4";if(J===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return(J)=>{switch(J.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${J.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${b(J.values[0])}`;return`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${J.origin??"\u503C"} ${Y}${J.maximum.toString()} ${Q.unit??"\u4E2A\u5143\u7D20"}`;return`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${J.origin??"\u503C"} ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${J.origin} ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${J.origin} ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${Y.prefix}" \u5F00\u5934`;if(Y.format==="ends_with")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${Y.suffix}" \u7ED3\u5C3E`;if(Y.format==="includes")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${Y.includes}"`;if(Y.format==="regex")return`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${Y.pattern}`;return`\u65E0\u6548${G[Y.format]??J.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${J.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${Z(J.keys,", ")}`;case"invalid_key":return`${J.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${J.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function HD(){return{localeError:ji()}}var Hi=()=>{let $={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"number";case"object":{if(Array.isArray(J))return"array";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return(J)=>{switch(J.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${J.expected}\uFF0C\u4F46\u6536\u5230 ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${b(J.values[0])}`;return`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${J.origin??"\u503C"} \u61C9\u70BA ${Y}${J.maximum.toString()} ${Q.unit??"\u500B\u5143\u7D20"}`;return`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${J.origin??"\u503C"} \u61C9\u70BA ${Y}${J.maximum.toString()}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${J.origin} \u61C9\u70BA ${Y}${J.minimum.toString()} ${Q.unit}`;return`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${J.origin} \u61C9\u70BA ${Y}${J.minimum.toString()}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${Y.prefix}" \u958B\u982D`;if(Y.format==="ends_with")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${Y.suffix}" \u7D50\u5C3E`;if(Y.format==="includes")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${Y.includes}"`;if(Y.format==="regex")return`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${Y.pattern}`;return`\u7121\u6548\u7684 ${G[Y.format]??J.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${J.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${J.keys.length>1?"\u5011":""}\uFF1A${Z(J.keys,"\u3001")}`;case"invalid_key":return`${J.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${J.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function WD(){return{localeError:Hi()}}var Wi=()=>{let $={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function U(J){return $[J]??null}let X=(J)=>{let Y=typeof J;switch(Y){case"number":return Number.isNaN(J)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(J))return"akop\u1ECD";if(J===null)return"null";if(Object.getPrototypeOf(J)!==Object.prototype&&J.constructor)return J.constructor.name}}return Y},G={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return(J)=>{switch(J.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${J.expected}, \xE0m\u1ECD\u0300 a r\xED ${X(J.input)}`;case"invalid_value":if(J.values.length===1)return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${b(J.values[0])}`;return`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${Z(J.values,"|")}`;case"too_big":{let Y=J.inclusive?"<=":"<",Q=U(J.origin);if(Q)return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${J.origin??"iye"} ${Q.verb} ${Y}${J.maximum} ${Q.unit}`;return`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${Y}${J.maximum}`}case"too_small":{let Y=J.inclusive?">=":">",Q=U(J.origin);if(Q)return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${J.origin} ${Q.verb} ${Y}${J.minimum} ${Q.unit}`;return`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${Y}${J.minimum}`}case"invalid_format":{let Y=J;if(Y.format==="starts_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${Y.prefix}"`;if(Y.format==="ends_with")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${Y.suffix}"`;if(Y.format==="includes")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${Y.includes}"`;if(Y.format==="regex")return`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${Y.pattern}`;return`A\u1E63\xEC\u1E63e: ${G[Y.format]??J.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${J.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${Z(J.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${J.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${J.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function KD(){return{localeError:Wi()}}var UP,OD=Symbol("ZodOutput"),zD=Symbol("ZodInput");class kJ{constructor(){this._map=new WeakMap,this._idmap=new Map}add($,...U){let X=U[0];if(this._map.set($,X),X&&typeof X==="object"&&"id"in X){if(this._idmap.has(X.id))throw Error(`ID ${X.id} already exists in the registry`);this._idmap.set(X.id,$)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove($){let U=this._map.get($);if(U&&typeof U==="object"&&"id"in U)this._idmap.delete(U.id);return this._map.delete($),this}get($){let U=$._zod.parent;if(U){let X={...this.get(U)??{}};delete X.id;let G={...X,...this._map.get($)};return Object.keys(G).length?G:void 0}return this._map.get($)}has($){return this._map.has($)}}function S7(){return new kJ}(UP=globalThis).__zod_globalRegistry??(UP.__zod_globalRegistry=S7());var R6=globalThis.__zod_globalRegistry;function DD($,U){return new $({type:"string",...u(U)})}function VD($,U){return new $({type:"string",coerce:!0,...u(U)})}function Z7($,U){return new $({type:"string",format:"email",check:"string_format",abort:!1,...u(U)})}function CJ($,U){return new $({type:"string",format:"guid",check:"string_format",abort:!1,...u(U)})}function I7($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,...u(U)})}function R7($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...u(U)})}function T7($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...u(U)})}function k7($,U){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...u(U)})}function xJ($,U){return new $({type:"string",format:"url",check:"string_format",abort:!1,...u(U)})}function C7($,U){return new $({type:"string",format:"emoji",check:"string_format",abort:!1,...u(U)})}function x7($,U){return new $({type:"string",format:"nanoid",check:"string_format",abort:!1,...u(U)})}function f7($,U){return new $({type:"string",format:"cuid",check:"string_format",abort:!1,...u(U)})}function h7($,U){return new $({type:"string",format:"cuid2",check:"string_format",abort:!1,...u(U)})}function g7($,U){return new $({type:"string",format:"ulid",check:"string_format",abort:!1,...u(U)})}function b7($,U){return new $({type:"string",format:"xid",check:"string_format",abort:!1,...u(U)})}function m7($,U){return new $({type:"string",format:"ksuid",check:"string_format",abort:!1,...u(U)})}function u7($,U){return new $({type:"string",format:"ipv4",check:"string_format",abort:!1,...u(U)})}function y7($,U){return new $({type:"string",format:"ipv6",check:"string_format",abort:!1,...u(U)})}function BD($,U){return new $({type:"string",format:"mac",check:"string_format",abort:!1,...u(U)})}function l7($,U){return new $({type:"string",format:"cidrv4",check:"string_format",abort:!1,...u(U)})}function c7($,U){return new $({type:"string",format:"cidrv6",check:"string_format",abort:!1,...u(U)})}function i7($,U){return new $({type:"string",format:"base64",check:"string_format",abort:!1,...u(U)})}function n7($,U){return new $({type:"string",format:"base64url",check:"string_format",abort:!1,...u(U)})}function p7($,U){return new $({type:"string",format:"e164",check:"string_format",abort:!1,...u(U)})}function d7($,U){return new $({type:"string",format:"jwt",check:"string_format",abort:!1,...u(U)})}var _D={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function MD($,U){return new $({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...u(U)})}function FD($,U){return new $({type:"string",format:"date",check:"string_format",...u(U)})}function LD($,U){return new $({type:"string",format:"time",check:"string_format",precision:null,...u(U)})}function AD($,U){return new $({type:"string",format:"duration",check:"string_format",...u(U)})}function qD($,U){return new $({type:"number",checks:[],...u(U)})}function vD($,U){return new $({type:"number",coerce:!0,checks:[],...u(U)})}function PD($,U){return new $({type:"number",check:"number_format",abort:!1,format:"safeint",...u(U)})}function ED($,U){return new $({type:"number",check:"number_format",abort:!1,format:"float32",...u(U)})}function SD($,U){return new $({type:"number",check:"number_format",abort:!1,format:"float64",...u(U)})}function ZD($,U){return new $({type:"number",check:"number_format",abort:!1,format:"int32",...u(U)})}function ID($,U){return new $({type:"number",check:"number_format",abort:!1,format:"uint32",...u(U)})}function RD($,U){return new $({type:"boolean",...u(U)})}function TD($,U){return new $({type:"boolean",coerce:!0,...u(U)})}function kD($,U){return new $({type:"bigint",...u(U)})}function CD($,U){return new $({type:"bigint",coerce:!0,...u(U)})}function xD($,U){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...u(U)})}function fD($,U){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...u(U)})}function hD($,U){return new $({type:"symbol",...u(U)})}function gD($,U){return new $({type:"undefined",...u(U)})}function bD($,U){return new $({type:"null",...u(U)})}function mD($){return new $({type:"any"})}function uD($){return new $({type:"unknown"})}function yD($,U){return new $({type:"never",...u(U)})}function lD($,U){return new $({type:"void",...u(U)})}function cD($,U){return new $({type:"date",...u(U)})}function iD($,U){return new $({type:"date",coerce:!0,...u(U)})}function nD($,U){return new $({type:"nan",...u(U)})}function B1($,U){return new D7({check:"less_than",...u(U),value:$,inclusive:!1})}function K4($,U){return new D7({check:"less_than",...u(U),value:$,inclusive:!0})}function _1($,U){return new V7({check:"greater_than",...u(U),value:$,inclusive:!1})}function m6($,U){return new V7({check:"greater_than",...u(U),value:$,inclusive:!0})}function pD($){return _1(0,$)}function dD($){return B1(0,$)}function oD($){return K4(0,$)}function rD($){return m6(0,$)}function i0($,U){return new rK({check:"multiple_of",...u(U),value:$})}function N2($,U){return new sK({check:"max_size",...u(U),maximum:$})}function n0($,U){return new eK({check:"min_size",...u(U),minimum:$})}function fJ($,U){return new $O({check:"size_equals",...u(U),size:$})}function j2($,U){return new UO({check:"max_length",...u(U),maximum:$})}function p1($,U){return new JO({check:"min_length",...u(U),minimum:$})}function H2($,U){return new XO({check:"length_equals",...u(U),length:$})}function hJ($,U){return new GO({check:"string_format",format:"regex",...u(U),pattern:$})}function gJ($){return new YO({check:"string_format",format:"lowercase",...u($)})}function bJ($){return new QO({check:"string_format",format:"uppercase",...u($)})}function mJ($,U){return new wO({check:"string_format",format:"includes",...u(U),includes:$})}function uJ($,U){return new NO({check:"string_format",format:"starts_with",...u(U),prefix:$})}function yJ($,U){return new jO({check:"string_format",format:"ends_with",...u(U),suffix:$})}function tD($,U,X){return new HO({check:"property",property:$,schema:U,...u(X)})}function lJ($,U){return new WO({check:"mime_type",mime:$,...u(U)})}function s4($){return new KO({check:"overwrite",tx:$})}function cJ($){return s4((U)=>U.normalize($))}function iJ(){return s4(($)=>$.trim())}function nJ(){return s4(($)=>$.toLowerCase())}function pJ(){return s4(($)=>$.toUpperCase())}function dJ(){return s4(($)=>jK($))}function aD($,U,X){return new $({type:"array",element:U,...u(X)})}function Oi($,U,X){return new $({type:"union",options:U,...u(X)})}function zi($,U,X,G){return new $({type:"union",options:X,discriminator:U,...u(G)})}function Di($,U,X){return new $({type:"intersection",left:U,right:X})}function Vi($,U,X,G){let J=X instanceof Y$;return new $({type:"tuple",items:U,rest:J?X:null,...u(J?G:X)})}function Bi($,U,X,G){return new $({type:"record",keyType:U,valueType:X,...u(G)})}function _i($,U,X,G){return new $({type:"map",keyType:U,valueType:X,...u(G)})}function Mi($,U,X){return new $({type:"set",valueType:U,...u(X)})}function Fi($,U,X){let G=Array.isArray(U)?Object.fromEntries(U.map((J)=>[J,J])):U;return new $({type:"enum",entries:G,...u(X)})}function Li($,U,X){return new $({type:"enum",entries:U,...u(X)})}function Ai($,U,X){return new $({type:"literal",values:Array.isArray(U)?U:[U],...u(X)})}function sD($,U){return new $({type:"file",...u(U)})}function qi($,U){return new $({type:"transform",transform:U})}function vi($,U){return new $({type:"optional",innerType:U})}function Pi($,U){return new $({type:"nullable",innerType:U})}function Ei($,U,X){return new $({type:"default",innerType:U,get defaultValue(){return typeof X==="function"?X():WK(X)}})}function Si($,U,X){return new $({type:"nonoptional",innerType:U,...u(X)})}function Zi($,U){return new $({type:"success",innerType:U})}function Ii($,U,X){return new $({type:"catch",innerType:U,catchValue:typeof X==="function"?X:()=>X})}function Ri($,U,X){return new $({type:"pipe",in:U,out:X})}function Ti($,U){return new $({type:"readonly",innerType:U})}function ki($,U,X){return new $({type:"template_literal",parts:U,...u(X)})}function Ci($,U){return new $({type:"lazy",getter:U})}function xi($,U){return new $({type:"promise",innerType:U})}function eD($,U,X){let G=u(X);return G.abort??(G.abort=!0),new $({type:"custom",check:"custom",fn:U,...G})}function $V($,U,X){return new $({type:"custom",check:"custom",fn:U,...u(X)})}function UV($){let U=JP((X)=>{return X.addIssue=(G)=>{if(typeof G==="string")X.issues.push(J2(G,X.value,U._zod.def));else{let J=G;if(J.fatal)J.continue=!1;J.code??(J.code="custom"),J.input??(J.input=X.value),J.inst??(J.inst=U),J.continue??(J.continue=!U._zod.def.abort),X.issues.push(J2(J))}},$(X.value,X)});return U}function JP($,U){let X=new g$({check:"custom",...u(U)});return X._zod.check=$,X}function JV($){let U=new g$({check:"describe"});return U._zod.onattach=[(X)=>{let G=R6.get(X)??{};R6.add(X,{...G,description:$})}],U._zod.check=()=>{},U}function XV($){let U=new g$({check:"meta"});return U._zod.onattach=[(X)=>{let G=R6.get(X)??{};R6.add(X,{...G,...$})}],U._zod.check=()=>{},U}function GV($,U){let X=u(U),G=X.truthy??["true","1","yes","on","y","enabled"],J=X.falsy??["false","0","no","off","n","disabled"];if(X.case!=="sensitive")G=G.map((W)=>typeof W==="string"?W.toLowerCase():W),J=J.map((W)=>typeof W==="string"?W.toLowerCase():W);let Y=new Set(G),Q=new Set(J),w=$.Codec??PJ,N=$.Boolean??vJ,H=new($.String??c0)({type:"string",error:X.error}),K=new N({type:"boolean",error:X.error}),z=new w({type:"pipe",in:H,out:K,transform:(W,O)=>{let D=W;if(X.case!=="sensitive")D=D.toLowerCase();if(Y.has(D))return!0;else if(Q.has(D))return!1;else return O.issues.push({code:"invalid_value",expected:"stringbool",values:[...Y,...Q],input:O.value,inst:z,continue:!1}),{}},reverseTransform:(W,O)=>{if(W===!0)return G[0]||"true";else return J[0]||"false"},error:X.error});return z}function W2($,U,X,G={}){let J=u(G),Y={...u(G),check:"string_format",type:"string",format:U,fn:typeof X==="function"?X:(w)=>X.test(w),...J};if(X instanceof RegExp)Y.pattern=X;return new $(Y)}class o7{constructor($){this.counter=0,this.metadataRegistry=$?.metadata??R6,this.target=$?.target??"draft-2020-12",this.unrepresentable=$?.unrepresentable??"throw",this.override=$?.override??(()=>{}),this.io=$?.io??"output",this.seen=new Map}process($,U={path:[],schemaPath:[]}){var X;let G=$._zod.def,J={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Y=this.seen.get($);if(Y){if(Y.count++,U.schemaPath.includes($))Y.cycle=U.path;return Y.schema}let Q={schema:{},count:1,cycle:void 0,path:U.path};this.seen.set($,Q);let w=$._zod.toJSONSchema?.();if(w)Q.schema=w;else{let H={...U,schemaPath:[...U.schemaPath,$],path:U.path},K=$._zod.parent;if(K)Q.ref=K,this.process(K,H),this.seen.get(K).isParent=!0;else{let z=Q.schema;switch(G.type){case"string":{let W=z;W.type="string";let{minimum:O,maximum:D,format:B,patterns:v,contentEncoding:E}=$._zod.bag;if(typeof O==="number")W.minLength=O;if(typeof D==="number")W.maxLength=D;if(B){if(W.format=J[B]??B,W.format==="")delete W.format}if(E)W.contentEncoding=E;if(v&&v.size>0){let L=[...v];if(L.length===1)W.pattern=L[0].source;else if(L.length>1)Q.schema.allOf=[...L.map((M)=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:M.source}))]}break}case"number":{let W=z,{minimum:O,maximum:D,format:B,multipleOf:v,exclusiveMaximum:E,exclusiveMinimum:L}=$._zod.bag;if(typeof B==="string"&&B.includes("int"))W.type="integer";else W.type="number";if(typeof L==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")W.minimum=L,W.exclusiveMinimum=!0;else W.exclusiveMinimum=L;if(typeof O==="number"){if(W.minimum=O,typeof L==="number"&&this.target!=="draft-4")if(L>=O)delete W.minimum;else delete W.exclusiveMinimum}if(typeof E==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")W.maximum=E,W.exclusiveMaximum=!0;else W.exclusiveMaximum=E;if(typeof D==="number"){if(W.maximum=D,typeof E==="number"&&this.target!=="draft-4")if(E<=D)delete W.maximum;else delete W.exclusiveMaximum}if(typeof v==="number")W.multipleOf=v;break}case"boolean":{let W=z;W.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{if(this.target==="openapi-3.0")z.type="string",z.nullable=!0,z.enum=[null];else z.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{z.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let W=z,{minimum:O,maximum:D}=$._zod.bag;if(typeof O==="number")W.minItems=O;if(typeof D==="number")W.maxItems=D;W.type="array",W.items=this.process(G.element,{...H,path:[...H.path,"items"]});break}case"object":{let W=z;W.type="object",W.properties={};let O=G.shape;for(let v in O)W.properties[v]=this.process(O[v],{...H,path:[...H.path,"properties",v]});let D=new Set(Object.keys(O)),B=new Set([...D].filter((v)=>{let E=G.shape[v]._zod;if(this.io==="input")return E.optin===void 0;else return E.optout===void 0}));if(B.size>0)W.required=Array.from(B);if(G.catchall?._zod.def.type==="never")W.additionalProperties=!1;else if(!G.catchall){if(this.io==="output")W.additionalProperties=!1}else if(G.catchall)W.additionalProperties=this.process(G.catchall,{...H,path:[...H.path,"additionalProperties"]});break}case"union":{let W=z,O=G.discriminator!==void 0,D=G.options.map((B,v)=>this.process(B,{...H,path:[...H.path,O?"oneOf":"anyOf",v]}));if(O)W.oneOf=D;else W.anyOf=D;break}case"intersection":{let W=z,O=this.process(G.left,{...H,path:[...H.path,"allOf",0]}),D=this.process(G.right,{...H,path:[...H.path,"allOf",1]}),B=(E)=>("allOf"in E)&&Object.keys(E).length===1,v=[...B(O)?O.allOf:[O],...B(D)?D.allOf:[D]];W.allOf=v;break}case"tuple":{let W=z;W.type="array";let O=this.target==="draft-2020-12"?"prefixItems":"items",D=this.target==="draft-2020-12"?"items":this.target==="openapi-3.0"?"items":"additionalItems",B=G.items.map((M,I)=>this.process(M,{...H,path:[...H.path,O,I]})),v=G.rest?this.process(G.rest,{...H,path:[...H.path,D,...this.target==="openapi-3.0"?[G.items.length]:[]]}):null;if(this.target==="draft-2020-12"){if(W.prefixItems=B,v)W.items=v}else if(this.target==="openapi-3.0"){if(W.items={anyOf:B},v)W.items.anyOf.push(v);if(W.minItems=B.length,!v)W.maxItems=B.length}else if(W.items=B,v)W.additionalItems=v;let{minimum:E,maximum:L}=$._zod.bag;if(typeof E==="number")W.minItems=E;if(typeof L==="number")W.maxItems=L;break}case"record":{let W=z;if(W.type="object",this.target==="draft-7"||this.target==="draft-2020-12")W.propertyNames=this.process(G.keyType,{...H,path:[...H.path,"propertyNames"]});W.additionalProperties=this.process(G.valueType,{...H,path:[...H.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let W=z,O=zJ(G.entries);if(O.every((D)=>typeof D==="number"))W.type="number";if(O.every((D)=>typeof D==="string"))W.type="string";W.enum=O;break}case"literal":{let W=z,O=[];for(let D of G.values)if(D===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof D==="bigint")if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else O.push(Number(D));else O.push(D);if(O.length===0);else if(O.length===1){let D=O[0];if(W.type=D===null?"null":typeof D,this.target==="draft-4"||this.target==="openapi-3.0")W.enum=[D];else W.const=D}else{if(O.every((D)=>typeof D==="number"))W.type="number";if(O.every((D)=>typeof D==="string"))W.type="string";if(O.every((D)=>typeof D==="boolean"))W.type="string";if(O.every((D)=>D===null))W.type="null";W.enum=O}break}case"file":{let W=z,O={type:"string",format:"binary",contentEncoding:"binary"},{minimum:D,maximum:B,mime:v}=$._zod.bag;if(D!==void 0)O.minLength=D;if(B!==void 0)O.maxLength=B;if(v)if(v.length===1)O.contentMediaType=v[0],Object.assign(W,O);else W.anyOf=v.map((E)=>{return{...O,contentMediaType:E}});else Object.assign(W,O);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let W=this.process(G.innerType,H);if(this.target==="openapi-3.0")Q.ref=G.innerType,z.nullable=!0;else z.anyOf=[W,{type:"null"}];break}case"nonoptional":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"success":{let W=z;W.type="boolean";break}case"default":{this.process(G.innerType,H),Q.ref=G.innerType,z.default=JSON.parse(JSON.stringify(G.defaultValue));break}case"prefault":{if(this.process(G.innerType,H),Q.ref=G.innerType,this.io==="input")z._prefault=JSON.parse(JSON.stringify(G.defaultValue));break}case"catch":{this.process(G.innerType,H),Q.ref=G.innerType;let W;try{W=G.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}z.default=W;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let W=z,O=$._zod.pattern;if(!O)throw Error("Pattern not found in template literal");W.type="string",W.pattern=O.source;break}case"pipe":{let W=this.io==="input"?G.in._zod.def.type==="transform"?G.out:G.in:G.out;this.process(W,H),Q.ref=W;break}case"readonly":{this.process(G.innerType,H),Q.ref=G.innerType,z.readOnly=!0;break}case"promise":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"optional":{this.process(G.innerType,H),Q.ref=G.innerType;break}case"lazy":{let W=$._zod.innerType;this.process(W,H),Q.ref=W;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}default:}}}let N=this.metadataRegistry.get($);if(N)Object.assign(Q.schema,N);if(this.io==="input"&&T6($))delete Q.schema.examples,delete Q.schema.default;if(this.io==="input"&&Q.schema._prefault)(X=Q.schema).default??(X.default=Q.schema._prefault);return delete Q.schema._prefault,this.seen.get($).schema}emit($,U){let X={cycles:U?.cycles??"ref",reused:U?.reused??"inline",external:U?.external??void 0},G=this.seen.get($);if(!G)throw Error("Unprocessed schema. This is a bug in Zod.");let J=(j)=>{let H=this.target==="draft-2020-12"?"$defs":"definitions";if(X.external){let O=X.external.registry.get(j[0])?.id,D=X.external.uri??((v)=>v);if(O)return{ref:D(O)};let B=j[1].defId??j[1].schema.id??`schema${this.counter++}`;return j[1].defId=B,{defId:B,ref:`${D("__shared")}#/${H}/${B}`}}if(j[1]===G)return{ref:"#"};let z=`${"#"}/${H}/`,W=j[1].schema.id??`__schema${this.counter++}`;return{defId:W,ref:z+W}},Y=(j)=>{if(j[1].schema.$ref)return;let H=j[1],{ref:K,defId:z}=J(j);if(H.def={...H.schema},z)H.defId=z;let W=H.schema;for(let O in W)delete W[O];W.$ref=K};if(X.cycles==="throw")for(let j of this.seen.entries()){let H=j[1];if(H.cycle)throw Error(`Cycle detected: #/${H.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let j of this.seen.entries()){let H=j[1];if($===j[0]){Y(j);continue}if(X.external){let z=X.external.registry.get(j[0])?.id;if($!==j[0]&&z){Y(j);continue}}if(this.metadataRegistry.get(j[0])?.id){Y(j);continue}if(H.cycle){Y(j);continue}if(H.count>1){if(X.reused==="ref"){Y(j);continue}}}let Q=(j,H)=>{let K=this.seen.get(j),z=K.def??K.schema,W={...z};if(K.ref===null)return;let O=K.ref;if(K.ref=null,O){Q(O,H);let D=this.seen.get(O).schema;if(D.$ref&&(H.target==="draft-7"||H.target==="draft-4"||H.target==="openapi-3.0"))z.allOf=z.allOf??[],z.allOf.push(D);else Object.assign(z,D),Object.assign(z,W)}if(!K.isParent)this.override({zodSchema:j,jsonSchema:z,path:K.path??[]})};for(let j of[...this.seen.entries()].reverse())Q(j[0],{target:this.target});let w={};if(this.target==="draft-2020-12")w.$schema="https://json-schema.org/draft/2020-12/schema";else if(this.target==="draft-7")w.$schema="http://json-schema.org/draft-07/schema#";else if(this.target==="draft-4")w.$schema="http://json-schema.org/draft-04/schema#";else if(this.target==="openapi-3.0");else console.warn(`Invalid target: ${this.target}`);if(X.external?.uri){let j=X.external.registry.get($)?.id;if(!j)throw Error("Schema is missing an `id` property");w.$id=X.external.uri(j)}Object.assign(w,G.def);let N=X.external?.defs??{};for(let j of this.seen.entries()){let H=j[1];if(H.def&&H.defId)N[H.defId]=H.def}if(X.external);else if(Object.keys(N).length>0)if(this.target==="draft-2020-12")w.$defs=N;else w.definitions=N;try{return JSON.parse(JSON.stringify(w))}catch(j){throw Error("Error converting schema to JSON.")}}}function YV($,U){if($ instanceof kJ){let G=new o7(U),J={};for(let w of $._idmap.entries()){let[N,j]=w;G.process(j)}let Y={},Q={registry:$,uri:U?.uri,defs:J};for(let w of $._idmap.entries()){let[N,j]=w;Y[N]=G.emit(j,{...U,external:Q})}if(Object.keys(J).length>0){let w=G.target==="draft-2020-12"?"$defs":"definitions";Y.__shared={[w]:J}}return{schemas:Y}}let X=new o7(U);return X.process($),X.emit($,U)}function T6($,U){let X=U??{seen:new Set};if(X.seen.has($))return!1;X.seen.add($);let G=$._zod.def;if(G.type==="transform")return!0;if(G.type==="array")return T6(G.element,X);if(G.type==="set")return T6(G.valueType,X);if(G.type==="lazy")return T6(G.getter(),X);if(G.type==="promise"||G.type==="optional"||G.type==="nonoptional"||G.type==="nullable"||G.type==="readonly"||G.type==="default"||G.type==="prefault")return T6(G.innerType,X);if(G.type==="intersection")return T6(G.left,X)||T6(G.right,X);if(G.type==="record"||G.type==="map")return T6(G.keyType,X)||T6(G.valueType,X);if(G.type==="pipe")return T6(G.in,X)||T6(G.out,X);if(G.type==="object"){for(let J in G.shape)if(T6(G.shape[J],X))return!0;return!1}if(G.type==="union"){for(let J of G.options)if(T6(J,X))return!0;return!1}if(G.type==="tuple"){for(let J of G.items)if(T6(J,X))return!0;if(G.rest&&T6(G.rest,X))return!0;return!1}return!1}var XP={};var e7={};H6(e7,{time:()=>NV,duration:()=>jV,datetime:()=>QV,date:()=>wV,ZodISOTime:()=>a7,ZodISODuration:()=>s7,ZodISODateTime:()=>r7,ZodISODate:()=>t7});var r7=A("ZodISODateTime",($,U)=>{EO.init($,U),b$.init($,U)});function QV($){return MD(r7,$)}var t7=A("ZodISODate",($,U)=>{SO.init($,U),b$.init($,U)});function wV($){return FD(t7,$)}var a7=A("ZodISOTime",($,U)=>{ZO.init($,U),b$.init($,U)});function NV($){return LD(a7,$)}var s7=A("ZodISODuration",($,U)=>{IO.init($,U),b$.init($,U)});function jV($){return AD(s7,$)}var YP=($,U)=>{MJ.init($,U),$.name="ZodError",Object.defineProperties($,{format:{value:(X)=>LJ($,X)},flatten:{value:(X)=>FJ($,X)},addIssue:{value:(X)=>{$.issues.push(X),$.message=JSON.stringify($.issues,$2,2)}},addIssues:{value:(X)=>{$.issues.push(...X),$.message=JSON.stringify($.issues,$2,2)}},isEmpty:{get(){return $.issues.length===0}}})},hi=A("ZodError",YP),u6=A("ZodError",YP,{Parent:Error});var HV=X2(u6),WV=G2(u6),KV=Y2(u6),OV=Q2(u6),zV=Q7(u6),DV=w7(u6),VV=N7(u6),BV=j7(u6),_V=H7(u6),MV=W7(u6),FV=K7(u6),LV=O7(u6);var N$=A("ZodType",($,U)=>{return Y$.init($,U),$.def=U,$.type=U.type,Object.defineProperty($,"_def",{value:U}),$.check=(...X)=>{return $.clone(y.mergeDefs(U,{checks:[...U.checks??[],...X.map((G)=>typeof G==="function"?{_zod:{check:G,def:{check:"custom"},onattach:[]}}:G)]}))},$.clone=(X,G)=>I6($,X,G),$.brand=()=>$,$.register=(X,G)=>{return X.add($,G),$},$.parse=(X,G)=>HV($,X,G,{callee:$.parse}),$.safeParse=(X,G)=>KV($,X,G),$.parseAsync=async(X,G)=>WV($,X,G,{callee:$.parseAsync}),$.safeParseAsync=async(X,G)=>OV($,X,G),$.spa=$.safeParseAsync,$.encode=(X,G)=>zV($,X,G),$.decode=(X,G)=>DV($,X,G),$.encodeAsync=async(X,G)=>VV($,X,G),$.decodeAsync=async(X,G)=>BV($,X,G),$.safeEncode=(X,G)=>_V($,X,G),$.safeDecode=(X,G)=>MV($,X,G),$.safeEncodeAsync=async(X,G)=>FV($,X,G),$.safeDecodeAsync=async(X,G)=>LV($,X,G),$.refine=(X,G)=>$.check(pP(X,G)),$.superRefine=(X)=>$.check(dP(X)),$.overwrite=(X)=>$.check(s4(X)),$.optional=()=>UQ($),$.nullable=()=>JQ($),$.nullish=()=>UQ(JQ($)),$.nonoptional=(X)=>xP($,X),$.array=()=>QQ($),$.or=(X)=>iV([$,X]),$.and=(X)=>FP($,X),$.transform=(X)=>XQ($,dV(X)),$.default=(X)=>TP($,X),$.prefault=(X)=>CP($,X),$.catch=(X)=>gP($,X),$.pipe=(X)=>XQ($,X),$.readonly=()=>uP($),$.describe=(X)=>{let G=$.clone();return R6.add(G,{description:X}),G},Object.defineProperty($,"description",{get(){return R6.get($)?.description},configurable:!0}),$.meta=(...X)=>{if(X.length===0)return R6.get($);let G=$.clone();return R6.add(G,X[0]),G},$.isOptional=()=>$.safeParse(void 0).success,$.isNullable=()=>$.safeParse(null).success,$}),vV=A("_ZodString",($,U)=>{c0.init($,U),N$.init($,U);let X=$._zod.bag;$.format=X.format??null,$.minLength=X.minimum??null,$.maxLength=X.maximum??null,$.regex=(...G)=>$.check(hJ(...G)),$.includes=(...G)=>$.check(mJ(...G)),$.startsWith=(...G)=>$.check(uJ(...G)),$.endsWith=(...G)=>$.check(yJ(...G)),$.min=(...G)=>$.check(p1(...G)),$.max=(...G)=>$.check(j2(...G)),$.length=(...G)=>$.check(H2(...G)),$.nonempty=(...G)=>$.check(p1(1,...G)),$.lowercase=(G)=>$.check(gJ(G)),$.uppercase=(G)=>$.check(bJ(G)),$.trim=()=>$.check(iJ()),$.normalize=(...G)=>$.check(cJ(...G)),$.toLowerCase=()=>$.check(nJ()),$.toUpperCase=()=>$.check(pJ()),$.slugify=()=>$.check(dJ())}),rJ=A("ZodString",($,U)=>{c0.init($,U),vV.init($,U),$.email=(X)=>$.check(Z7(PV,X)),$.url=(X)=>$.check(xJ(GQ,X)),$.jwt=(X)=>$.check(d7(uV,X)),$.emoji=(X)=>$.check(C7(EV,X)),$.guid=(X)=>$.check(CJ($Q,X)),$.uuid=(X)=>$.check(I7(F1,X)),$.uuidv4=(X)=>$.check(R7(F1,X)),$.uuidv6=(X)=>$.check(T7(F1,X)),$.uuidv7=(X)=>$.check(k7(F1,X)),$.nanoid=(X)=>$.check(x7(SV,X)),$.guid=(X)=>$.check(CJ($Q,X)),$.cuid=(X)=>$.check(f7(ZV,X)),$.cuid2=(X)=>$.check(h7(IV,X)),$.ulid=(X)=>$.check(g7(RV,X)),$.base64=(X)=>$.check(i7(gV,X)),$.base64url=(X)=>$.check(n7(bV,X)),$.xid=(X)=>$.check(b7(TV,X)),$.ksuid=(X)=>$.check(m7(kV,X)),$.ipv4=(X)=>$.check(u7(CV,X)),$.ipv6=(X)=>$.check(y7(xV,X)),$.cidrv4=(X)=>$.check(l7(fV,X)),$.cidrv6=(X)=>$.check(c7(hV,X)),$.e164=(X)=>$.check(p7(mV,X)),$.datetime=(X)=>$.check(QV(X)),$.date=(X)=>$.check(wV(X)),$.time=(X)=>$.check(NV(X)),$.duration=(X)=>$.check(jV(X))});function AV($){return DD(rJ,$)}var b$=A("ZodStringFormat",($,U)=>{C$.init($,U),vV.init($,U)}),PV=A("ZodEmail",($,U)=>{BO.init($,U),b$.init($,U)});function bi($){return Z7(PV,$)}var $Q=A("ZodGUID",($,U)=>{DO.init($,U),b$.init($,U)});function mi($){return CJ($Q,$)}var F1=A("ZodUUID",($,U)=>{VO.init($,U),b$.init($,U)});function ui($){return I7(F1,$)}function yi($){return R7(F1,$)}function li($){return T7(F1,$)}function ci($){return k7(F1,$)}var GQ=A("ZodURL",($,U)=>{_O.init($,U),b$.init($,U)});function ii($){return xJ(GQ,$)}function ni($){return xJ(GQ,{protocol:/^https?$/,hostname:W4.domain,...y.normalizeParams($)})}var EV=A("ZodEmoji",($,U)=>{MO.init($,U),b$.init($,U)});function pi($){return C7(EV,$)}var SV=A("ZodNanoID",($,U)=>{FO.init($,U),b$.init($,U)});function di($){return x7(SV,$)}var ZV=A("ZodCUID",($,U)=>{LO.init($,U),b$.init($,U)});function oi($){return f7(ZV,$)}var IV=A("ZodCUID2",($,U)=>{AO.init($,U),b$.init($,U)});function ri($){return h7(IV,$)}var RV=A("ZodULID",($,U)=>{qO.init($,U),b$.init($,U)});function ti($){return g7(RV,$)}var TV=A("ZodXID",($,U)=>{vO.init($,U),b$.init($,U)});function ai($){return b7(TV,$)}var kV=A("ZodKSUID",($,U)=>{PO.init($,U),b$.init($,U)});function si($){return m7(kV,$)}var CV=A("ZodIPv4",($,U)=>{RO.init($,U),b$.init($,U)});function ei($){return u7(CV,$)}var QP=A("ZodMAC",($,U)=>{kO.init($,U),b$.init($,U)});function $n($){return BD(QP,$)}var xV=A("ZodIPv6",($,U)=>{TO.init($,U),b$.init($,U)});function Un($){return y7(xV,$)}var fV=A("ZodCIDRv4",($,U)=>{CO.init($,U),b$.init($,U)});function Jn($){return l7(fV,$)}var hV=A("ZodCIDRv6",($,U)=>{xO.init($,U),b$.init($,U)});function Xn($){return c7(hV,$)}var gV=A("ZodBase64",($,U)=>{hO.init($,U),b$.init($,U)});function Gn($){return i7(gV,$)}var bV=A("ZodBase64URL",($,U)=>{gO.init($,U),b$.init($,U)});function Yn($){return n7(bV,$)}var mV=A("ZodE164",($,U)=>{bO.init($,U),b$.init($,U)});function Qn($){return p7(mV,$)}var uV=A("ZodJWT",($,U)=>{mO.init($,U),b$.init($,U)});function wn($){return d7(uV,$)}var tJ=A("ZodCustomStringFormat",($,U)=>{uO.init($,U),b$.init($,U)});function Nn($,U,X={}){return W2(tJ,$,U,X)}function jn($){return W2(tJ,"hostname",W4.hostname,$)}function Hn($){return W2(tJ,"hex",W4.hex,$)}function Wn($,U){let X=U?.enc??"hex",G=`${$}_${X}`,J=W4[G];if(!J)throw Error(`Unrecognized hash format: ${G}`);return W2(tJ,G,J,U)}var aJ=A("ZodNumber",($,U)=>{q7.init($,U),N$.init($,U),$.gt=(G,J)=>$.check(_1(G,J)),$.gte=(G,J)=>$.check(m6(G,J)),$.min=(G,J)=>$.check(m6(G,J)),$.lt=(G,J)=>$.check(B1(G,J)),$.lte=(G,J)=>$.check(K4(G,J)),$.max=(G,J)=>$.check(K4(G,J)),$.int=(G)=>$.check(qV(G)),$.safe=(G)=>$.check(qV(G)),$.positive=(G)=>$.check(_1(0,G)),$.nonnegative=(G)=>$.check(m6(0,G)),$.negative=(G)=>$.check(B1(0,G)),$.nonpositive=(G)=>$.check(K4(0,G)),$.multipleOf=(G,J)=>$.check(i0(G,J)),$.step=(G,J)=>$.check(i0(G,J)),$.finite=()=>$;let X=$._zod.bag;$.minValue=Math.max(X.minimum??Number.NEGATIVE_INFINITY,X.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,$.maxValue=Math.min(X.maximum??Number.POSITIVE_INFINITY,X.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,$.isInt=(X.format??"").includes("int")||Number.isSafeInteger(X.multipleOf??0.5),$.isFinite=!0,$.format=X.format??null});function wP($){return qD(aJ,$)}var O2=A("ZodNumberFormat",($,U)=>{yO.init($,U),aJ.init($,U)});function qV($){return PD(O2,$)}function Kn($){return ED(O2,$)}function On($){return SD(O2,$)}function zn($){return ZD(O2,$)}function Dn($){return ID(O2,$)}var sJ=A("ZodBoolean",($,U)=>{vJ.init($,U),N$.init($,U)});function NP($){return RD(sJ,$)}var eJ=A("ZodBigInt",($,U)=>{v7.init($,U),N$.init($,U),$.gte=(G,J)=>$.check(m6(G,J)),$.min=(G,J)=>$.check(m6(G,J)),$.gt=(G,J)=>$.check(_1(G,J)),$.gte=(G,J)=>$.check(m6(G,J)),$.min=(G,J)=>$.check(m6(G,J)),$.lt=(G,J)=>$.check(B1(G,J)),$.lte=(G,J)=>$.check(K4(G,J)),$.max=(G,J)=>$.check(K4(G,J)),$.positive=(G)=>$.check(_1(BigInt(0),G)),$.negative=(G)=>$.check(B1(BigInt(0),G)),$.nonpositive=(G)=>$.check(K4(BigInt(0),G)),$.nonnegative=(G)=>$.check(m6(BigInt(0),G)),$.multipleOf=(G,J)=>$.check(i0(G,J));let X=$._zod.bag;$.minValue=X.minimum??null,$.maxValue=X.maximum??null,$.format=X.format??null});function Vn($){return kD(eJ,$)}var yV=A("ZodBigIntFormat",($,U)=>{lO.init($,U),eJ.init($,U)});function Bn($){return xD(yV,$)}function _n($){return fD(yV,$)}var jP=A("ZodSymbol",($,U)=>{cO.init($,U),N$.init($,U)});function Mn($){return hD(jP,$)}var HP=A("ZodUndefined",($,U)=>{iO.init($,U),N$.init($,U)});function Fn($){return gD(HP,$)}var WP=A("ZodNull",($,U)=>{nO.init($,U),N$.init($,U)});function KP($){return bD(WP,$)}var OP=A("ZodAny",($,U)=>{pO.init($,U),N$.init($,U)});function Ln(){return mD(OP)}var zP=A("ZodUnknown",($,U)=>{dO.init($,U),N$.init($,U)});function K2(){return uD(zP)}var DP=A("ZodNever",($,U)=>{oO.init($,U),N$.init($,U)});function lV($){return yD(DP,$)}var VP=A("ZodVoid",($,U)=>{rO.init($,U),N$.init($,U)});function An($){return lD(VP,$)}var YQ=A("ZodDate",($,U)=>{tO.init($,U),N$.init($,U),$.min=(G,J)=>$.check(m6(G,J)),$.max=(G,J)=>$.check(K4(G,J));let X=$._zod.bag;$.minDate=X.minimum?new Date(X.minimum):null,$.maxDate=X.maximum?new Date(X.maximum):null});function qn($){return cD(YQ,$)}var BP=A("ZodArray",($,U)=>{aO.init($,U),N$.init($,U),$.element=U.element,$.min=(X,G)=>$.check(p1(X,G)),$.nonempty=(X)=>$.check(p1(1,X)),$.max=(X,G)=>$.check(j2(X,G)),$.length=(X,G)=>$.check(H2(X,G)),$.unwrap=()=>$.element});function QQ($,U){return aD(BP,$,U)}function vn($){let U=$._zod.def.shape;return pV(Object.keys(U))}var wQ=A("ZodObject",($,U)=>{sO.init($,U),N$.init($,U),y.defineLazy($,"shape",()=>{return U.shape}),$.keyof=()=>pV(Object.keys($._zod.def.shape)),$.catchall=(X)=>$.clone({...$._zod.def,catchall:X}),$.passthrough=()=>$.clone({...$._zod.def,catchall:K2()}),$.loose=()=>$.clone({...$._zod.def,catchall:K2()}),$.strict=()=>$.clone({...$._zod.def,catchall:lV()}),$.strip=()=>$.clone({...$._zod.def,catchall:void 0}),$.extend=(X)=>{return y.extend($,X)},$.safeExtend=(X)=>{return y.safeExtend($,X)},$.merge=(X)=>y.merge($,X),$.pick=(X)=>y.pick($,X),$.omit=(X)=>y.omit($,X),$.partial=(...X)=>y.partial(oV,$,X[0]),$.required=(...X)=>y.required(rV,$,X[0])});function Pn($,U){let X={type:"object",shape:$??{},...y.normalizeParams(U)};return new wQ(X)}function En($,U){return new wQ({type:"object",shape:$,catchall:lV(),...y.normalizeParams(U)})}function Sn($,U){return new wQ({type:"object",shape:$,catchall:K2(),...y.normalizeParams(U)})}var cV=A("ZodUnion",($,U)=>{P7.init($,U),N$.init($,U),$.options=U.options});function iV($,U){return new cV({type:"union",options:$,...y.normalizeParams(U)})}var _P=A("ZodDiscriminatedUnion",($,U)=>{cV.init($,U),eO.init($,U)});function Zn($,U,X){return new _P({type:"union",options:U,discriminator:$,...y.normalizeParams(X)})}var MP=A("ZodIntersection",($,U)=>{$z.init($,U),N$.init($,U)});function FP($,U){return new MP({type:"intersection",left:$,right:U})}var LP=A("ZodTuple",($,U)=>{E7.init($,U),N$.init($,U),$.rest=(X)=>$.clone({...$._zod.def,rest:X})});function AP($,U,X){let G=U instanceof Y$,J=G?X:U;return new LP({type:"tuple",items:$,rest:G?U:null,...y.normalizeParams(J)})}var nV=A("ZodRecord",($,U)=>{Uz.init($,U),N$.init($,U),$.keyType=U.keyType,$.valueType=U.valueType});function qP($,U,X){return new nV({type:"record",keyType:$,valueType:U,...y.normalizeParams(X)})}function In($,U,X){let G=I6($);return G._zod.values=void 0,new nV({type:"record",keyType:G,valueType:U,...y.normalizeParams(X)})}var vP=A("ZodMap",($,U)=>{Jz.init($,U),N$.init($,U),$.keyType=U.keyType,$.valueType=U.valueType});function Rn($,U,X){return new vP({type:"map",keyType:$,valueType:U,...y.normalizeParams(X)})}var PP=A("ZodSet",($,U)=>{Xz.init($,U),N$.init($,U),$.min=(...X)=>$.check(n0(...X)),$.nonempty=(X)=>$.check(n0(1,X)),$.max=(...X)=>$.check(N2(...X)),$.size=(...X)=>$.check(fJ(...X))});function Tn($,U){return new PP({type:"set",valueType:$,...y.normalizeParams(U)})}var oJ=A("ZodEnum",($,U)=>{Gz.init($,U),N$.init($,U),$.enum=U.entries,$.options=Object.values(U.entries);let X=new Set(Object.keys(U.entries));$.extract=(G,J)=>{let Y={};for(let Q of G)if(X.has(Q))Y[Q]=U.entries[Q];else throw Error(`Key ${Q} not found in enum`);return new oJ({...U,checks:[],...y.normalizeParams(J),entries:Y})},$.exclude=(G,J)=>{let Y={...U.entries};for(let Q of G)if(X.has(Q))delete Y[Q];else throw Error(`Key ${Q} not found in enum`);return new oJ({...U,checks:[],...y.normalizeParams(J),entries:Y})}});function pV($,U){let X=Array.isArray($)?Object.fromEntries($.map((G)=>[G,G])):$;return new oJ({type:"enum",entries:X,...y.normalizeParams(U)})}function kn($,U){return new oJ({type:"enum",entries:$,...y.normalizeParams(U)})}var EP=A("ZodLiteral",($,U)=>{Yz.init($,U),N$.init($,U),$.values=new Set(U.values),Object.defineProperty($,"value",{get(){if(U.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return U.values[0]}})});function Cn($,U){return new EP({type:"literal",values:Array.isArray($)?$:[$],...y.normalizeParams(U)})}var SP=A("ZodFile",($,U)=>{Qz.init($,U),N$.init($,U),$.min=(X,G)=>$.check(n0(X,G)),$.max=(X,G)=>$.check(N2(X,G)),$.mime=(X,G)=>$.check(lJ(Array.isArray(X)?X:[X],G))});function xn($){return sD(SP,$)}var ZP=A("ZodTransform",($,U)=>{wz.init($,U),N$.init($,U),$._zod.parse=(X,G)=>{if(G.direction==="backward")throw new u0($.constructor.name);X.addIssue=(Y)=>{if(typeof Y==="string")X.issues.push(y.issue(Y,X.value,U));else{let Q=Y;if(Q.fatal)Q.continue=!1;Q.code??(Q.code="custom"),Q.input??(Q.input=X.value),Q.inst??(Q.inst=$),X.issues.push(y.issue(Q))}};let J=U.transform(X.value,X);if(J instanceof Promise)return J.then((Y)=>{return X.value=Y,X});return X.value=J,X}});function dV($){return new ZP({type:"transform",transform:$})}var oV=A("ZodOptional",($,U)=>{Nz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function UQ($){return new oV({type:"optional",innerType:$})}var IP=A("ZodNullable",($,U)=>{jz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function JQ($){return new IP({type:"nullable",innerType:$})}function fn($){return UQ(JQ($))}var RP=A("ZodDefault",($,U)=>{Hz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType,$.removeDefault=$.unwrap});function TP($,U){return new RP({type:"default",innerType:$,get defaultValue(){return typeof U==="function"?U():y.shallowClone(U)}})}var kP=A("ZodPrefault",($,U)=>{Wz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function CP($,U){return new kP({type:"prefault",innerType:$,get defaultValue(){return typeof U==="function"?U():y.shallowClone(U)}})}var rV=A("ZodNonOptional",($,U)=>{Kz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function xP($,U){return new rV({type:"nonoptional",innerType:$,...y.normalizeParams(U)})}var fP=A("ZodSuccess",($,U)=>{Oz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function hn($){return new fP({type:"success",innerType:$})}var hP=A("ZodCatch",($,U)=>{zz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType,$.removeCatch=$.unwrap});function gP($,U){return new hP({type:"catch",innerType:$,catchValue:typeof U==="function"?U:()=>U})}var bP=A("ZodNaN",($,U)=>{Dz.init($,U),N$.init($,U)});function gn($){return nD(bP,$)}var tV=A("ZodPipe",($,U)=>{Vz.init($,U),N$.init($,U),$.in=U.in,$.out=U.out});function XQ($,U){return new tV({type:"pipe",in:$,out:U})}var aV=A("ZodCodec",($,U)=>{tV.init($,U),PJ.init($,U)});function bn($,U,X){return new aV({type:"pipe",in:$,out:U,transform:X.decode,reverseTransform:X.encode})}var mP=A("ZodReadonly",($,U)=>{Bz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function uP($){return new mP({type:"readonly",innerType:$})}var yP=A("ZodTemplateLiteral",($,U)=>{_z.init($,U),N$.init($,U)});function mn($,U){return new yP({type:"template_literal",parts:$,...y.normalizeParams(U)})}var lP=A("ZodLazy",($,U)=>{Lz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.getter()});function cP($){return new lP({type:"lazy",getter:$})}var iP=A("ZodPromise",($,U)=>{Fz.init($,U),N$.init($,U),$.unwrap=()=>$._zod.def.innerType});function un($){return new iP({type:"promise",innerType:$})}var nP=A("ZodFunction",($,U)=>{Mz.init($,U),N$.init($,U)});function yn($){return new nP({type:"function",input:Array.isArray($?.input)?AP($?.input):$?.input??QQ(K2()),output:$?.output??K2()})}var NQ=A("ZodCustom",($,U)=>{Az.init($,U),N$.init($,U)});function ln($){let U=new g$({check:"custom"});return U._zod.check=$,U}function cn($,U){return eD(NQ,$??(()=>!0),U)}function pP($,U={}){return $V(NQ,$,U)}function dP($){return UV($)}var nn=JV,pn=XV;function dn($,U={error:`Input not instance of ${$.name}`}){let X=new NQ({type:"custom",check:"custom",fn:(G)=>G instanceof $,abort:!0,...y.normalizeParams(U)});return X._zod.bag.Class=$,X}var on=(...$)=>GV({Codec:aV,Boolean:sJ,String:rJ},...$);function rn($){let U=cP(()=>{return iV([AV($),wP(),NP(),KP(),QQ(U),qP(AV(),U)])});return U}function tn($,U){return XQ(dV($),U)}var an={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function sn($){Q6({customError:$})}function en(){return Q6().customError}var sV;(function($){})(sV||(sV={}));var eV={};H6(eV,{string:()=>$p,number:()=>Up,date:()=>Gp,boolean:()=>Jp,bigint:()=>Xp});function $p($){return VD(rJ,$)}function Up($){return vD(aJ,$)}function Jp($){return TD(sJ,$)}function Xp($){return CD(eJ,$)}function Gp($){return iD(YQ,$)}Q6(EJ());var aP=class $ extends F6{openAPIRegistry;defaultHook;constructor(U){super(U);this.openAPIRegistry=new UK,this.defaultHook=U?.defaultHook}openapi=({middleware:U,hide:X,...G},J,Y=this.defaultHook)=>{if(!X)this.openAPIRegistry.registerPath(G);let Q=[];if(G.request?.query){let j=m0("query",G.request.query,Y);Q.push(j)}if(G.request?.params){let j=m0("param",G.request.params,Y);Q.push(j)}if(G.request?.headers){let j=m0("header",G.request.headers,Y);Q.push(j)}if(G.request?.cookies){let j=m0("cookie",G.request.cookies,Y);Q.push(j)}let w=G.request?.body?.content;if(w)for(let j of Object.keys(w)){if(!w[j])continue;let H=w[j].schema;if(!(H instanceof N$))continue;if(rP(j)){let K=m0("json",H,Y);if(G.request?.body?.required)Q.push(K);else{let z=async(W,O)=>{if(W.req.header("content-type")){if(rP(W.req.header("content-type")))return await K(W,O)}W.req.addValidatedData("json",{}),await O()};Q.push(z)}}if(tP(j)){let K=m0("form",H,Y);if(G.request?.body?.required)Q.push(K);else{let z=async(W,O)=>{if(W.req.header("content-type")){if(tP(W.req.header("content-type")))return await K(W,O)}W.req.addValidatedData("form",{}),await O()};Q.push(z)}}}let N=U?Array.isArray(U)?U:[U]:[];return this.on([G.method],G.path.replaceAll(/\/{(.+?)}/g,"/:$1"),...N,...Q,J),this};getOpenAPIDocument=(U)=>{let G=new XK(this.openAPIRegistry.definitions).generateDocument(U);return this._basePath?oP(G,this._basePath):G};getOpenAPI31Document=(U)=>{let G=new GK(this.openAPIRegistry.definitions).generateDocument(U);return this._basePath?oP(G,this._basePath):G};doc=(U,X)=>{return this.get(U,(G)=>{let J=typeof X==="function"?X(G):X;try{let Y=this.getOpenAPIDocument(J);return G.json(Y)}catch(Y){return G.json(Y,500)}})};doc31=(U,X)=>{return this.get(U,(G)=>{let J=typeof X==="function"?X(G):X;try{let Y=this.getOpenAPI31Document(J);return G.json(Y)}catch(Y){return G.json(Y,500)}})};route(U,X){let G=U.replaceAll(/:([^\/]+)/g,"{$1}");if(super.route(U,X),!(X instanceof $))return this;return X.openAPIRegistry.definitions.forEach((J)=>{switch(J.type){case"component":return this.openAPIRegistry.registerComponent(J.componentType,J.name,J.component);case"route":{this.openAPIRegistry.registerPath({...J.route,path:z4(G,X._basePath.replaceAll(/:([^\/]+)/g,"{$1}"),J.route.path)});return}case"webhook":{this.openAPIRegistry.registerWebhook({...J.webhook,path:z4(G,X._basePath.replaceAll(/:([^\/]+)/g,"{$1}"),J.webhook.path)});return}case"schema":return this.openAPIRegistry.register(J.schema._def.openapi._internal.refId,J.schema);case"parameter":return this.openAPIRegistry.registerParameter(J.schema._def.openapi._internal.refId,J.schema);default:throw Error(`Unknown registry type: ${J}`)}}),this}basePath(U){return new $({...super.basePath(U),defaultHook:this.defaultHook})}},$X=($)=>{let U={...$,getRoutingPath(){return $.path.replaceAll(/\/{(.+?)}/g,"/:$1")}};return Object.defineProperty(U,"getRoutingPath",{enumerable:!1})};Yv(jQ);function oP($,U){let X={};return Object.keys($.paths).forEach((G)=>{X[z4(U.replaceAll(/:([^\/]+)/g,"{$1}"),G)]=$.paths[G]}),{...$,paths:X}}function rP($){return/^application\/([a-z-\.]+\+)?json/.test($)}function tP($){return $.startsWith("multipart/form-data")||$.startsWith("application/x-www-form-urlencoded")}var LB=t$(V6(),1);var Tp=V.object({onCreate:V.function().optional(),onDestroy:V.function().optional(),onWake:V.function().optional(),onSleep:V.function().optional(),onStateChange:V.function().optional(),onBeforeConnect:V.function().optional(),onConnect:V.function().optional(),onDisconnect:V.function().optional(),onBeforeActionResponse:V.function().optional(),onRequest:V.function().optional(),onWebSocket:V.function().optional(),actions:V.record(V.function()).default({}),state:V.any().optional(),createState:V.function().optional(),connState:V.any().optional(),createConnState:V.function().optional(),vars:V.any().optional(),db:V.any().optional(),createVars:V.function().optional(),options:V.object({createVarsTimeout:V.number().positive().default(5000),createConnStateTimeout:V.number().positive().default(5000),onConnectTimeout:V.number().positive().default(5000),onSleepTimeout:V.number().positive().default(5000),onDestroyTimeout:V.number().positive().default(5000),stateSaveInterval:V.number().positive().default(1e4),actionTimeout:V.number().positive().default(60000),waitUntilTimeout:V.number().positive().default(15000),connectionLivenessTimeout:V.number().positive().default(2500),connectionLivenessInterval:V.number().positive().default(5000),noSleep:V.boolean().default(!1),sleepTimeout:V.number().positive().default(30000),canHibernateWebSocket:V.union([V.boolean(),V.function().args(V.custom()).returns(V.boolean())]).default(!1)}).strict().default({})}).strict().refine(($)=>!($.state!==void 0&&$.createState!==void 0),{message:"Cannot define both 'state' and 'createState'",path:["state"]}).refine(($)=>!($.connState!==void 0&&$.createConnState!==void 0),{message:"Cannot define both 'connState' and 'createConnState'",path:["connState"]}).refine(($)=>!($.vars!==void 0&&$.createVars!==void 0),{message:"Cannot define both 'vars' and 'createVars'",path:["vars"]});function kp(){return{type:"raw-request",disconnect:async()=>{},getConnectionReadyState:()=>{return 1}}}async function Cp($,U,X,G,J){let Y=ME($.req),Q=LE($.req),w=await $.req.arrayBuffer(),j=_0(Y,new Uint8Array(w),iW,oW,(O)=>O.args,(O)=>T$(new Uint8Array(O.args))),H,K,z;try{H=await X.loadActor(J),H.rLog.debug({msg:"handling action",actionName:G,encoding:Y}),K=await H.connectionManager.prepareAndConnectConn(cW(),Q,$.req.raw,$.req.path,$.req.header());let O=new tY(H,K);z=await H.executeAction(O,G,j)}finally{if(K)K.disconnect()}let W=B0(Y,z,nW,rW,(O)=>({output:O}),(O)=>({output:R$(E$(O))}));return $.body(W,200,{"Content-Type":BG(Y)})}async function xp($,U,X,G){let J=await X.loadActor(G),Y=LE($.req),Q;try{let w=await J.connectionManager.prepareAndConnectConn(kp(),Y,U,$.req.path,$.req.header());return Q=w,await J.handleRawRequest(w,U)}finally{if(Q)Q.disconnect()}}function ME($){let U=$.header(V0);if(!U)return"json";let X=Q1.safeParse(U);if(!X.success)throw new aB(U);return X.data}function FE($){return!1}function LE($){let U=$.header(T1);if(!U)return null;try{return JSON.parse(U)}catch(X){throw new J_(`Invalid params JSON: ${B$(X)}`)}}var aJ$=V.record(V.string(),V.custom()),fp=V.object({enabled:V.boolean()}),AE=V.object({use:V.record(V.string(),V.custom()),test:fp.optional().default({enabled:!1})});function _B($){return Object.fromEntries(Object.keys($.use).map((U)=>[U,{metadata:{}}]))}function hp(){return W6("router")}function qE($){return async(U,X)=>{let G=U.req.method,J=U.req.path,Y=Date.now();await X();let Q=Date.now()-Y;$.debug({msg:"http request",method:G,path:J,status:U.res.status,dt:`${Q}ms`,reqSize:U.req.header("content-length"),resSize:U.res.headers.get("content-length"),userAgent:U.req.header("user-agent"),...p$("_RIVET_LOG_HEADERS")?{allHeaders:JSON.stringify(U.req.header())}:{}})}}function vE($){return $.text("Not Found (RivetKit)",404)}function PE($,U){let X=FE(U.req.raw),{statusCode:G,group:J,code:Y,message:Q,metadata:w}=e6($,hp(),{method:U.req.method,path:U.req.path},X),N;try{N=ME(U.req)}catch(K){N="json"}let H=B0(N,{group:J,code:Y,message:Q,metadata:w},pW,tW,(K)=>({group:K.group,code:K.code,message:K.message,metadata:K.metadata}),(K)=>({group:K.group,code:K.code,message:K.message,metadata:K.metadata?R$(E$(K.metadata)):null}));return U.body(H,{status:G})}function EE($,U,X){let G={runtime:"rivetkit",version:Q0,runner:{kind:X.runnerKind==="serverless"?{serverless:{}}:{normal:{}}},actorNames:_B(U),clientEndpoint:X.overrideServerAddress};return $.json(G)}function SE($){return $.json({status:"ok",runtime:"rivetkit",version:Q0})}function gp($,U){let X;return{driver:{type:"raw-websocket",hibernatable:$,disconnect:async(J,Y,Q)=>{if(!X){c4().warn("disconnecting raw ws without websocket");return}X.close(1000,Q),await U},terminate:()=>{var J;(J=X==null?void 0:X.terminate)==null||J.call(X)},getConnectionReadyState:(J,Y)=>{return(X==null?void 0:X.readyState)??0}},setWebSocket(J){X=J}}}function bp($,U,X){c4().debug({msg:"createWebSocketDriver creating driver",hibernatable:$});let G;return{driver:{type:"websocket",hibernatable:$,rivetKitProtocol:{sendMessage:(Y,Q,w)=>{if(!G){Y.rLog.warn({msg:"websocket not open",connId:Q.id});return}if(G.readyState!==1){Y.rLog.warn({msg:"attempting to send message to closed websocket, this is likely a bug in RivetKit",connId:Q.id,wsReadyState:G.readyState});return}let N=w.serialize(U);if(Y.rLog.debug({msg:"sending websocket message",encoding:U,dataType:typeof N,isUint8Array:N instanceof Uint8Array,isArrayBuffer:N instanceof ArrayBuffer,dataLength:N.byteLength||N.length}),N instanceof Uint8Array){let j=N.buffer.slice(N.byteOffset,N.byteOffset+N.byteLength);if(j instanceof SharedArrayBuffer){let H=new ArrayBuffer(j.byteLength);new Uint8Array(H).set(new Uint8Array(j)),Y.rLog.debug({msg:"converted SharedArrayBuffer to ArrayBuffer",byteLength:H.byteLength}),G.send(H)}else Y.rLog.debug({msg:"sending ArrayBuffer",byteLength:j.byteLength}),G.send(j)}else Y.rLog.debug({msg:"sending string data",length:N.length}),G.send(N)}},disconnect:async(Y,Q,w)=>{if(!G){c4().warn("disconnecting ws without websocket");return}G.close(1000,w),await X},terminate:()=>{G.terminate()},getConnectionReadyState:(Y,Q)=>{return(G==null?void 0:G.readyState)??0}},setWebSocket(Y){G=Y}}}async function NX($,U,X,G,J,Y,Q,w,N,j,H,K){let z=$?FE($):!1,W;try{let O=await J.loadActor(Y);O.rLog.debug({msg:"new websocket connection",actorId:Y,requestPath:U,isHibernatable:H});let D=A6(),B,v;if(U===z0){let{driver:L,setWebSocket:M}=bp(H?{gatewayId:N,requestId:j}:void 0,Q,D.promise);B=mp.bind(void 0,M),v=L}else if(U===N5||U.startsWith(D0)){let{driver:L,setWebSocket:M}=gp(H?{gatewayId:N,requestId:j}:void 0,D.promise);B=up.bind(void 0,M),v=L}else if(U===DG)return await yp();else throw`WebSocket Path Not Found: ${U}`;let E=await O.connectionManager.prepareConn(v,w,$,U,X,H,K);return W=E,await B({runConfig:G,request:$,encoding:Q,actor:O,closePromiseResolvers:D,conn:E,exposeInternalError:z})}catch(O){let{group:D,code:B}=e6(O,c4(),{},z);if(W)W.disconnect(`${D}.${B}`);return{conn:W,onOpen:(v,E)=>{E.close(1011,B)},onMessage:(v,E)=>{E.close(1011,"actor.not_loaded")},onClose:(v,E)=>{},onError:(v)=>{}}}}async function mp($,{runConfig:U,encoding:X,actor:G,closePromiseResolvers:J,conn:Y,exposeInternalError:Q}){return{conn:Y,actor:G,onRestore:(w)=>{$(w)},onOpen:(w,N)=>{G.rLog.debug("actor websocket open"),$(N),G.connectionManager.connectConn(Y)},onMessage:(w,N)=>{G.rLog.debug({msg:"received message"});let j=w.data.valueOf();iq(j,{encoding:X,maxIncomingMessageSize:U.maxIncomingMessageSize}).then((H)=>{G.processMessage(H,Y).catch((K)=>{let{code:z}=e6(K,G.rLog,{wsEvent:"message"},Q);N.close(1011,z)})}).catch((H)=>{let{code:K}=e6(H,G.rLog,{wsEvent:"message"},Q);N.close(1011,K)})},onClose:(w,N)=>{if(J.resolve(),w.wasClean)G.rLog.info({msg:"websocket closed",code:w.code,reason:w.reason,wasClean:w.wasClean});else G.rLog.warn({msg:"websocket closed",code:w.code,reason:w.reason,wasClean:w.wasClean});N.close(1000,"hack_force_close"),Y.disconnect(w==null?void 0:w.reason)},onError:(w)=>{try{G.rLog.warn({msg:"websocket error"})}catch(N){e6(N,G.rLog,{wsEvent:"error"},Q)}}}}async function up($,{request:U,actor:X,closePromiseResolvers:G,conn:J}){return{conn:J,actor:X,onRestore:(Y)=>{let Q=Y.raw;NB.default(Q,"missing wsContext.raw"),$(Q)},onOpen:(Y,Q)=>{let w=Q.raw;NB.default(w,"missing wsContext.raw"),$(w),X.connectionManager.connectConn(J),X.handleRawWebSocket(J,w,U)},onMessage:(Y,Q)=>{let w=Q.__adapter;if(w)w._handleMessage(Y)},onClose:(Y,Q)=>{G.resolve(),J.disconnect(Y==null?void 0:Y.reason)},onError:(Y,Q)=>{}}}async function yp(){return{onOpen:($,U)=>{U.send("Hello world")},onMessage:($,U)=>{U.send("Pong")},onClose:($,U)=>{},onError:($)=>{}}}function ZE($){let U,X;if($){let Y=$.split(",").map((Q)=>Q.trim());for(let Q of Y)if(Q.startsWith(q4))U=Q.substring(q4.length);else if(Q.startsWith(v4))X=decodeURIComponent(Q.substring(v4.length))}let G=Q1.parse(U),J=X?JSON.parse(X):void 0;return{encoding:G,connParams:J}}function lp($){let U=new URL($,"http://actor"),X=U.pathname.replace(/^\/websocket\/?/,"")||"/";return(X.startsWith("/")?X:`/${X}`)+U.search}function MB($,U,X){let G=new F6({strict:!1});if(G.use("*",qE(c4())),G.use("*",async(J,Y)=>{let Q=await U.loadActor(J.env.actorId);Q.beginHonoHttpRequest();try{await Y()}finally{Q.endHonoHttpRequest()}}),G.get("/",(J)=>{return J.text(`This is an RivetKit actor.

Learn more at https://rivetkit.org`)}),G.get("/health",(J)=>{return J.text("ok")}),X)G.post("/.test/force-disconnect",async(J)=>{var Y;let Q=J.req.query("conn");if(!Q)return J.text("Missing conn query parameter",400);let w=await U.loadActor(J.env.actorId),N=w.connectionManager.getConnForId(Q);if(!N)return J.text(`Connection not found: ${Q}`,404);if((Y=N[M6])==null?void 0:Y.terminate)N[M6].terminate(w,N);return J.json({success:!0})});if(G.on("GET",[z0,`${D0}*`,DG],async(J)=>{var Y;let Q=(Y=$.getUpgradeWebSocket)==null?void 0:Y.call($);if(Q)return Q(async(w)=>{let N=w.req.header("sec-websocket-protocol"),{encoding:j,connParams:H}=ZE(N);return await NX(w.req.raw,w.req.path,w.req.header(),$,U,w.env.actorId,j,H,void 0,void 0,!1,!1)})(J,Y0());else return J.text("WebSockets are not enabled for this driver.",400)}),G.post("/action/:action",async(J)=>{let Y=J.req.param("action");return Cp(J,$,U,Y,J.env.actorId)}),G.all("/request/*",async(J)=>{let Y=new URL(J.req.url),Q=Y.pathname.replace(/^\/request/,"")||"/",w=new URL(Q+Y.search,Y.origin),N=new Request(w,{method:J.req.method,headers:J.req.raw.headers,body:J.req.raw.body,duplex:"half"});return c4().debug({msg:"rewriting http url",from:J.req.url,to:N.url}),await xp(J,N,U,J.env.actorId)}),m2($,"actor"))G.route("/inspect",new F6().use(f9($),async(J,Y)=>{let Q=(await U.loadActor(J.env.actorId)).inspector;return _E.default(Q,"inspector not supported on this platform"),J.set("inspector",Q),Y()}).route("/",hq()));return G.notFound(vE),G.onError(PE),G}function FB($){let U=Tp.parse($);return new dq(U)}function n$(){return W6("fake-event-source2")}var IE=class{CONNECTING=0;OPEN=1;CLOSING=2;CLOSED=3;#$;#U;#X=0;#G=[];#J=new Map;constructor($){this.#$=$,this.#U=new eY({raw:this,send:(U)=>{n$().debug({msg:"WSContext.send called"}),this.#w(U)},close:(U,X)=>{n$().debug({msg:"WSContext.close called",code:U,reason:X}),this.#H(U||1000,X||"")},readyState:1}),setTimeout(()=>{this.#Q()},0)}get readyState(){return this.#X}get binaryType(){return"arraybuffer"}set binaryType($){}get bufferedAmount(){return 0}get extensions(){return""}get protocol(){return""}get url(){return""}send($){if(n$().debug({msg:"send called",readyState:this.readyState}),this.readyState===this.CONNECTING)throw new DOMException("WebSocket is still in CONNECTING state","InvalidStateError");if(this.readyState===this.CLOSING||this.readyState===this.CLOSED){n$().debug({msg:"ignoring send, websocket is closing or closed",readyState:this.readyState});return}this.#$.onMessage({data:$},this.#U)}close($=1000,U=""){if(this.readyState===this.CLOSED||this.readyState===this.CLOSING)return;n$().debug({msg:"closing fake websocket",code:$,reason:U}),this.#X=this.CLOSING;try{this.#$.onClose({code:$,reason:U,wasClean:!0},this.#U)}catch(X){n$().error({msg:"error closing websocket",error:X})}finally{this.#X=this.CLOSED;let X={type:"close",wasClean:$===1000,code:$,reason:U,target:this,currentTarget:this};this.#K(X)}}async#Q(){try{if(n$().debug({msg:"fake websocket initializing"}),n$().debug({msg:"calling handler.onOpen with WSContext"}),this.#$.onOpen(void 0,this.#U),this.#X=this.OPEN,n$().debug({msg:"fake websocket initialized and now OPEN"}),this.#W(),this.#G.length>0){if(this.readyState!==this.OPEN){n$().warn({msg:"socket no longer open, dropping queued messages"});return}n$().debug({msg:`now processing ${this.#G.length} queued messages`});let $=[...this.#G];this.#G=[];for(let U of $)n$().debug({msg:"processing queued message"}),this.#w(U)}}catch($){n$().error({msg:"error opening fake websocket",error:$,errorMessage:$ instanceof Error?$.message:String($),stack:$ instanceof Error?$.stack:void 0}),this.#j($),this.close(1011,"Internal error during initialization")}}#w($){if(this.readyState!==this.OPEN){n$().debug({msg:"message received before socket is OPEN, queuing",readyState:this.readyState,dataType:typeof $,dataLength:typeof $==="string"?$.length:$ instanceof ArrayBuffer?$.byteLength:$ instanceof Uint8Array?$.byteLength:"unknown"}),this.#G.push($);return}n$().debug({msg:"fake websocket received message from server",dataType:typeof $,dataLength:typeof $==="string"?$.length:$ instanceof ArrayBuffer?$.byteLength:$ instanceof Uint8Array?$.byteLength:"unknown"});let U={type:"message",data:$,target:this,currentTarget:this};this.#Y("message",U)}#H($,U){if(this.readyState===this.CLOSED)return;this.#X=this.CLOSED;let X={type:"close",code:$,reason:U,wasClean:$===1000,target:this,currentTarget:this};this.#Y("close",X)}addEventListener($,U){if(!this.#J.has($))this.#J.set($,[]);this.#J.get($).push(U)}removeEventListener($,U){let X=this.#J.get($);if(X){let G=X.indexOf(U);if(G!==-1)X.splice(G,1)}}#Y($,U){let X=this.#J.get($);if(X&&X.length>0){n$().debug(`dispatching ${$} event to ${X.length} listeners`);for(let G of X)try{G(U)}catch(J){n$().error({msg:`error in ${$} event listener`,error:J})}}switch($){case"open":if(this.#N)try{this.#N(U)}catch(G){n$().error({msg:"error in onopen handler",error:G})}break;case"close":if(this.#z)try{this.#z(U)}catch(G){n$().error({msg:"error in onclose handler",error:G})}break;case"error":if(this.#O)try{this.#O(U)}catch(G){n$().error({msg:"error in onerror handler",error:G})}break;case"message":if(this.#B)try{this.#B(U)}catch(G){n$().error({msg:"error in onmessage handler",error:G})}break}}dispatchEvent($){return this.#Y($.type,$),!0}#W(){try{let $={type:"open",target:this,currentTarget:this};this.#Y("open",$)}catch($){n$().error({msg:"error in open event",error:$})}}#K($){try{this.#Y("close",$)}catch(U){n$().error({msg:"error in close event",error:U})}}#j($){try{let U={type:"error",target:this,currentTarget:this,error:$,message:$ instanceof Error?$.message:String($)};this.#Y("error",U)}catch(U){n$().error({msg:"error in error event",error:U})}n$().error({msg:"websocket error",error:$})}#N=null;#z=null;#O=null;#B=null;get onopen(){return this.#N}set onopen($){this.#N=$}get onclose(){return this.#z}set onclose($){this.#z=$}get onerror(){return this.#O}set onerror($){this.#O=$}get onmessage(){return this.#B}set onmessage($){this.#B=$}};function L$(){return W6("driver-engine")}var cp=1000,jE=5000,ip=500000,np=class{#$;#U;#X;#G;#J;#Q=new Map;#w;#H=1;#Y;#W=A6();#K=A6();#j=!1;#N=new Map;#z=new Map;constructor($,U,X,G){this.#$=$,this.#U=U,this.#X=X,this.#G=G;let J=U.token;if(J&&U.inspector&&U.inspector.enabled)U.inspector.token=()=>J;this.#w=MB(U,this,$.test.enabled);let Y={version:this.#H,endpoint:u1(U),token:J,namespace:U.namespace,totalSlots:U.totalSlots,runnerName:U.runnerName,runnerKey:U.runnerKey??crypto.randomUUID(),metadata:{inspectorToken:this.#U.inspector.token()},prepopulateActorNames:_B($),onConnected:()=>{this.#W.resolve(void 0)},onDisconnected:(Q,w)=>{},onShutdown:()=>{this.#K.resolve(void 0),this.#j=!0},fetch:this.#M.bind(this),websocket:this.#D.bind(this),hibernatableWebSocket:{canHibernate:this.#_.bind(this)},onActorStart:this.#B.bind(this),onActorStop:this.#V.bind(this),logger:W6("engine-runner")};this.#J=new vq(Y),this.#J.start(),L$().debug({msg:"engine runner started",endpoint:U.endpoint,namespace:U.namespace,runnerName:U.runnerName})}getExtraActorLogParams(){return{runnerId:this.#J.runnerId??"-"}}async#O($){let U=this.#Q.get($);if(!U)throw Error(`Actor handler does not exist ${$}`);if(U.actorStartPromise)await U.actorStartPromise.promise;if(!U.actor)throw Error("Actor should be loaded");return U}getContext($){return{}}async setAlarm($,U){if(this.#Y)this.#Y.abort(),this.#Y=void 0;let X=Math.max(0,U-Date.now());this.#Y=I9(()=>{$.onAlarm(),this.#Y=void 0},X),this.#J.setAlarm($.id,U)}async getDatabase($){return}async kvBatchPut($,U){await this.#J.kvPut($,U)}async kvBatchGet($,U){return await this.#J.kvGet($,U)}async kvBatchDelete($,U){await this.#J.kvDelete($,U)}async kvList($){let X=(await this.#J.kvListPrefix($,new Uint8Array)).map(([G])=>G);return L$().info({msg:"kvList called",actorId:$,keysCount:X.length,keys:X.map((G)=>new TextDecoder().decode(G))}),X}async kvListPrefix($,U){let X=await this.#J.kvListPrefix($,U);return L$().info({msg:"kvListPrefix called",actorId:$,prefixStr:new TextDecoder().decode(U),entriesCount:X.length,keys:X.map(([G])=>new TextDecoder().decode(G))}),X}async loadActor($){let U=await this.#O($);if(!U.actor)throw Error(`Actor ${$} failed to load`);return U.actor}startSleep($){this.#N.set($,"sleep"),this.#J.sleepActor($)}startDestroy($){this.#N.set($,"destroy"),this.#J.stopActor($)}async shutdownRunner($){L$().info({msg:"stopping engine actor driver",immediate:$}),L$().debug({msg:"stopping all actors before shutdown",actorCount:this.#Q.size});let U=[];for(let[X,G]of this.#Q.entries())if(G.actor)U.push(G.actor.onStop("sleep").catch((J)=>{var Y;(Y=G.actor)==null||Y.rLog.error({msg:"onStop errored",error:B$(J)})}));await Promise.all(U),L$().debug({msg:"all actors stopped"}),await this.#J.shutdown($)}async serverlessHandleStart($){return R0($,async(U)=>{U.onAbort(()=>{}),$.req.raw.signal.addEventListener("abort",()=>{L$().debug("SSE aborted, shutting down runner"),this.shutdownRunner(!1)}),await this.#W.promise;let X=this.#J.getServerlessInitPacket();QX.default(X,"runnerId not set"),await U.writeSSE({data:X});while(!0){if(this.#j){L$().debug({msg:"runner is stopped"});break}if(U.closed||U.aborted){L$().debug({msg:"runner sse stream closed",closed:U.closed,aborted:U.aborted});break}await U.writeSSE({event:"ping",data:""}),await U.sleep(cp)}await this.#K.promise})}async#B($,U,X){L$().debug({msg:"runner actor starting",actorId:$,name:X.name,key:X.key,generation:U});let G;if(X.input)G=T$(X.input);let J=this.#Q.get($);if(!J)J={actorStartPromise:A6()},this.#Q.set($,J);let Y=X.name;QX.default(X.key,"actor should have a key");let Q=oY(X.key),[w]=await this.#J.kvGet($,[n6.PERSIST_DATA]);if(w===null){let j=LY(G);await this.#J.kvPut($,j),L$().debug({msg:"initialized persist data for new actor",actorId:$})}else L$().debug({msg:"found existing persist data for actor",actorId:$,dataSize:w.byteLength});let N=GJ(this.#$,X.name);J.actor=N.instantiate(),await J.actor.start(this,this.#G,$,Y,Q,"unknown"),L$().debug({msg:"runner actor started",actorId:$,name:Y,key:Q})}async#V($,U){L$().debug({msg:"runner actor stopping",actorId:$,generation:U});let X=this.#N.get($)??"sleep";this.#N.delete($);let G=this.#Q.get($);if(G==null?void 0:G.actor){try{await G.actor.onStop(X)}catch(J){L$().error({msg:"error in onStop, proceeding with removing actor",err:B$(J)})}this.#Q.delete($)}L$().debug({msg:"runner actor stopped",actorId:$,reason:X})}async#M($,U,X,G,J){return L$().debug({msg:"runner fetch",actorId:U,url:J.url,method:J.method}),await this.#w.fetch(J,{actorId:U})}async#D($,U,X,G,J,Y,Q,w,N,j){var H,K,z,W;let O=X,D=`ws_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;O.__rivet_ws_id=D,L$().debug({msg:"runner websocket",actorId:U,url:Y.url,isRestoringHibernatable:j,websocketObjectId:X?Object.prototype.toString.call(X):"null",websocketType:(H=X==null?void 0:X.constructor)==null?void 0:H.name,wsUniqueId:D,websocketProps:X?Object.keys(X).join(", "):"null"});let B=Y.headers.get("sec-websocket-protocol"),{encoding:v,connParams:E}=ZE(B),L;try{L=await NX(Y,Q,w,this.#U,this,U,v,E,G,J,N,j)}catch(h){L$().error({msg:"building websocket handlers errored",err:h}),X.close(1011,"ws.route_error");return}O.raw=O;let M=new eY(O),I=L.conn,x=L.actor,g=I==null?void 0:I[j4];if(L$().debug({msg:"attaching websocket event listeners",actorId:U,connId:I==null?void 0:I.id,wsUniqueId:O.__rivet_ws_id,isRestoringHibernatable:j,websocketType:(K=O==null?void 0:O.constructor)==null?void 0:K.name}),j)(z=L.onRestore)==null||z.call(L,M);if(O.addEventListener("open",(h)=>{L.onOpen(h,M)}),O.addEventListener("message",(h)=>{var r,e;if(L$().debug({msg:"websocket message event listener triggered",connId:I==null?void 0:I.id,actorId:x==null?void 0:x.id,messageIndex:h.rivetMessageIndex,hasWsHandler:!!L,hasOnMessage:!!(L==null?void 0:L.onMessage),actorIsStopping:x==null?void 0:x.isStopping,websocketType:(r=O==null?void 0:O.constructor)==null?void 0:r.name,wsUniqueId:O.__rivet_ws_id,eventTargetWsId:(e=h.target)==null?void 0:e.__rivet_ws_id}),x==null?void 0:x.isStopping){L$().debug({msg:"ignoring ws message, actor is stopping",connId:I==null?void 0:I.id,actorId:x==null?void 0:x.id,messageIndex:h.rivetMessageIndex});return}L$().debug({msg:"calling wsHandler.onMessage",connId:I==null?void 0:I.id,messageIndex:h.rivetMessageIndex}),L.onMessage(h,M);let q$=g==null?void 0:g.hibernatableData;if(q$&&I&&x){QX.default(typeof h.rivetMessageIndex==="number","missing event.rivetMessageIndex");let v$=q$.serverMessageIndex;q$.serverMessageIndex=h.rivetMessageIndex,L$().info({msg:"persisting message index",connId:I.id,previousMsgIndex:v$,newMsgIndex:h.rivetMessageIndex});let F=this.#z.get(I.id);if(F){let n=sW(h.data);if(F.bufferedMessageSize+=n,F.bufferedMessageSize>=ip)F.bufferedMessageSize=0,F.pendingAckFromBufferSize=!0,x.stateManager.saveState({immediate:!0});else x.stateManager.saveState({maxWait:jE})}else x.stateManager.saveState({maxWait:jE})}}),O.addEventListener("close",(h)=>{L.onClose(h,M)}),O.addEventListener("error",(h)=>{L.onError(h,M)}),j)L$().info({msg:"event listeners attached to restored websocket",actorId:U,connId:I==null?void 0:I.id,gatewayId:M$(G),requestId:M$(J),websocketType:(W=O==null?void 0:O.constructor)==null?void 0:W.name,hasMessageListener:!!O.addEventListener})}#_($,U,X,G){var J;let Y=new URL(G.url),Q=Y.pathname,w=this.#J.getActor($);if(!w)return L$().warn({msg:"actor not found in #hwsCanHibernate",actorId:$}),!1;let N=this.#Q.get($);if(!N)return L$().warn({msg:"actor handler not found in #hwsCanHibernate",actorId:$}),!1;if(!N.actor)return L$().warn({msg:"actor not found in #hwsCanHibernate",actorId:$}),!1;if(L$().debug({msg:"no existing hibernatable websocket found",gatewayId:M$(U),requestId:M$(X)}),Q===z0)return!0;else if(Q===N5||Q.startsWith(D0)){let H=(J=GJ(this.#$,w.config.name).config.options)==null?void 0:J.canHibernateWebSocket;if(H===!0)return!0;else if(typeof H==="function")try{let K=lp(Y.pathname),z=new Request(`http://actor${K}`,G);return H(z)}catch(K){return L$().error({msg:"error calling canHibernateWebSocket",error:K}),!1}else return!1}else if(Q===DG)return!1;else return L$().warn({msg:"unexpected path for getActorHibernationConfig",path:Q}),!1}async#F($){return(await this.loadActor($)).conns.values().map((X)=>{let J=X[j4].hibernatableData;if(!J)return;return{gatewayId:J.gatewayId,requestId:J.requestId,serverMessageIndex:J.serverMessageIndex,clientMessageIndex:J.clientMessageIndex,path:J.requestPath,headers:J.requestHeaders}}).filter((X)=>X!==void 0).toArray()}async onBeforeActorStart($){var U;let X=this.#Q.get($.id);QX.default(X,"missing actor handler in onBeforeActorReady"),(U=X.actorStartPromise)==null||U.resolve(),X.actorStartPromise=void 0;let G=await this.#F($.id);await this.#J.restoreHibernatingRequests($.id,G)}onCreateConn($){let U=$[j4].hibernatableData;if(!U)return;this.#z.set($.id,{serverMessageIndex:U.serverMessageIndex,bufferedMessageSize:0,pendingAckFromMessageIndex:!1,pendingAckFromBufferSize:!1}),L$().debug({msg:"created #hwsMessageIndex entry",connId:$.id,serverMessageIndex:U.serverMessageIndex})}onDestroyConn($){this.#z.delete($.id),L$().debug({msg:"removed #hwsMessageIndex entry",connId:$.id})}onBeforePersistConn($){let X=$[j4].hibernatableDataOrError(),G=this.#z.get($.id);if(!G){L$().warn({msg:"missing EngineActorDriver.#hwsMessageIndex entry for conn",connId:$.id});return}G.pendingAckFromMessageIndex=X.serverMessageIndex>G.serverMessageIndex,G.serverMessageIndex=X.serverMessageIndex}onAfterPersistConn($){let X=$[j4].hibernatableDataOrError(),G=this.#z.get($.id);if(!G){L$().warn({msg:"missing EngineActorDriver.#hwsMessageIndex entry for conn",connId:$.id});return}if(G.pendingAckFromMessageIndex||G.pendingAckFromBufferSize)this.#J.sendHibernatableWebSocketMessageAck(X.gatewayId,X.requestId,G.serverMessageIndex),G.pendingAckFromMessageIndex=!1,G.pendingAckFromBufferSize=!1,G.bufferedMessageSize=0}};function RE(){return{name:"engine",manager:($,U)=>{return new Jv(U)},actor:($,U,X,G)=>{return new np($,U,X,G)}}}var jB,HB,WB,KB,OB,zB,DB,HE=!1;function dp(){return pp(import.meta.url)}function TE(){if(HE)return;try{let $=dp();jB=$("node:crypto"),HB=$("node:fs"),WB=$("node:fs/promises"),KB=$("node:path"),OB=$("node:os"),zB=$("node:child_process"),DB=$("node:stream/promises"),HE=!0}catch($){throw console.warn("Node.js modules not available, file system driver will not work",$),$}}function jX(){if(!jB)throw Error("Node crypto module not loaded. Ensure importNodeDependencies() has been called.");return jB}function d1(){if(!HB)throw Error("Node fs module not loaded. Ensure importNodeDependencies() has been called.");return HB}function O4(){if(!WB)throw Error("Node fs/promises module not loaded. Ensure importNodeDependencies() has been called.");return WB}function t6(){if(!KB)throw Error("Node path module not loaded. Ensure importNodeDependencies() has been called.");return KB}function op(){if(!OB)throw Error("Node os module not loaded. Ensure importNodeDependencies() has been called.");return OB}function rp(){if(!zB)throw Error("Node child_process module not loaded. Ensure importNodeDependencies() has been called.");return zB}function tp(){if(!DB)throw Error("Node stream/promises module not loaded. Ensure importNodeDependencies() has been called.");return DB}var ap=class{#$;#U;#X;#G;#J;constructor($,U,X,G,J){this.#$=$,this.#U=U,this.#X=X,this.#G=G,this.#J=J}async loadActor($){return this.#J.startActor(this.#$,this.#U,this.#G,this,$)}get storagePath(){return this.#J.storagePath}getContext($){return{}}async kvBatchPut($,U){await this.#J.kvBatchPut($,U)}async kvBatchGet($,U){return await this.#J.kvBatchGet($,U)}async kvBatchDelete($,U){await this.#J.kvBatchDelete($,U)}async kvListPrefix($,U){return await this.#J.kvListPrefix($,U)}async setAlarm($,U){await this.#J.setActorAlarm($.id,U)}getDatabase($){return this.#J.createDatabase($)}startSleep($){this.#J.sleepActor($)}async startDestroy($){await this.#J.destroyActor($)}},_2=fU({});function WE($){return{key:Q4($),value:Q4($)}}function sp($,U){w4($,U.key),w4($,U.value)}function ep($){let U=P4($);if(U===0)return[];let X=[h$($)];for(let G=1;G<U;G++)X[G]=h$($);return X}function $d($,U){Y4($,U.length);for(let X=0;X<U.length;X++)u$($,U[X])}function Ud($){let U=P4($);if(U===0)return[];let X=[WE($)];for(let G=1;G<U;G++)X[G]=WE($);return X}function Jd($,U){Y4($,U.length);for(let X=0;X<U.length;X++)sp($,U[X])}function Xd($){return{actorId:h$($),name:h$($),key:ep($),kvStorage:Ud($),createdAt:H3($)}}function Gd($,U){u$($,U.actorId),u$($,U.name),$d($,U.key),Jd($,U.kvStorage),W3($,U.createdAt)}function Yd($){let U=new r$(new Uint8Array(_2.initialBufferLength),_2);return Gd(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function Qd($){let U=new r$($,_2),X=Xd(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}function wd($){return{actorId:h$($),timestamp:hU($)}}function Nd($,U){u$($,U.actorId),gU($,U.timestamp)}function jd($){let U=new r$(new Uint8Array(_2.initialBufferLength),_2);return Nd(U,$),new Uint8Array(U.view.buffer,U.view.byteOffset,U.offset)}function Hd($){let U=new r$($,_2),X=wd(U);if(U.offset<U.view.byteLength)throw new k$(U.offset,"remaining bytes");return X}var kE=2,CE=new Map([[2,($)=>{let U=[];if($.persistedData){let X=new Uint8Array([1]);U.push({key:R$(X),value:$.persistedData})}return{actorId:$.actorId,name:$.name,key:$.key,kvStorage:U,createdAt:$.createdAt}}]]),KE=p6({currentVersion:kE,migrations:CE,serializeVersion:($)=>Yd($),deserializeVersion:($)=>Qd($)}),OE=p6({currentVersion:kE,migrations:CE,serializeVersion:($)=>jd($),deserializeVersion:($)=>Hd($)});function y$(){return W6("driver-fs")}function QB($,U){let X=JSON.stringify([$,U]);return jX().createHash("sha256").update(X).digest("hex").substring(0,16)}function Wd($){let U=t6(),X=U.normalize($),G=U.basename(X),Y=jX().createHash("sha256").update(X).digest("hex").substring(0,8);return`${G}-${Y}`}function xE(){let $=Od("rivetkit"),U=Wd(process.cwd());return t6().join($,U)}async function Kd($){try{return await O4().access($),!0}catch{return!1}}async function wX($){if(!await Kd($))await O4().mkdir($,{recursive:!0})}function wB($){let U=d1();if(!U.existsSync($))U.mkdirSync($,{recursive:!0})}function Od($){let U=process.platform,G=op().homedir(),J=t6();switch(U){case"win32":return J.join(process.env.APPDATA||J.join(G,"AppData","Roaming"),$);case"darwin":return J.join(G,"Library","Application Support",$);default:return J.join(process.env.XDG_DATA_HOME||J.join(G,".local","share"),$)}}var zd=class{#$;#U;#X;#G;#J;#Q=new Map;#w=0;#H;get persist(){return this.#J}get storagePath(){return this.#$}get actorCountOnStartup(){return this.#w}constructor($=!0,U){this.#J=$,this.#$=$?U??xE():"/tmp";let X=t6();if(this.#U=X.join(this.#$,"state"),this.#X=X.join(this.#$,"databases"),this.#G=X.join(this.#$,"alarms"),this.#J){wB(this.#U),wB(this.#X),wB(this.#G);try{let J=d1().readdirSync(this.#U);this.#w=J.length}catch(G){y$().error({msg:"failed to count actors",error:G})}y$().debug({msg:"file system driver ready",dir:this.#$,actorCount:this.#w});try{this.#N()}catch(G){y$().error({msg:"failed to cleanup temp files",error:G})}}else y$().debug({msg:"memory driver ready"})}getActorStatePath($){return t6().join(this.#U,$)}getActorDbPath($){return t6().join(this.#X,`${$}.db`)}getActorAlarmPath($){return t6().join(this.#G,$)}async*getActorsIterator($){let U=Array.from(this.#Q.keys()).sort(),X=d1();if(X.existsSync(this.#U))U=X.readdirSync(this.#U).filter((J)=>!J.includes(".tmp")).sort();let G=$.cursor?U.indexOf($.cursor)+1:0;for(let J=G;J<U.length;J++){let Y=U[J];if(!Y)continue;try{yield await this.loadActorStateOrError(Y)}catch(Q){y$().error({msg:"failed to load actor state",actorId:Y,error:Q})}}}#Y($){let U=this.#Q.get($);if(U)return U;return U={id:$,lifecycleState:0,generation:crypto.randomUUID()},this.#Q.set($,U),U}async createActor($,U,X,G){let J=this.#Y($);if(J.state)throw new $_(U,X);if(this.isActorStopping($))throw Error(`Actor ${$} is stopping`);if(J.lifecycleState===4)J.lifecycleState=0,J.generation=crypto.randomUUID();let Y=[],Q=LY(G);for(let[w,N]of Q)Y.push({key:R$(w),value:R$(N)});return J.state={actorId:$,name:U,key:X,createdAt:BigInt(Date.now()),kvStorage:Y},J.lifecycleState=1,await this.writeActor($,J.generation,J.state),J}async loadActor($){let U=this.#Y($);if(U.lifecycleState===4)return U;if(U.state)return U;if(!this.#J)return U;if(U.loadPromise)return await U.loadPromise,U;return U.loadPromise=this.loadActorState(U),U.loadPromise}async loadActorState($){let U=this.getActorStatePath($.id);try{let G=await O4().readFile(U);return $.state=KE.deserializeWithEmbeddedVersion(new Uint8Array(G)),$}catch(X){if(X.code==="ENOENT")return $.loadPromise=void 0,$;throw Error(`Failed to load actor state: ${X}`)}}async loadOrCreateActor($,U,X,G){let J=await this.loadActor($);if(!J.state){if(this.isActorStopping($))throw Error(`Actor ${$} stopping`);if(J.lifecycleState===4)J.lifecycleState=0,J.generation=crypto.randomUUID();let Y=[],Q=LY(G);for(let[w,N]of Q)Y.push({key:R$(w),value:R$(N)});J.state={actorId:$,name:U,key:X,createdAt:BigInt(Date.now()),kvStorage:Y},await this.writeActor($,J.generation,J.state)}return J}async sleepActor($){var U;L1.default(this.#J,"cannot sleep actor with memory driver, must use file system driver");let X=this.#Y($);if(L1.default(X,`tried to sleep ${$}, does not exist`),this.isActorStopping($))return;if(X.lifecycleState=2,X.loadPromise)await X.loadPromise.catch();if((U=X.startPromise)==null?void 0:U.promise)await X.startPromise.promise.catch();L1.default(X.actor,"actor should be loaded"),await X.actor.onStop("sleep"),this.#Q.delete($)}async destroyActor($){var U;let X=this.#Y($);if(this.isActorStopping($))return;if(X.lifecycleState=3,X.loadPromise)await X.loadPromise.catch();if((U=X.startPromise)==null?void 0:U.promise)await X.startPromise.promise.catch();if(X.actor)await X.actor.onStop("destroy");if(X.alarmTimeout)X.alarmTimeout.abort();if(this.#J){let G=O4();await Promise.all([(async()=>{try{await G.unlink(this.getActorStatePath($))}catch(J){if((J==null?void 0:J.code)!=="ENOENT")y$().error({msg:"failed to delete actor state file",actorId:$,error:B$(J)})}})(),(async()=>{try{await G.unlink(this.getActorDbPath($))}catch(J){if((J==null?void 0:J.code)!=="ENOENT")y$().error({msg:"failed to delete actor database file",actorId:$,error:B$(J)})}})(),(async()=>{try{await G.unlink(this.getActorAlarmPath($))}catch(J){if((J==null?void 0:J.code)!=="ENOENT")y$().error({msg:"failed to delete actor alarm file",actorId:$,error:B$(J)})}})()])}X.state=void 0,X.loadPromise=void 0,X.actor=void 0,X.startPromise=void 0,X.alarmTimeout=void 0,X.alarmTimeout=void 0,X.pendingWriteResolver=void 0,X.lifecycleState=4}async writeActor($,U,X){if(!this.#J)return;let G=this.#Q.get($);L1.default(G,"actor entry does not exist"),await this.#W($,U,X)}isGenerationCurrentAndNotDestroyed($,U){let X=this.#Y($);if(!X)return!1;return X.generation===U&&X.lifecycleState!==3}isActorStopping($){let U=this.#Y($);if(!U)return!1;return U.lifecycleState===2||U.lifecycleState===3}async setActorAlarm($,U){let X=this.#Q.get($);L1.default(X,"actor entry does not exist");let G=X.generation;if(this.isActorStopping($)){y$().info("skipping set alarm since actor stopping");return}if(this.#J){let J=this.getActorAlarmPath($),Y=jX(),Q=`${J}.tmp.${Y.randomUUID()}`;try{let w=t6();await wX(w.dirname(J));let N={actorId:$,timestamp:BigInt(U)},j=OE.serializeWithEmbeddedVersion(N),H=O4();if(await H.writeFile(Q,j),!this.isGenerationCurrentAndNotDestroyed($,G)){y$().debug("skipping writing alarm since actor destroying or new generation");return}await H.rename(Q,J)}catch(w){try{await O4().unlink(Q)}catch{}throw y$().error({msg:"failed to write alarm",actorId:$,error:w}),Error(`Failed to write alarm: ${w}`)}}this.#j($,U)}async#W($,U,X){let G=this.getActorStatePath($),J=jX(),Y=`${G}.tmp.${J.randomUUID()}`;try{let Q=t6();await wX(Q.dirname(G));let w={actorId:X.actorId,name:X.name,key:X.key,createdAt:X.createdAt,kvStorage:X.kvStorage},N=KE.serializeWithEmbeddedVersion(w),j=O4();if(await j.writeFile(Y,N),!this.isGenerationCurrentAndNotDestroyed($,U)){y$().debug("skipping writing alarm since actor destroying or new generation");return}await j.rename(Y,G)}catch(Q){try{await O4().unlink(Y)}catch{}throw y$().error({msg:"failed to save actor state",actorId:$,error:Q}),Error(`Failed to save actor state: ${Q}`)}}onRunnerStart($,U,X,G){if(this.#H)return;this.#H={registryConfig:$,runConfig:U,inlineClient:X,actorDriver:G};try{this.#K()}catch(J){y$().error({msg:"failed to load alarms on startup",error:J})}}async startActor($,U,X,G,J){var Y;let Q=await this.loadActor(J);if(!Q.state)throw Error(`Actor does not exist and cannot be started: "${J}"`);if(Q.startPromise)return await Q.startPromise.promise,L1.default(Q.actor,"actor should have loaded"),Q.actor;if(Q.actor)return Q.actor;Q.startPromise=A6();try{let w=GJ($,Q.state.name);return Q.actor=w.instantiate(),await Q.actor.start(G,X,J,Q.state.name,Q.state.key,"unknown"),Q.startPromise.resolve(),Q.startPromise=void 0,Q.actor}catch(w){let N=Error(`Failed to start actor ${J}: ${w}`,{cause:w});throw(Y=Q.startPromise)==null||Y.reject(N),Q.startPromise=void 0,N}}async loadActorStateOrError($){let U=(await this.loadActor($)).state;if(!U)throw Error(`Actor does not exist: ${$}`);return U}getActorOrError($){let U=this.#Q.get($);if(!U)throw Error(`No entry for actor: ${$}`);return U}async createDatabase($){return this.getActorDbPath($)}#K(){try{let $=d1(),U=$.existsSync(this.#G)?$.readdirSync(this.#G):[];for(let X of U){if(X.includes(".tmp."))continue;let J=t6().join(this.#G,X);try{let Y=$.readFileSync(J),Q=OE.deserializeWithEmbeddedVersion(new Uint8Array(Y)),w=Number(Q.timestamp);if(Number.isFinite(w))this.#j(Q.actorId,w);else y$().debug({msg:"invalid alarm file contents",file:X})}catch(Y){y$().error({msg:"failed to read alarm file",file:X,error:B$(Y)})}}}catch($){y$().error({msg:"failed to list alarms directory",error:$})}}#j($,U){var X;let G=this.#Y($);if(G.alarmTimestamp!==void 0&&U>=G.alarmTimestamp){y$().debug({msg:"skipping alarm schedule (later than existing)",actorId:$,timestamp:U,current:G.alarmTimestamp});return}y$().debug({msg:"scheduling alarm",actorId:$,timestamp:U}),(X=G.alarmTimeout)==null||X.abort(),G.alarmTimestamp=U;let J=Math.max(0,U-Date.now());G.alarmTimeout=I9(async()=>{if(G.alarmTimestamp=void 0,this.#J)try{await O4().unlink(this.getActorAlarmPath($))}catch(Y){if((Y==null?void 0:Y.code)!=="ENOENT")y$().debug({msg:"failed to remove alarm file",actorId:$,error:B$(Y)})}try{y$().debug({msg:"triggering alarm",actorId:$,timestamp:U});let Y=await this.loadActor($);if(!Y.state)throw Error(`Actor does not exist: ${$}`);let Q=this.#H;if(L1.default(Q,"missing runner params"),!Y.actor)await this.startActor(Q.registryConfig,Q.runConfig,Q.inlineClient,Q.actorDriver,$);L1.default(Y.actor,"actor should be loaded after wake"),await Y.actor.onAlarm()}catch(Y){y$().error({msg:"failed to handle alarm",actorId:$,error:B$(Y)})}},J)}getOrCreateInspectorAccessToken(){let $=t6(),U=d1(),X=$.join(this.#$,"inspector-token");if(U.existsSync(X))return U.readFileSync(X,"utf-8");let G=zG();return U.writeFileSync(X,G),G}#N(){try{let $=d1(),X=$.readdirSync(this.#U).filter((J)=>J.includes(".tmp.")),G=Date.now()-3600000;for(let J of X)try{let Q=t6().join(this.#U,J);if($.statSync(Q).mtimeMs<G)$.unlinkSync(Q),y$().info({msg:"cleaned up stale temp file",file:J})}catch(Y){y$().debug({msg:"failed to cleanup temp file",file:J,error:Y})}}catch($){y$().error({msg:"failed to read actors directory for cleanup",error:$})}}async kvBatchPut($,U){let X=await this.loadActor($);if(!X.state)if(this.isActorStopping($))return;else throw Error(`Actor ${$} state not loaded`);let G=[...X.state.kvStorage];for(let[J,Y]of U){let Q=G.findIndex((w)=>w0(w.key,R$(J)));if(Q>=0)G[Q]={key:R$(J),value:R$(Y)};else G.push({key:R$(J),value:R$(Y)})}X.state={...X.state,kvStorage:G},await this.writeActor($,X.generation,X.state)}async kvBatchGet($,U){let X=await this.loadActor($);if(!X.state)if(this.isActorStopping($))throw Error(`Actor ${$} is stopping`);else throw Error(`Actor ${$} state not loaded`);let G=[];for(let J of U){let Y=X.state.kvStorage.find((Q)=>w0(Q.key,R$(J)));if(Y)G.push(new Uint8Array(Y.value));else G.push(null)}return G}async kvBatchDelete($,U){let X=await this.loadActor($);if(!X.state)if(this.isActorStopping($))return;else throw Error(`Actor ${$} state not loaded`);let G=[...X.state.kvStorage];for(let J of U){let Y=G.findIndex((Q)=>w0(Q.key,R$(J)));if(Y>=0)G.splice(Y,1)}X.state={...X.state,kvStorage:G},await this.writeActor($,X.generation,X.state)}async kvListPrefix($,U){let X=await this.loadActor($);if(!X.state)if(this.isActorStopping($))throw Error(`Actor ${$} is destroying`);else throw Error(`Actor ${$} state not loaded`);let G=[];for(let J of X.state.kvStorage){let Y=new Uint8Array(J.key);if(Y.length>=U.length){let Q=!0;for(let w=0;w<U.length;w++)if(Y[w]!==U[w]){Q=!1;break}if(Q)G.push([Y,new Uint8Array(J.value)])}}return G}};function Dd(){return new F6().get("/ping",($)=>{return $.json({message:"pong"},200)}).get("/actors",async($)=>{let U=Number.parseInt($.req.query("limit")??"")||void 0,X=$.req.query("cursor")||void 0;if(!U||U&&U<=0)return $.json("Invalid limit",400);try{let G=await $.var.inspector.accessors.getAllActors({limit:U,cursor:X});return $.json(G,200)}catch(G){return GG().error({msg:"Failed to fetch actors",error:G}),$.json("Failed to fetch actors",500)}}).post("/actors",mU("json",X3),async($)=>{let U=await $.var.inspector.accessors.createActor(await $.req.json());return $.json(U,201)}).get("/builds",async($)=>{let U=await $.var.inspector.accessors.getBuilds();return $.json(U,200)}).get("/actor/:id",async($)=>{let U=$.req.param("id"),X=await $.var.inspector.accessors.getActorById(U);if(!X)return $.json({error:"Actor not found"},404);return $.json(X,200)}).get("/bootstrap",async($)=>{let U=await $.var.inspector.accessors.getAllActors({limit:10});return $.json({actors:U},200)})}var Vd=class{accessors;constructor($){this.accessors=$(),GG().debug({msg:"Manager Inspector enabled and ready"})}},Bd=class{#$;#U;#X;#G;#J;#Q;inspector;constructor($,U,X,G){if(this.#$=$,this.#U=U,this.#X=X,this.#G=G,U.inspector.enabled){let Q=function(N){return{id:N.actorId,name:N.name,key:N.key,startedAt:w,createdAt:new Date(Number(N.createdAt)).toISOString(),features:["state","connections","console","events-monitoring","database"]}};var J=Q;let w=new Date().toISOString();this.inspector=new Vd(()=>{return{getAllActors:async({cursor:N,limit:j})=>{let H=this.#X.getActorsIterator({cursor:N}),K=[];for await(let z of H)if(K.push(Q(z)),j&&K.length>=j)break;return K},getActorById:async(N)=>{try{let j=await this.#X.loadActorStateOrError(N);return Q(j)}catch{return null}},getBuilds:async()=>{return Object.keys(this.#$.use).map((N)=>({name:N}))},createActor:async(N)=>{let{actorId:j}=await this.createActor(N);try{let H=await this.#X.loadActorStateOrError(j);return Q(H)}catch{return null}}}})}let Y=sY(this,XW.parse({}));this.#J=this.#G.actor($,U,this,Y),this.#Q=MB(this.#U,this.#J,$.test.enabled)}async sendRequest($,U){return await this.#Q.fetch(U,{actorId:$})}async openWebSocket($,U,X,G){let J=$.split("?")[0],Y=J.startsWith("/")?J:`/${J}`,Q=await NX(void 0,Y,{},this.#U,this.#J,U,X,G,void 0,void 0,!1,!1);return new IE(Q)}async proxyRequest($,U,X){return await this.#Q.fetch(U,{actorId:X})}async proxyWebSocket($,U,X,G,J){var Y,Q;let w=(Q=(Y=this.#U).getUpgradeWebSocket)==null?void 0:Q.call(Y);VB.default(w,"missing getUpgradeWebSocket");let N=U.split("?")[0],j=N.startsWith("/")?N:`/${N}`,H=await NX($.req.raw,j,$.req.header(),this.#U,this.#J,X,G,J,void 0,void 0,!1,!1);return w(()=>H)($,Y0())}async getForId({actorId:$}){let U=await this.#X.loadActor($);if(!U.state)return;if(this.#X.isActorStopping($))throw new U_($);try{return{actorId:$,name:U.state.name,key:U.state.key}}catch(X){y$().error({msg:"failed to read actor state",actorId:$,error:X});return}}async getWithKey({name:$,key:U}){let X=QB($,U);if((await this.#X.loadActor(X)).state)return{actorId:X,name:$,key:U};return}async getOrCreateWithKey($){let U=QB($.name,$.key),X=await this.#X.loadOrCreateActor(U,$.name,$.key,$.input);return VB.default(X.state,"must have state"),{actorId:X.state.actorId,name:X.state.name,key:X.state.key}}async createActor({name:$,key:U,input:X}){let G=QB($,U);return await this.#X.createActor(G,$,U,X),{actorId:G,name:$,key:U}}async listActors({name:$}){let U=[],X=this.#X.getActorsIterator({});for await(let G of X)if(G.name===$)U.push({actorId:G.actorId,name:G.name,key:G.key,createTs:Number(G.createdAt)});return U.sort((G,J)=>{let Y=G.createTs??0;return(J.createTs??0)-Y}),U}displayInformation(){return{name:this.#X.persist?"File System":"Memory",properties:{...this.#X.persist?{Data:this.#X.storagePath}:{},Instances:this.#X.actorCountOnStartup.toString()}}}extraStartupLog(){return{instances:this.#X.actorCountOnStartup,data:this.#X.storagePath}}getOrCreateInspectorAccessToken(){return this.#X.getOrCreateInspectorAccessToken()}};function _d($=!0,U){TE();let X=new zd($,U),G={name:$?"file-system":"memory",manager:(J,Y)=>new Bd(J,Y,X,G),actor:(J,Y,Q,w)=>{let N=new ap(J,Y,Q,w,X);return X.onRunnerStart(J,Y,w,N),N}};return G}function Md($){if($.endpoint&&$.driver)throw new EQ("Cannot specify both 'endpoint' and 'driver' in configuration");if($.driver)return $.driver;if($.endpoint||$.token||$.runnerKind==="serverless")return c4().debug({msg:"using rivet engine driver",endpoint:$.endpoint}),RE();return c4().debug({msg:"using default file system driver"}),_d(!0)}function w6(){return W6("engine-process")}var hE=6420,gE=`http://localhost:${hE}`,Fd="https://releases.rivet.gg/engine",BB="rivet-engine";async function Ld($){TE(),w6().debug({msg:"ensuring engine process",version:$.version});let U=t6(),X=xE(),G=U.join(X,"bin"),J=U.join(X,"var"),Y=U.join(J,"logs","rivet-engine");await wX(G),await wX(J),await wX(Y);let Q=process.platform==="win32"?`${BB}-${$.version}.exe`:`${BB}-${$.version}`,w=U.join(G,Q);if(await Ad(w,$.version,J),await Pd())try{await DE(),w6().debug({msg:"engine already running and healthy",version:$.version});return}catch(B){throw w6().warn({msg:"existing engine process not healthy, cannot restart automatically",error:B}),Error("Engine process exists but is not healthy. Please manually stop the process on port 6420 and retry.")}let N=new Date().toISOString().replace(/:/g,"-").replace(/\./g,"-"),j=U.join(Y,`engine-${N}-stdout.log`),H=U.join(Y,`engine-${N}-stderr.log`),K=d1(),z=K.createWriteStream(j,{flags:"a"}),W=K.createWriteStream(H,{flags:"a"});w6().debug({msg:"creating engine log files",stdout:j,stderr:H});let D=rp().spawn(w,["start"],{cwd:U.dirname(w),stdio:["inherit","pipe","pipe"],env:{...process.env}});if(!D.pid)throw Error("failed to spawn rivet engine process");if(D.stdout)D.stdout.pipe(z);if(D.stderr)D.stderr.pipe(W);w6().debug({msg:"spawned engine process",pid:D.pid,cwd:U.dirname(w)}),D.once("exit",(B,v)=>{w6().warn({msg:"engine process exited, please report this error",code:B,signal:v,issues:"https://github.com/rivet-dev/rivetkit/issues",support:"https://rivet.dev/discord"}),z.end(),W.end()}),D.once("error",(B)=>{w6().error({msg:"engine process failed",error:B}),z.end(),W.end()}),await DE(),w6().info({msg:"engine process started",pid:D.pid,version:$.version,logs:{stdout:j,stderr:H}})}async function Ad($,U,X){if(await Sd($)){w6().debug({msg:"engine binary already cached",version:U,path:$});return}let{targetTriplet:J,extension:Y}=qd(),Q=`${BB}-${J}${Y}`,w=`${Fd}/${U}/${Q}`;w6().info({msg:"downloading engine binary",url:w,path:$,version:U});let N=await fetch(w);if(!N.ok||!N.body)throw Error(`failed to download rivet engine binary from ${w}: ${N.status} ${N.statusText}`);let j=jX(),H=`${$}.${j.randomUUID()}.tmp`,K=Date.now();w6().debug({msg:"starting binary download",tempPath:H,contentLength:N.headers.get("content-length")});let z=setTimeout(()=>{w6().warn({msg:"engine binary download is taking longer than expected, please be patient",version:U})},5000);try{let W=tp(),O=d1();await W.pipeline(N.body,O.createWriteStream(H)),clearTimeout(z);let D=O4(),B=await D.stat(H),v=Date.now()-K;if(process.platform!=="win32")await D.chmod(H,493);await D.rename(H,$),w6().debug({msg:"engine binary download complete",version:U,path:$,size:B.size,durationMs:v}),w6().info({msg:"engine binary downloaded",version:U,path:$})}catch(W){clearTimeout(z),w6().warn({msg:"engine download failed, please report this error",tempPath:H,error:W,issues:"https://github.com/rivet-dev/rivetkit/issues",support:"https://rivet.dev/discord"});try{await O4().unlink(H)}catch(O){}throw W}}function qd(){return vd(process.platform,process.arch)}function vd($,U){switch($){case"darwin":if(U==="arm64")return{targetTriplet:"aarch64-apple-darwin",extension:""};if(U==="x64")return{targetTriplet:"x86_64-apple-darwin",extension:""};break;case"linux":if(U==="x64")return{targetTriplet:"x86_64-unknown-linux-musl",extension:""};break;case"win32":if(U==="x64")return{targetTriplet:"x86_64-pc-windows-gnu",extension:".exe"};break}throw Error(`unsupported platform for rivet engine binary: ${$}/${U}`)}async function Pd(){return await Ed(hE)}async function Ed($){let U;try{U=await fetch(`http://localhost:${$}/health`)}catch(X){return!1}if(U.ok){let X=await U.json();if(X.runtime==="engine")return w6().debug({msg:"rivet engine already running on port",port:$}),!0;else if(X.runtime==="rivetkit")throw w6().error({msg:"another rivetkit process is already running on port",port:$}),Error("RivetKit process already running on port 6420, stop that process and restart this.");else throw Error("Unknown process running on port 6420, cannot identify what it is.")}return!1}async function Sd($){try{return await O4().access($),!0}catch{return!1}}var Zd=1e4,zE=100;async function DE(){let $=Math.ceil(Zd/zE);w6().debug({msg:"waiting for engine health check"});for(let U=0;U<$;U++){try{if((await fetch(`${gE}/health`)).ok){w6().debug({msg:"engine health check passed"});return}}catch(X){if(U===$-1)throw Error(`engine health check failed after ${$} retries: ${X}`)}if(U<$-1)w6().trace({msg:"engine not ready, retrying",attempt:U+1,maxRetries:$}),await new Promise((X)=>setTimeout(X,zE))}throw Error(`engine health check failed after ${$} retries`)}var Id=()=>{return async($,U)=>{let X=$.req.header("origin")||"*";if($.req.method==="OPTIONS"){let G=$.req.header("access-control-request-headers")||"*";if($.header("access-control-allow-origin",X),$.header("access-control-allow-credentials","true"),$.header("access-control-allow-methods","GET, POST, PUT, DELETE, OPTIONS, PATCH"),$.header("access-control-allow-headers",G),$.header("access-control-expose-headers","*"),$.header("access-control-max-age","86400"),X!=="*")$.header("vary","Origin");return $.res.headers.delete("content-length"),$.res.headers.delete("content-type"),$.body(null,204)}if(await U(),$.header("access-control-allow-origin",X),$.header("access-control-allow-credentials","true"),$.header("access-control-expose-headers","*"),X!=="*")$.header("vary","Origin")}},VE=V.string(),AB=V.object({actor_id:VE,name:V.string(),key:V.string(),namespace_id:VE,runner_name_selector:V.string(),create_ts:V.number(),connectable_ts:V.number().nullable().optional(),destroy_ts:V.number().nullable().optional(),sleep_ts:V.number().nullable().optional(),start_ts:V.number().nullable().optional()}),Rd=V.object({metadata:V.record(V.string(),V.unknown())}),Td=V.object({actors:V.array(AB)}),kd=V.object({datacenter:V.string().optional(),name:V.string(),runner_name_selector:V.string(),crash_policy:V.string(),key:V.string().nullable().optional(),input:V.string().nullable().optional()}),Cd=V.object({actor:AB}),xd=V.object({datacenter:V.string().optional(),name:V.string(),key:V.string(),runner_name_selector:V.string(),crash_policy:V.string(),input:V.string().nullable().optional()}),fd=V.object({actor:AB,created:V.boolean()}),WX$=V.object({}),hd=V.object({names:V.record(V.string(),Rd)});function A$(){return W6("actor-manager")}async function gd($,U,X,G){var J;if(!((J=$.getUpgradeWebSocket)==null?void 0:J.call($)))throw new IQ;let Q=X.req.header("sec-websocket-protocol"),w,N;if(Q){let K=Q.split(",").map((z)=>z.trim());for(let z of K)if(z.startsWith(q4))w=z.substring(q4.length);else if(z.startsWith(v4))N=decodeURIComponent(z.substring(v4.length))}A$().debug({msg:"proxying websocket to actor via path-based routing",actorId:G.actorId,path:G.remainingPath,encoding:w});let j=w||"json",H=N?JSON.parse(N):void 0;return await U.proxyWebSocket(X,G.remainingPath,G.actorId,j,H)}async function bd($,U,X){A$().debug({msg:"proxying request to actor via path-based routing",actorId:X.actorId,path:X.remainingPath,method:U.req.method});let G=new Headers(U.req.raw.headers),J=new URL(`http://actor${X.remainingPath}`),Y=new Request(J,{method:U.req.raw.method,headers:G,body:U.req.raw.body,signal:U.req.raw.signal,duplex:"half"});return await $.proxyRequest(U,Y,X.actorId)}async function md($,U,X,G){if(X.req.path.startsWith("/.test/"))return G();let J=X.req.path;if($.basePath&&J.startsWith($.basePath)){if(J=J.slice($.basePath.length),!J.startsWith("/"))J="/"+J}let Y=X.req.url.includes("?")?J+X.req.url.substring(X.req.url.indexOf("?")):J,Q=ld(Y);if(Q){if(A$().debug({msg:"routing using path-based actor routing",actorPathInfo:Q}),X.req.header("upgrade")==="websocket")return await gd($,U,X,Q);return await bd(U,X,Q)}if(X.req.header("upgrade")==="websocket")return await ud($,U,X,J);return await yd(U,X,G,J)}async function ud($,U,X,G){var J;if(!((J=$.getUpgradeWebSocket)==null?void 0:J.call($)))throw new IQ;let Q=X.req.header("sec-websocket-protocol"),w,N,j,H;if(Q){let O=Q.split(",").map((D)=>D.trim());for(let D of O)if(D.startsWith(K5))w=D.substring(K5.length);else if(D.startsWith(a2))N=decodeURIComponent(D.substring(a2.length));else if(D.startsWith(q4))j=D.substring(q4.length);else if(D.startsWith(v4))H=decodeURIComponent(D.substring(v4.length))}if(w!=="actor")return X.text("WebSocket upgrade requires target.actor protocol",400);if(!N)throw new ZQ;A$().debug({msg:"proxying websocket to actor",actorId:N,path:G,encoding:j});let K=j||"json",z=H?JSON.parse(H):void 0,W=X.req.url.includes("?")?G+X.req.url.substring(X.req.url.indexOf("?")):G;return await U.proxyWebSocket(X,W,N,K,z)}async function yd($,U,X,G){let J=U.req.header(H5),Y=U.req.header(W5);if(J!=="actor")return X();if(!Y)throw new ZQ;A$().debug({msg:"proxying request to actor",actorId:Y,path:G,method:U.req.method});let Q=new Headers(U.req.raw.headers);Q.delete(H5),Q.delete(W5);let w=new URL(U.req.url),N=new URL(`http://actor${G}${w.search}`),j=new Request(N,{method:U.req.raw.method,headers:Q,body:U.req.raw.body,signal:U.req.raw.signal,duplex:"half"});return await $.proxyRequest(U,j,Y)}function ld($){let U=$.indexOf("?"),X=$.indexOf("#"),G="";if(U!==-1)if(X!==-1&&U<X)G=$.slice(U,X);else G=$.slice(U);let J=$;if(U!==-1)J=$.slice(0,U);else if(X!==-1)J=$.slice(0,X);if(J.includes("//"))return null;let Y=J.split("/").filter((W)=>W.length>0);if(Y.length<2)return null;if(Y[0]!=="gateway")return null;let Q=Y[1];if(Q.length===0)return null;let w,N,j=Q.indexOf("@");if(j!==-1){let W=Q.slice(0,j),O=Q.slice(j+1);if(W.length===0||O.length===0)return null;try{w=decodeURIComponent(W),N=decodeURIComponent(O)}catch(D){return null}}else{try{w=decodeURIComponent(Q)}catch(W){return null}N=void 0}let H=0;for(let W=0;W<2;W++)H+=1+Y[W].length;let K;if(H<J.length)K=J.slice(H);else K="/";let z;if(K.length===0||!K.startsWith("/"))z=`/${K}${G}`;else z=`${K}${G}`;return{actorId:w,token:N,remainingPath:z}}async function cd($){let U=null,{promise:X,resolve:G,reject:J}=A6();try{A$().debug({msg:"awaiting client websocket promise"});let Y=await $;U=Y,A$().debug({msg:"client websocket promise resolved",constructor:Y==null?void 0:Y.constructor.name}),await new Promise((Q,w)=>{let N=()=>{A$().debug({msg:"test websocket connection to actor opened"}),Q()},j=(H)=>{A$().error({msg:"test websocket connection failed",error:H}),w(Error(`Failed to open WebSocket: ${H.message||H}`)),J()};Y.addEventListener("open",N),Y.addEventListener("error",j),Y.addEventListener("message",async(H)=>{var K,z;let W=await X;if(A$().debug({msg:"test websocket connection message from client",dataType:typeof H.data,isBlob:H.data instanceof Blob,isArrayBuffer:H.data instanceof ArrayBuffer,dataConstructor:(z=(K=H.data)==null?void 0:K.constructor)==null?void 0:z.name,dataStr:typeof H.data==="string"?H.data.substring(0,100):void 0}),W.readyState===1)if(H.data instanceof Blob)H.data.arrayBuffer().then((O)=>{A$().debug({msg:"converted client blob to arraybuffer, sending to server",bufferSize:O.byteLength}),W.send(O)}).catch((O)=>{A$().error({msg:"failed to convert blob to arraybuffer",error:O})});else A$().debug({msg:"sending client data directly to server",dataType:typeof H.data,dataLength:typeof H.data==="string"?H.data.length:void 0}),W.send(H.data)}),Y.addEventListener("close",async(H)=>{let K=await X;if(A$().debug({msg:"test websocket connection closed"}),K.readyState!==3)K.close(H.code,H.reason)}),Y.addEventListener("error",async()=>{let H=await X;if(A$().debug({msg:"test websocket connection error"}),H.readyState!==3)H.close(1011,"Error in client websocket")})})}catch(Y){return A$().error({msg:"failed to establish client websocket connection",error:Y}),{onOpen:(Q,w)=>{w.close(1011,"Failed to establish connection")},onMessage:()=>{},onError:()=>{},onClose:()=>{}}}return{onOpen:(Y,Q)=>{A$().debug({msg:"test websocket connection from client opened"}),A$().debug({msg:"clientWs info",constructor:U.constructor.name,hasAddEventListener:typeof U.addEventListener==="function",readyState:U.readyState}),G(Q)},onMessage:(Y)=>{var Q,w;if(A$().debug({msg:"received message from server",dataType:typeof Y.data,isBlob:Y.data instanceof Blob,isArrayBuffer:Y.data instanceof ArrayBuffer,dataConstructor:(w=(Q=Y.data)==null?void 0:Q.constructor)==null?void 0:w.name,dataStr:typeof Y.data==="string"?Y.data.substring(0,100):void 0}),U.readyState===1)if(Y.data instanceof Blob)Y.data.arrayBuffer().then((N)=>{A$().debug({msg:"converted blob to arraybuffer, sending",bufferSize:N.byteLength}),U.send(N)}).catch((N)=>{A$().error({msg:"failed to convert blob to arraybuffer",error:N})});else A$().debug({msg:"sending data directly",dataType:typeof Y.data,dataLength:typeof Y.data==="string"?Y.data.length:void 0}),U.send(Y.data)},onClose:(Y,Q)=>{if(A$().debug({msg:"server websocket closed",wasClean:Y.wasClean,code:Y.code,reason:Y.reason}),Q.close(1000,"hack_force_close"),U&&U.readyState!==U.CLOSED&&U.readyState!==U.CLOSING)U.close(1000,Y.reason)},onError:(Y)=>{if(A$().error({msg:"error in server websocket",error:Y}),U&&U.readyState!==U.CLOSED&&U.readyState!==U.CLOSING)U.close(1011,"Error in server websocket");J()}}}var id=V.object({endpoint:V.string({required_error:"x-rivet-endpoint header is required"}),token:V.string({invalid_type_error:"x-rivet-token header must be a string"}).optional(),totalSlots:V.coerce.number({invalid_type_error:"x-rivet-total-slots header must be a number"}).int("x-rivet-total-slots header must be an integer").gte(1,"x-rivet-total-slots header must be positive"),runnerName:V.string({required_error:"x-rivet-runner-name header is required"}),namespace:V.string({required_error:"x-rivet-namespace-name header is required"})});function DQ($){return{200:{description:"Success",content:{"application/json":{schema:$}}},400:{description:"User error"},500:{description:"Internal error"}}}function BE($){return{required:!0,content:{"application/json":{schema:$}}}}function nd($,U,X,G,J){let Y=new aP({strict:!1}).basePath(U.basePath);if(Y.use("*",qE(A$()),Id()),Y.use("*",XG(async(Q,w)=>{let N=Q.req.header("upgrade"),j=(N==null?void 0:N.toLowerCase())==="websocket";if(Q.req.method==="GET"&&j)Q.header("Sec-WebSocket-Protocol","rivet");await w()})),U.runnerKind==="serverless")pd(G,$,U,X,J,Y);else if(U.runnerKind==="normal")dd($,U,X,Y);else A4(U.runnerKind);return Y.notFound(vE),Y.onError(PE),{router:Y,openapi:Y}}function pd($,U,X,G,J,Y){Y.get("/",(Q)=>{return Q.text(`This is a RivetKit server.

Learn more at https://rivetkit.org`)}),Y.get("/start",async(Q)=>{var w;let N=id.safeParse({endpoint:Q.req.header("x-rivet-endpoint"),token:Q.req.header("x-rivet-token")??void 0,totalSlots:Q.req.header("x-rivet-total-slots"),runnerName:Q.req.header("x-rivet-runner-name"),namespace:Q.req.header("x-rivet-namespace-name")});if(!N.success)throw new PX(((w=N.error.issues[0])==null?void 0:w.message)??"invalid serverless start headers");let{endpoint:j,token:H,totalSlots:K,runnerName:z,namespace:W}=N.data;A$().debug({msg:"received serverless runner start request",endpoint:j,totalSlots:K,runnerName:z,namespace:W});let O=Object.assign({},X);if(O.endpoint=j,O.token=H,O.totalSlots=K,O.runnerName=z,O.namespace=W,O.runnerKey)A$().warn({msg:"runner keys are not supported by serverless runners, this will be overwritten with a random runner key",oldRunnerKey:O.runnerKey}),O.runnerKey=void 0;let D=$.actor(U,O,G,J);return LB.default(D.serverlessHandleStart,"missing serverlessHandleStart on ActorDriver"),await D.serverlessHandleStart(Q)}),Y.get("/health",(Q)=>SE(Q)),Y.get("/metadata",(Q)=>EE(Q,U,X))}function dd($,U,X,G){var J;if(m2(U,"manager")){if(!X.inspector)throw new P2("inspector");G.route("/inspect",new F6().use(f9(U)).use((Y,Q)=>{return Y.set("inspector",X.inspector),Q()}).route("/",Dd()))}G.use("*",md.bind(void 0,U,X)),G.get("/",(Y)=>{return Y.text(`This is a RivetKit server.

Learn more at https://rivetkit.org`)});{let Y=$X({method:"get",path:"/actors",request:{query:V.object({name:V.string().optional(),actor_ids:V.string().optional(),key:V.string().optional()})},responses:DQ(Td)});G.openapi(Y,async(Q)=>{let{name:w,actor_ids:N,key:j}=Q.req.valid("query"),H=N?N.split(",").map((z)=>z.trim()).filter((z)=>z.length>0):void 0,K=[];if(H&&(w||j))return Q.json({error:"Cannot provide both actor_ids and (name + key). Use either actor_ids or (name + key)."},400);if(j&&!w)return Q.json({error:"Name is required when key is provided."},400);if(H){if(H.length>32)return Q.json({error:`Too many actor IDs. Maximum is 32, got ${H.length}.`},400);if(H.length===0)return Q.json({actors:[]});for(let z of H)if(w){let W=await X.getForId({c:Q,name:w,actorId:z});if(W)K.push(W)}else for(let W of Object.keys($.use)){let O=await X.getForId({c:Q,name:W,actorId:z});if(O){K.push(O);break}}}else if(j&&w){let z=await X.getWithKey({c:Q,name:w,key:[j]});if(z)K.push(z)}else{if(!w)return Q.json({error:"Name is required when not using actor_ids."},400);let z=await X.listActors({c:Q,name:w,key:j,includeDestroyed:!1});K.push(...z)}return Q.json({actors:K.map((z)=>VQ(z,U.runnerName))})})}{let Y=$X({method:"get",path:"/actors/names",request:{query:V.object({namespace:V.string()})},responses:DQ(hd)});G.openapi(Y,async(Q)=>{let w=_B($);return Q.json({names:w})})}{let Y=$X({method:"put",path:"/actors",request:{body:BE(xd)},responses:DQ(fd)});G.openapi(Y,async(Q)=>{let w=await Q.req.json(),N=await X.getWithKey({c:Q,name:w.name,key:[w.key]});if(N)return Q.json({actor:VQ(N,U.runnerName),created:!1});let j=await X.getOrCreateWithKey({c:Q,name:w.name,key:[w.key],input:w.input?T$(Buffer.from(w.input,"base64")):void 0,region:void 0});return Q.json({actor:VQ(j,U.runnerName),created:!0})})}{let Y=$X({method:"post",path:"/actors",request:{body:BE(kd)},responses:DQ(Cd)});G.openapi(Y,async(Q)=>{let w=await Q.req.json(),N=await X.createActor({c:Q,name:w.name,key:[w.key||crypto.randomUUID()],input:w.input?T$(Buffer.from(w.input,"base64")):void 0,region:void 0}),j=VQ(N,U.runnerName);return Q.json({actor:j})})}if($.test.enabled)G.post(".test/inline-driver/call",async(Y)=>{let Q=await Y.req.arrayBuffer(),{encoding:w,method:N,args:j}=T$(new Uint8Array(Q));A$().debug({msg:"received inline request",encoding:w,method:N,args:j});let H;try{H={ok:await X[N](...j)}}catch(K){H={err:e6(K,A$(),{},!0)}}return Y.body(E$(H))}),G.get(".test/inline-driver/connect-websocket/*",async(Y)=>{var Q;let w=(Q=U.getUpgradeWebSocket)==null?void 0:Q.call(U);return LB.default(w,"websockets not supported on this platform"),w(async(N)=>{let H=(N.req.header("sec-websocket-protocol")||"").split(/,\s*/),K="",z="bare",W="",O;for(let B of H)if(B.startsWith(a2))K=decodeURIComponent(B.substring(a2.length));else if(B.startsWith(q4))z=B.substring(q4.length);else if(B.startsWith(O5))W=decodeURIComponent(B.substring(O5.length));else if(B.startsWith(v4)){let v=decodeURIComponent(B.substring(v4.length));O=JSON.parse(v)}A$().debug({msg:"received test inline driver websocket",actorId:K,params:O,encodingKind:z,path:W});let D=X.openWebSocket(W,K,z,O);return await cd(D)})(Y,Y0())}),G.all(".test/inline-driver/send-request/*",async(Y)=>{let Q=Y.req.header(VG);if(!Q)return Y.text("Missing required headers",400);let w=Y.req.path.split("/.test/inline-driver/send-request/")[1]||"",N=new URL(Y.req.url),j=w+N.search;A$().debug({msg:"received test inline driver raw http",actorId:Q,path:j,method:Y.req.method});try{return await X.sendRequest(Q,new Request(`http://actor/${j}`,{method:Y.req.method,headers:Y.req.raw.headers,body:Y.req.raw.body,duplex:"half"}))}catch(H){A$().error({msg:"error in test inline raw http",error:B$(H)});let K=e6(H,A$(),{},!0);return Y.json({error:{code:K.code,message:K.message,metadata:K.metadata}},K.statusCode)}}),G.post("/.test/force-disconnect",async(Y)=>{let Q=Y.req.query("actor"),w=Y.req.query("conn");if(!Q||!w)return Y.text("Missing actor or conn query parameters",400);A$().debug({msg:"forcing unclean disconnect",actorId:Q,connId:w});try{let N=await X.sendRequest(Q,new Request(`http://actor/.test/force-disconnect?conn=${w}`,{method:"POST"}));if(!N.ok){let j=await N.text();return Y.text(`Failed to force disconnect: ${j}`,N.status)}return Y.json({success:!0})}catch(N){return A$().error({msg:"error forcing disconnect",error:B$(N)}),Y.text(`Error: ${N}`,500)}});G.get("/health",(Y)=>SE(Y)),G.get("/metadata",(Y)=>EE(Y,$,U)),(J=X.modifyManagerRouter)==null||J.call(X,$,G)}function VQ($,U="default"){return{actor_id:$.actorId,name:$.name,key:rU($.key),namespace_id:"default",runner_name_selector:U,create_ts:$.createTs??Date.now(),connectable_ts:null,destroy_ts:null,sleep_ts:null,start_ts:null}}function a6(){return W6("registry")}async function od($,U){let G;try{G=(await Promise.resolve().then(() => (B2(),YX))).serve}catch(H){a6().error("failed to import @hono/node-server. please run 'npm install @hono/node-server @hono/node-ws'"),process.exit(1)}let J="rivet-adapter-internal",Y;try{Y=(await Promise.resolve().then(() => (B2(),YX))).createNodeWebSocket}catch(H){a6().error("failed to import @hono/node-ws. please run 'npm install @hono/node-server @hono/node-ws'"),process.exit(1)}let{injectWebSocket:Q,upgradeWebSocket:w}=Y({app:U}),N=$.defaultServerPort,j=G({fetch:U.fetch,port:N},()=>a6().info({msg:"server listening",port:N}));return Q(j),{upgradeWebSocket:w}}var bE=class{#$;get config(){return this.#$}constructor($){this.#$=$}start($){var U,X,G;let J=M3.parse($);if(J.autoConfigureServerless&&J.runnerKind!=="serverless")throw Error("autoConfigureServerless can only be configured when runnerKind is 'serverless'");let Y=[];if(J.runnerKind==="serverless")a6().debug("disabling health check since using serverless"),J.disableMetadataLookup=!0;if(J.runnerKind==="serverless"){if(($==null?void 0:$.runEngine)===void 0)J.runEngine=!0;if(($==null?void 0:$.autoConfigureServerless)===void 0)J.autoConfigureServerless=!0}if(J.runEngine){a6().debug({msg:"run engine requested",version:J.runEngineVersion}),fE.default(J.endpoint===void 0,"cannot specify 'endpoint' with 'runEngine'"),J.endpoint=gE,J.disableActorDriver=!0;let z=Ld({version:J.runEngineVersion});Y.push(z)}if(J.runnerKind==="serverless")J.defaultServerPort=8080,J.overrideServerAddress=J.endpoint,J.disableActorDriver=!0;if((U=J.logging)==null?void 0:U.baseLogger)DF(J.logging.baseLogger);else Z9((X=J.logging)==null?void 0:X.level);let Q=Md(J);if(Q.name==="engine"){if(J.inspector.enabled={manager:!1,actor:!0},J.runnerKind!=="serverless")J.disableDefaultServer=!0}if(Q.name==="cloudflare-workers")J.inspector.enabled={manager:!1,actor:!0},J.disableDefaultServer=!0,J.disableActorDriver=!0,J.noWelcome=!0;let w;if(!J.getUpgradeWebSocket)J.getUpgradeWebSocket=()=>w;let N=Q.manager(this.#$,J);LF(J,N);let j=sY(N,J),H=((G=N.extraStartupLog)==null?void 0:G.call(N))??{};if(a6().info({msg:"rivetkit ready",driver:Q.name,definitions:Object.keys(this.#$.use).length,...H}),m2(J,"manager")&&N.inspector)a6().info({msg:"inspector ready",url:h9(J)});if(!J.noWelcome){let z=N.displayInformation();if(console.log(),console.log(`  RivetKit ${E9.version} (${z.name})`),!J.disableDefaultServer)console.log(`  - Endpoint:     ${u1(J)}`);else if(J.overrideServerAddress)console.log(`  - Endpoint:     ${J.overrideServerAddress}`);if(J.runEngine){let W=" ".repeat(Math.max(0,7));console.log(`  - Engine:${W}v${J.runEngineVersion}`)}for(let[W,O]of Object.entries(z.properties)){let D=" ".repeat(Math.max(0,13-W.length));console.log(`  - ${W}:${D}${O}`)}if(m2(J,"manager")&&N.inspector)console.log(`  - Inspector:    ${h9(J)}`);console.log()}let{router:K}=nd(this.#$,J,N,Q,j);if(!J.disableDefaultServer){let z=(async()=>{w=(await od(J,K)).upgradeWebSocket})();Y.push(z)}if(!J.disableActorDriver)Promise.all(Y).then(async()=>{a6().debug("starting actor driver"),Q.actor(this.#$,J,N,j)});if(J.runnerKind==="serverless"&&J.autoConfigureServerless)Promise.all(Y).then(async()=>{await rd(J)});return{client:j,fetch:K.fetch.bind(K)}}};async function rd($){a6().debug("configuring serverless runner");try{if(!$.runnerName)throw Error("runnerName is required for serverless configuration");if(!$.namespace)throw Error("namespace is required for serverless configuration");if(!$.endpoint)throw Error("endpoint is required for serverless configuration");let U=typeof $.autoConfigureServerless==="object"?$.autoConfigureServerless:{},X={endpoint:$.endpoint,token:$.token,namespace:$.namespace,runnerName:$.runnerName,encoding:$.encoding,headers:$.headers,getUpgradeWebSocket:$.getUpgradeWebSocket,disableMetadataLookup:!0};a6().debug({msg:"fetching datacenters",endpoint:$.endpoint});let G=await $v(X);a6().debug({msg:"configuring serverless runner",runnerName:$.runnerName,namespace:$.namespace});let J={serverless:{url:U.url||`http://localhost:${$.defaultServerPort}`,headers:U.headers||{},max_runners:U.maxRunners??100,min_runners:U.minRunners??0,request_lifespan:U.requestLifespan??900,runners_margin:U.runnersMargin??0,slots_per_runner:U.slotsPerRunner??$.totalSlots??1000},metadata:U.metadata??{}};await Uv(X,$.runnerName,{datacenters:Object.fromEntries(G.datacenters.map((Y)=>[Y.name,J]))}),a6().info({msg:"serverless runner configured successfully",runnerName:$.runnerName,namespace:$.namespace})}catch(U){a6().error({msg:"failed to configure serverless runner, validate endpoint is configured correctly then restart this process",error:U})}}function qB($){let U=AE.parse($);return new bE(U)}//! These configs configs hold anything that's not platform-specific about running actors.
var td=FB({state:{count:0},actions:{increment:($,U)=>{return $.state.count+=U,$.broadcast("newCount",$.state.count),$.state.count}}}),mE=qB({use:{counter:td},disableDefaultServer:!0});B2();var{fetch:ad}=mE.start(),HX=new F6;HX.get("/",async($)=>{let U=Bun.file("client/dist/index.html");if(await U.exists()){let X=await U.arrayBuffer();return new Response(X,{headers:{"Content-Type":"text/html"}})}});HX.get("/assets/*",async($)=>{let U=$.req.path,X=Bun.file(`client/dist${U}`);if(await X.exists()){let G=await X.arrayBuffer();return new Response(G,{headers:{"Content-Type":X.type}})}});HX.get("/vite.svg",async($)=>{let U=Bun.file("client/dist/vite.svg");if(await U.exists()){let X=await U.arrayBuffer();return new Response(X,{headers:{"Content-Type":"image/svg+xml"}})}});HX.mount("/",ad);var uE=OQ({fetch:HX.fetch,port:6420},()=>{console.log("Server running on http://localhost:6420"),console.log("- Frontend: http://localhost:6420/"),console.log("- RivetKit: http://localhost:6420/actors")});YB(($,U)=>{if(console.log("[Server] Injecting WebSocket handler into real server (async capture)"),uE)U(uE)});
